[
    {
        "id": "32e7e467ef5bdb86",
        "type": "tab",
        "label": "INTERFAZ WELL DATA",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "7aafb8f9b85dc734",
        "type": "tab",
        "label": "NIVELES TANQUES",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "6cd83c021871d75e",
        "type": "tab",
        "label": "Test Interface",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "42140d31b965bd51",
        "type": "tab",
        "label": "Obtiene Interfaces",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "8c922d743060092b",
        "type": "MSSQL-CN",
        "tdsVersion": "7_4",
        "name": "LOCAL SGIPAPP",
        "server": "SGIPAPP\\SGIPAPP",
        "port": "1433",
        "encyption": true,
        "trustServerCertificate": true,
        "database": "perforador",
        "useUTC": true,
        "connectTimeout": "15000",
        "requestTimeout": "15000",
        "cancelTimeout": "5000",
        "pool": "5",
        "parseJSON": false,
        "enableArithAbort": true
    },
    {
        "id": "af3a3f5145cd0651",
        "type": "MSSQL-CN",
        "tdsVersion": "7_4",
        "name": "BASE PERFORADORES",
        "server": "SGIPAPP\\SGIPAPP",
        "port": "1433",
        "encyption": true,
        "trustServerCertificate": true,
        "database": "perforador",
        "useUTC": true,
        "connectTimeout": "15000",
        "requestTimeout": "15000",
        "cancelTimeout": "5000",
        "pool": "5",
        "parseJSON": false,
        "enableArithAbort": true,
        "readOnlyIntent": false
    },
    {
        "id": "fd548ee37fee356f",
        "type": "MSSQL-CN",
        "tdsVersion": "7_4",
        "name": "PRUEBA",
        "server": "SGIPAPP.LAM.DOMAIN\\SGIPAPP",
        "port": "1433",
        "encyption": true,
        "trustServerCertificate": true,
        "database": "perforador",
        "useUTC": true,
        "connectTimeout": "15000",
        "requestTimeout": "15000",
        "cancelTimeout": "5000",
        "pool": "5",
        "parseJSON": false,
        "enableArithAbort": true,
        "readOnlyIntent": false
    },
    {
        "id": "84aa7bcfaff34189",
        "type": "ui_tab",
        "name": "NIVELES GAS OIL",
        "icon": "dashboard",
        "disabled": false,
        "hidden": false
    },
    {
        "id": "2f90352dc4d0d8dc",
        "type": "ui_base",
        "theme": {
            "name": "theme-light",
            "lightTheme": {
                "default": "#0094CE",
                "baseColor": "#0094CE",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "darkTheme": {
                "default": "#097479",
                "baseColor": "#097479",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": false
            },
            "customTheme": {
                "name": "Untitled Theme 1",
                "default": "#4B7930",
                "baseColor": "#4B7930",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
            },
            "themeState": {
                "base-color": {
                    "default": "#0094CE",
                    "value": "#0094CE",
                    "edited": false
                },
                "page-titlebar-backgroundColor": {
                    "value": "#0094CE",
                    "edited": false
                },
                "page-backgroundColor": {
                    "value": "#fafafa",
                    "edited": false
                },
                "page-sidebar-backgroundColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "group-textColor": {
                    "value": "#1bbfff",
                    "edited": false
                },
                "group-borderColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "group-backgroundColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "widget-textColor": {
                    "value": "#111111",
                    "edited": false
                },
                "widget-backgroundColor": {
                    "value": "#0094ce",
                    "edited": false
                },
                "widget-borderColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "base-font": {
                    "value": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
                }
            },
            "angularTheme": {
                "primary": "indigo",
                "accents": "blue",
                "warn": "red",
                "background": "grey",
                "palette": "light"
            }
        },
        "site": {
            "name": "Node-RED Dashboard",
            "hideToolbar": "false",
            "allowSwipe": "false",
            "lockMenu": "false",
            "allowTempTheme": "true",
            "dateFormat": "DD/MM/YYYY",
            "sizes": {
                "sx": 48,
                "sy": 48,
                "gx": 6,
                "gy": 6,
                "cx": 6,
                "cy": 6,
                "px": 0,
                "py": 0
            }
        }
    },
    {
        "id": "6243850b622416b6",
        "type": "ui_group",
        "name": "DLS165",
        "tab": "84aa7bcfaff34189",
        "order": 3,
        "disp": false,
        "width": "4",
        "collapse": false,
        "className": ""
    },
    {
        "id": "d6246002fee954e5",
        "type": "ui_group",
        "name": "DLS161",
        "tab": "84aa7bcfaff34189",
        "order": 1,
        "disp": false,
        "width": "4",
        "collapse": false,
        "className": ""
    },
    {
        "id": "404054f22ba9d762",
        "type": "ui_group",
        "name": "DLS166",
        "tab": "84aa7bcfaff34189",
        "order": 4,
        "disp": false,
        "width": "4",
        "collapse": false,
        "className": ""
    },
    {
        "id": "8948b1d433f0cbe5",
        "type": "ui_group",
        "name": "DLS167",
        "tab": "84aa7bcfaff34189",
        "order": 5,
        "disp": false,
        "width": "4",
        "collapse": false,
        "className": ""
    },
    {
        "id": "cdb370f0b00eb412",
        "type": "ui_group",
        "name": "DLS169",
        "tab": "84aa7bcfaff34189",
        "order": 7,
        "disp": false,
        "width": "4",
        "collapse": false,
        "className": ""
    },
    {
        "id": "17441489140318bf",
        "type": "ui_group",
        "name": "DLS170",
        "tab": "84aa7bcfaff34189",
        "order": 8,
        "disp": false,
        "width": "4",
        "collapse": false,
        "className": ""
    },
    {
        "id": "2106fc816d1c5658",
        "type": "ui_group",
        "name": "DLS163",
        "tab": "84aa7bcfaff34189",
        "order": 2,
        "disp": false,
        "width": "4",
        "collapse": false,
        "className": ""
    },
    {
        "id": "2c7395181af92377",
        "type": "ui_group",
        "name": "DLS168",
        "tab": "84aa7bcfaff34189",
        "order": 6,
        "disp": false,
        "width": "4",
        "collapse": false,
        "className": ""
    },
    {
        "id": "55ca23fc7834c91e",
        "type": "ui_group",
        "name": "PAE001",
        "tab": "84aa7bcfaff34189",
        "order": 9,
        "disp": false,
        "width": "4",
        "collapse": false,
        "className": ""
    },
    {
        "id": "7cee42f455643381",
        "type": "inject",
        "z": "32e7e467ef5bdb86",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "120",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 360,
        "wires": [
            [
                "1e32490ccb64cecf",
                "abe93d8ac2bd3ac8"
            ]
        ]
    },
    {
        "id": "f8253634d7bfae4e",
        "type": "http request",
        "z": "32e7e467ef5bdb86",
        "name": "GetToken",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "https://data.welldata.net/api/v1/tokens/token",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "basic",
        "senderr": false,
        "headers": [
            {
                "keyType": "other",
                "keyValue": "ApplicationID",
                "valueType": "other",
                "valueValue": "E4FC9AEB-0CF9-481C-99F6-A4FA8A5D11C9"
            }
        ],
        "x": 340,
        "y": 120,
        "wires": [
            [
                "1384a8326a9e64cb",
                "8425cf2ef3bb3f20"
            ]
        ]
    },
    {
        "id": "03bc6a661aa3b35a",
        "type": "http request",
        "z": "32e7e467ef5bdb86",
        "name": "PostInfo165",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "basic",
        "senderr": true,
        "headers": [
            {
                "keyType": "Accept",
                "keyValue": "",
                "valueType": "application/json",
                "valueValue": ""
            },
            {
                "keyType": "other",
                "keyValue": "token",
                "valueType": "msg",
                "valueValue": "token"
            }
        ],
        "x": 650,
        "y": 580,
        "wires": [
            [
                "d7a20e1dcc468aa7",
                "56c89b60c855f22d"
            ]
        ],
        "info": "{\r\n  \"attributes\": [\r\n    {\r\n      \"id\": \"Spare39\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Volume.Cubic meter.0\"\r\n    },\r\n\t{\r\n      \"id\": \"Spare59\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    },\r\n\t{\r\n      \"id\": \"RS-1342177397\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    },\r\n\t{\r\n      \"id\": \"RS-1342177398\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    }\r\n  ],\r\n  \"fromTime\": \"2023-01-05T19:58:35.336Z\",\r\n  \"toTime\": \"2023-01-05T19:58:36.336Z\",\r\n  \"interval\": 1,\r\n  \"isDifferential\": true\r\n}"
    },
    {
        "id": "1384a8326a9e64cb",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "saveToken",
        "func": "global.set(\"token\", msg.payload.token);\n//return msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 650,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "58b784240492a9c4",
        "type": "comment",
        "z": "32e7e467ef5bdb86",
        "name": "API WELLDATA",
        "info": "",
        "x": 100,
        "y": 60,
        "wires": []
    },
    {
        "id": "92428aee57db67f7",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "parametros 165",
        "func": "let horaD = global.get(\"horaDesde\");\nlet horaH = global.get(\"horaHasta\");\nmsg.token = global.get(\"token\");\nmsg.payload = {\n    \"attributes\": [\n        {\n            \"id\": \"Spare39\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Volume.Cubic meter.0\"\n        },\n        {\n            \"id\": \"Spare59\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Hour.2\"\n        },\n        {\n            \"id\": \"RS-1342177397\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Hour.2\"\n        },\n        {\n            \"id\": \"RS-1342177398\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Hour.2\"\n        },\n        {\n            \"id\": \"PumpSpm\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n        {\n            \"id\": \"PumpSpm2\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n        {\n            \"id\": \"PumpSpm3\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        }\n    ],\n    \"fromTime\": horaD,\n    \"toTime\": horaH,\n    \"interval\": 1,\n    \"isDifferential\": true\n}\nlet job = global.get(\"165\");\nmsg.urlWellData = \"https://data.welldata.net/api/v1/jobs/\"+job.jobId+\"/data/time\";\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 260,
        "y": 580,
        "wires": [
            [
                "fb774c1cfbb3191c"
            ]
        ]
    },
    {
        "id": "6791ebd017a359d6",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "horaDesde",
        "func": "global.set(\"horaDesde\",msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 570,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "abe93d8ac2bd3ac8",
        "type": "delay",
        "z": "32e7e467ef5bdb86",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 300,
        "y": 400,
        "wires": [
            [
                "90852827a58dfae2"
            ]
        ]
    },
    {
        "id": "a69d0ea21b0ec7d8",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "horaHasta",
        "func": "global.set(\"horaHasta\",msg.payload);\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 400,
        "wires": [
            [
                "d9e95919cc9a643c"
            ]
        ]
    },
    {
        "id": "e8adeea407554387",
        "type": "inject",
        "z": "32e7e467ef5bdb86",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "900",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 90,
        "y": 120,
        "wires": [
            [
                "f8253634d7bfae4e"
            ]
        ]
    },
    {
        "id": "6fa5e6dfc51e1d67",
        "type": "http request",
        "z": "32e7e467ef5bdb86",
        "name": "GetJobs",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "https://data.welldata.net/api/v1/jobs?jobStatus=ActiveJobs",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "basic",
        "senderr": true,
        "headers": [
            {
                "keyType": "Accept",
                "keyValue": "",
                "valueType": "application/json",
                "valueValue": ""
            },
            {
                "keyType": "other",
                "keyValue": "token",
                "valueType": "msg",
                "valueValue": "token"
            }
        ],
        "x": 400,
        "y": 220,
        "wires": [
            [
                "0ac906e0b918dee0"
            ]
        ],
        "info": "{\r\n  \"attributes\": [\r\n    {\r\n      \"id\": \"Spare39\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Volume.Cubic meter.0\"\r\n    },\r\n\t{\r\n      \"id\": \"Spare59\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    },\r\n\t{\r\n      \"id\": \"RS-1342177397\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    },\r\n\t{\r\n      \"id\": \"RS-1342177398\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    }\r\n  ],\r\n  \"fromTime\": \"2023-01-05T19:58:35.336Z\",\r\n  \"toTime\": \"2023-01-05T19:58:36.336Z\",\r\n  \"interval\": 1,\r\n  \"isDifferential\": true\r\n}"
    },
    {
        "id": "f257a21278b0ebb3",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "setup",
        "func": "msg.token = global.get(\"token\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 250,
        "y": 220,
        "wires": [
            [
                "6fa5e6dfc51e1d67"
            ]
        ]
    },
    {
        "id": "0ac906e0b918dee0",
        "type": "split",
        "z": "32e7e467ef5bdb86",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 570,
        "y": 220,
        "wires": [
            [
                "0c1ce8ba337023aa"
            ]
        ]
    },
    {
        "id": "0c1ce8ba337023aa",
        "type": "split",
        "z": "32e7e467ef5bdb86",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 730,
        "y": 220,
        "wires": [
            [
                "0c373b9cc4f79f8c"
            ]
        ]
    },
    {
        "id": "0c373b9cc4f79f8c",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "jobInfo",
        "func": "let id = msg.payload.id;\nlet name = msg.payload.name;\nlet rigNameAux = msg.payload.assetInfoList[0].name;\nlet rigName = rigNameAux.replace(' ', '');\nlet job = {\n   \"jobId\": id,\n   \"name\": name,\n   \"hsBomba1\":0,\n   \"hsBomba2\": 0,\n   \"hsBomba3\": 0,\n   \"ltsTanque\": 0\n\n};\nglobal.set(rigName,job)\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 890,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "fb774c1cfbb3191c",
        "type": "change",
        "z": "32e7e467ef5bdb86",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "urlWellData",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 450,
        "y": 580,
        "wires": [
            [
                "03bc6a661aa3b35a"
            ]
        ]
    },
    {
        "id": "1e32490ccb64cecf",
        "type": "moment",
        "z": "32e7e467ef5bdb86",
        "name": "",
        "topic": "",
        "input": "payload",
        "inputType": "msg",
        "inTz": "ETC/UTC",
        "adjAmount": "4",
        "adjType": "minutes",
        "adjDir": "subtract",
        "format": "",
        "locale": "es-ES",
        "output": "payload",
        "outputType": "msg",
        "outTz": "Etc/GMT",
        "x": 340,
        "y": 320,
        "wires": [
            [
                "6791ebd017a359d6"
            ]
        ]
    },
    {
        "id": "90852827a58dfae2",
        "type": "moment",
        "z": "32e7e467ef5bdb86",
        "name": "",
        "topic": "",
        "input": "",
        "inputType": "date",
        "inTz": "ETC/UTC",
        "adjAmount": "4",
        "adjType": "minutes",
        "adjDir": "subtract",
        "format": "",
        "locale": "es-ES",
        "output": "payload",
        "outputType": "msg",
        "outTz": "Etc/GMT",
        "x": 540,
        "y": 400,
        "wires": [
            [
                "a69d0ea21b0ec7d8"
            ]
        ]
    },
    {
        "id": "059c11aa5a620bb5",
        "type": "comment",
        "z": "32e7e467ef5bdb86",
        "name": "DLS-165",
        "info": "",
        "x": 100,
        "y": 540,
        "wires": []
    },
    {
        "id": "dce8c9f5985bb3b6",
        "type": "inject",
        "z": "32e7e467ef5bdb86",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "120",
        "crontab": "",
        "once": true,
        "onceDelay": "10",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 90,
        "y": 220,
        "wires": [
            [
                "f257a21278b0ebb3"
            ]
        ]
    },
    {
        "id": "d2d84714ed15b083",
        "type": "switch",
        "z": "32e7e467ef5bdb86",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "false"
            },
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1110,
        "y": 560,
        "wires": [
            [],
            [
                "f3277ab6b3ef2aeb",
                "e14ba4d5fd482a17"
            ]
        ]
    },
    {
        "id": "f3277ab6b3ef2aeb",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "actualizaHsPiezas",
        "func": "let perforador = global.get(\"165\");\nlet hsBomba1 = perforador.hsBomba1;\nlet hsBomba2 = perforador.hsBomba2;\nlet hsBomba3 = perforador.hsBomba3;\nmsg.payload = \"BEGIN update [perforador].[dbo].[perforadorPieza] set hs=hs+(\" + hsBomba1 + \"-hsInst),hsInst=\" + hsBomba1 + \" where baja=0 and enUso=1 and bomba=1 and perforador='165' and \" + hsBomba1 + \">hsInst; update [perforador].[dbo].[perforadorPieza] set hs=hs+(\" + hsBomba2 + \"-hsInst),hsInst=\" + hsBomba2 + \" where baja=0 and enUso=1 and bomba=2 and perforador='165' and \" + hsBomba2 + \">hsInst; update [perforador].[dbo].[perforadorPieza] set hs=hs+(\" + hsBomba3 + \"-hsInst),hsInst=\" + hsBomba3 + \" where baja=0 and enUso=1 and bomba=3 and perforador='165' and \" + hsBomba3 + \">hsInst;update [perforador].[dbo].[perforadorPieza] set hs= \" + hsBomba1 + \"+hs, hsInst=\" + hsBomba1 + \"where baja=0 and enUso=1 and bomba=1 and perforador='165' and  FLOOR(\" + hsBomba1 + \")< FLOOR(hsInst) AND \" + hsBomba1 + \">0 ; update [perforador].[dbo].[perforadorPieza] set hs= \" + hsBomba2 + \"+hs, hsInst=\" + hsBomba2 + \"where baja=0 and enUso=1 and bomba=2 and perforador='165' and  FLOOR(\" + hsBomba2 + \")< FLOOR(hsInst) AND \" + hsBomba2 + \">0; update [perforador].[dbo].[perforadorPieza] set hs= \" + hsBomba3 + \"+hs, hsInst=\" + hsBomba3 + \"where baja=0 and enUso=1 and bomba=3 and perforador='165' and  FLOOR(\" + hsBomba3 + \")< FLOOR(hsInst) AND \" + hsBomba3 +\">0; END\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1350,
        "y": 560,
        "wires": [
            [
                "8b4305c558073b39"
            ]
        ]
    },
    {
        "id": "9354da89eb0bb269",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "actualizaLogWellData",
        "func": "let perforador = global.get(\"165\");\nlet jobId=perforador.jobId;\nlet hsBomba1 = perforador.hsBomba1;\nlet hsBomba2 = perforador.hsBomba2;\nlet hsBomba3 = perforador.hsBomba3;\nlet on1 = perforador.on1;\nlet on2 = perforador.on2;\nlet on3 = perforador.on3;\nlet lts=perforador.ltsTanque;\nmsg.payload = \"INSERT INTO [dbo].[wellData] ([hsBomba1],[hsBomba2],[hsBomba3],[lts],perforador,jobId,[perforadorStr], [onBomba1], [onBomba2], [onBomba3]) VALUES (\" + hsBomba1 + \",\" + hsBomba2 + \",\" + hsBomba3 + \",\" + lts + \",165,'\" + jobId + \"','165',\" + on1 + \",\" + on2 + \",\" + on3+\")\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1340,
        "y": 640,
        "wires": [
            [
                "8b4305c558073b39"
            ]
        ]
    },
    {
        "id": "e14ba4d5fd482a17",
        "type": "delay",
        "z": "32e7e467ef5bdb86",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1100,
        "y": 640,
        "wires": [
            [
                "9354da89eb0bb269",
                "2499555413c83b42"
            ]
        ]
    },
    {
        "id": "8dfce4e48f781da1",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "actualizaLogHsPiezas",
        "func": "let perforador = global.get(\"165\");\nmsg.payload = \"INSERT INTO [dbo].[logPieza] ([idPerforadorPieza],[hs],[hsInst]) select idPerforadorPieza,hs,hsInst from  [dbo].[perforadorPieza] where enUso=1 and baja=0 and perforador='165'\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1340,
        "y": 720,
        "wires": [
            [
                "8b4305c558073b39"
            ]
        ]
    },
    {
        "id": "2499555413c83b42",
        "type": "delay",
        "z": "32e7e467ef5bdb86",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1080,
        "y": 720,
        "wires": [
            [
                "8dfce4e48f781da1"
            ]
        ]
    },
    {
        "id": "8425cf2ef3bb3f20",
        "type": "debug",
        "z": "32e7e467ef5bdb86",
        "name": "debug 5",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 700,
        "y": 60,
        "wires": []
    },
    {
        "id": "4449e9c0f995c239",
        "type": "http request",
        "z": "32e7e467ef5bdb86",
        "name": "PostInfo156",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "basic",
        "senderr": true,
        "headers": [
            {
                "keyType": "Accept",
                "keyValue": "",
                "valueType": "application/json",
                "valueValue": ""
            },
            {
                "keyType": "other",
                "keyValue": "token",
                "valueType": "msg",
                "valueValue": "token"
            }
        ],
        "x": 650,
        "y": 840,
        "wires": [
            [
                "52582af26049dd72",
                "d52cf30e246ccf08"
            ]
        ],
        "info": "{\r\n  \"attributes\": [\r\n    {\r\n      \"id\": \"Spare39\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Volume.Cubic meter.0\"\r\n    },\r\n\t{\r\n      \"id\": \"Spare59\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    },\r\n\t{\r\n      \"id\": \"RS-1342177397\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    },\r\n\t{\r\n      \"id\": \"RS-1342177398\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    }\r\n  ],\r\n  \"fromTime\": \"2023-01-05T19:58:35.336Z\",\r\n  \"toTime\": \"2023-01-05T19:58:36.336Z\",\r\n  \"interval\": 1,\r\n  \"isDifferential\": true\r\n}"
    },
    {
        "id": "e587cf9cb638655c",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "parametros 156",
        "func": "let horaD = global.get(\"horaDesde\");\nlet horaH = global.get(\"horaHasta\");\nmsg.token = global.get(\"token\");\nmsg.payload = {\n    \"attributes\": [\n        {\n            \"id\": \"Spare\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Minute.1\"\n        },\n        {\n            \"id\": \"Spare2\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Second.0\"\n        },\n\n        {\n            \"id\": \"PumpSpm\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n        {\n            \"id\": \"PumpSpm2\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n        {\n            \"id\": \"PitVolume11\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Volume.Barrel.4\"\n        }\n\n    ],\n    \"fromTime\": horaD,\n    \"toTime\": horaH,\n    \"interval\": 1,\n    \"isDifferential\": true\n}\nlet job = global.get(\"156\");\nmsg.urlWellData = \"https://data.welldata.net/api/v1/jobs/\"+job.jobId+\"/data/time\";\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 260,
        "y": 840,
        "wires": [
            [
                "a807769c35a0db0a"
            ]
        ]
    },
    {
        "id": "a807769c35a0db0a",
        "type": "change",
        "z": "32e7e467ef5bdb86",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "urlWellData",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 450,
        "y": 840,
        "wires": [
            [
                "4449e9c0f995c239"
            ]
        ]
    },
    {
        "id": "92b7f14a3657052b",
        "type": "comment",
        "z": "32e7e467ef5bdb86",
        "name": "DLS-156",
        "info": "",
        "x": 100,
        "y": 780,
        "wires": []
    },
    {
        "id": "52582af26049dd72",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "SetDatosJobs",
        "func": "let jobOld = global.get(\"156\");\nlet fecAct = msg.payload.timeRecords[0].timestamp;\nlet data = msg.payload.timeRecords[0].values;\nlet hs1=0;\nlet hs2=0;\nlet hs1Aux=0;\nlet hs2Aux = 0;\nlet on1=0;\nlet on2=0;\nlet actualiza=false;\nlet lts=0;\n\ntry {\n    hs1Aux = (data[0][1].toFixed(1) * 1)/60;\n    // @ts-ignore\n    hs1 = hs1Aux.toFixed(1) * 1;\n  \n}catch{}\ntry {\n    hs2Aux = (data[1][1].toFixed(1) * 1) / 3600;\n    // @ts-ignore\n    hs2 = hs2Aux.toFixed(1) * 1;\n  \n} catch { }\n\ntry {\n    on1 = data[2][1].toFixed(0) * 1;\n} catch { }\ntry {\n    on2 = data[3][1].toFixed(0) * 1;\n} catch { }\ntry {\n    lts = data[4][1].toFixed(3)*159;\n} catch { }\n\n\nif ( hs1 != 0 || hs2 != 0){\n    actualiza=true;\n    let job = {\n        \"jobId\": jobOld.jobId,\n        \"name\": jobOld.name,\n        \"hsBomba1\": hs1,\n        \"hsBomba2\": hs2,\n        \"factu\": fecAct,\n        \"on1\": on1,\n        \"on2\": on2,\n        \"ltsTanque\": lts\n\n    };\n    global.set(\"156\", job);\n}\nmsg.payload=actualiza;\nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 840,
        "y": 840,
        "wires": [
            [
                "ac3ca6b309aea9b8"
            ]
        ]
    },
    {
        "id": "ac3ca6b309aea9b8",
        "type": "switch",
        "z": "32e7e467ef5bdb86",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "false"
            },
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1050,
        "y": 840,
        "wires": [
            [],
            [
                "ff961475da0e811f",
                "58b29652b89e8b46"
            ]
        ]
    },
    {
        "id": "ff961475da0e811f",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "actualizaHsPiezas",
        "func": "let perforador = global.get(\"156\");\nlet hsBomba1 = perforador.hsBomba1;\nlet hsBomba2 = perforador.hsBomba2;\nmsg.payload = \"BEGIN update [perforador].[dbo].[perforadorPieza] set hs=hs+(\" + hsBomba1 + \"-hsInst),hsInst=\" + hsBomba1 + \" where baja=0 and enUso=1 and bomba=1 and perforador='156' and \" + hsBomba1 + \">hsInst; update [perforador].[dbo].[perforadorPieza] set hs=hs+(\" + hsBomba2 + \"-hsInst),hsInst=\" + hsBomba2 + \" where baja=0 and enUso=1 and bomba=2 and perforador='156' and \" + hsBomba2 + \">hsInst; update [perforador].[dbo].[perforadorPieza] set hs= \" + hsBomba1 + \"+hs, hsInst=\" + hsBomba1 + \"where baja=0 and enUso=1 and bomba=1 and perforador='156' and  FLOOR(\" + hsBomba1 + \")< FLOOR(hsInst) AND \" + hsBomba1 + \">0 ; update [perforador].[dbo].[perforadorPieza] set hs= \" + hsBomba2 + \"+hs, hsInst=\" + hsBomba2 + \"where baja=0 and enUso=1 and bomba=2 and perforador='156' and  FLOOR(\" + hsBomba2 + \")< FLOOR(hsInst) AND \" + hsBomba2 + \">0; END\";\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1290,
        "y": 840,
        "wires": [
            [
                "df898860cb307318"
            ]
        ]
    },
    {
        "id": "97fb70fbdbdadd43",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "actualizaLogWellData",
        "func": "let perforador = global.get(\"156\");\nlet jobId=perforador.jobId;\nlet hsBomba1 = perforador.hsBomba1;\nlet hsBomba2 = perforador.hsBomba2;\nlet hsBomba3 = 0;\nlet on1 = perforador.on1;\nlet on2 = perforador.on2;\nlet on3 =0;\nlet lts = perforador.ltsTanque;\nmsg.payload = \"INSERT INTO [dbo].[wellData] ([hsBomba1],[hsBomba2],[hsBomba3],[lts],perforador,jobId,[perforadorStr], [onBomba1], [onBomba2], [onBomba3]) VALUES (\" + hsBomba1 + \",\" + hsBomba2 + \",\" + hsBomba3 + \",\" + lts + \",156,'\" + jobId + \"','156',\" + on1 + \",\" + on2 + \",\" + on3+\")\";\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1280,
        "y": 920,
        "wires": [
            [
                "df898860cb307318"
            ]
        ]
    },
    {
        "id": "58b29652b89e8b46",
        "type": "delay",
        "z": "32e7e467ef5bdb86",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1040,
        "y": 920,
        "wires": [
            [
                "97fb70fbdbdadd43",
                "acdadbc3580eca82"
            ]
        ]
    },
    {
        "id": "6af627f9e6065fcf",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "actualizaLogHsPiezas",
        "func": "let perforador = global.get(\"156\");\nmsg.payload = \"INSERT INTO [dbo].[logPieza] ([idPerforadorPieza],[hs],[hsInst]) select idPerforadorPieza,hs,hsInst from  [dbo].[perforadorPieza] where enUso=1 and baja=0 and perforador='156'\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1280,
        "y": 1000,
        "wires": [
            [
                "df898860cb307318"
            ]
        ]
    },
    {
        "id": "acdadbc3580eca82",
        "type": "delay",
        "z": "32e7e467ef5bdb86",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1020,
        "y": 1000,
        "wires": [
            [
                "6af627f9e6065fcf"
            ]
        ]
    },
    {
        "id": "0cf8971308eece50",
        "type": "link in",
        "z": "32e7e467ef5bdb86",
        "name": "link in 156",
        "links": [
            "d9e95919cc9a643c"
        ],
        "x": 85,
        "y": 840,
        "wires": [
            [
                "e587cf9cb638655c"
            ]
        ]
    },
    {
        "id": "d9e95919cc9a643c",
        "type": "link out",
        "z": "32e7e467ef5bdb86",
        "name": "link out Perforadores",
        "mode": "link",
        "links": [
            "0cf8971308eece50",
            "15fbfbfc9d6ffd85",
            "2a17b842817240cf",
            "3a8b5a7a5f5497f6",
            "a7050dafcd8f8098",
            "b65b066cdeee7ca7",
            "128402a20a8a999a",
            "30a282a3e022cb9a",
            "6cde19333eae6835",
            "e291ec5be7c5a10b",
            "fbdc13f1b53a74d4",
            "25839ea90334eee4",
            "f5ce9e176eef2e10",
            "184bee3d2ffb04de",
            "c791f935817221c8",
            "6b6d65c430898120",
            "d719fd7db151a876",
            "6f2d5e0aa8e8c57c",
            "1107caf47d5d6a18"
        ],
        "x": 885,
        "y": 400,
        "wires": []
    },
    {
        "id": "da7d0ae5aadb612c",
        "type": "http request",
        "z": "32e7e467ef5bdb86",
        "name": "PostInfo 173",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "basic",
        "senderr": true,
        "headers": [
            {
                "keyType": "Accept",
                "keyValue": "",
                "valueType": "application/json",
                "valueValue": ""
            },
            {
                "keyType": "other",
                "keyValue": "token",
                "valueType": "msg",
                "valueValue": "token"
            }
        ],
        "x": 650,
        "y": 1120,
        "wires": [
            [
                "849cbc7d225ee9e4",
                "9f96db61d9eef666"
            ]
        ],
        "info": "{\r\n  \"attributes\": [\r\n    {\r\n      \"id\": \"Spare39\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Volume.Cubic meter.0\"\r\n    },\r\n\t{\r\n      \"id\": \"Spare59\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    },\r\n\t{\r\n      \"id\": \"RS-1342177397\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    },\r\n\t{\r\n      \"id\": \"RS-1342177398\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    }\r\n  ],\r\n  \"fromTime\": \"2023-01-05T19:58:35.336Z\",\r\n  \"toTime\": \"2023-01-05T19:58:36.336Z\",\r\n  \"interval\": 1,\r\n  \"isDifferential\": true\r\n}"
    },
    {
        "id": "6ce09d1383ad302f",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "parametros 173",
        "func": "let horaD = global.get(\"horaDesde\");\nlet horaH = global.get(\"horaHasta\");\nmsg.token = global.get(\"token\");\nmsg.payload = {\n    \"attributes\": [\n        {\n            \"id\": \"Spare\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Minute.1\"\n        },\n        {\n            \"id\": \"Spare2\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Minute.1\"\n        },\n\n        {\n            \"id\": \"PumpSpm\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n        {\n            \"id\": \"PumpSpm2\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n        {\n            \"id\": \"PitVolume11\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Volume.Barrel.4\"\n        }\n        \n\n    ],\n    \"fromTime\": horaD,\n    \"toTime\": horaH,\n    \"interval\": 1,\n    \"isDifferential\": true\n}\nlet job = global.get(\"173\");\nmsg.urlWellData = \"https://data.welldata.net/api/v1/jobs/\"+job.jobId+\"/data/time\";\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 260,
        "y": 1120,
        "wires": [
            [
                "4325b9eaac4baef7"
            ]
        ]
    },
    {
        "id": "4325b9eaac4baef7",
        "type": "change",
        "z": "32e7e467ef5bdb86",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "urlWellData",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 450,
        "y": 1120,
        "wires": [
            [
                "da7d0ae5aadb612c"
            ]
        ]
    },
    {
        "id": "9829a9cc69697fbc",
        "type": "comment",
        "z": "32e7e467ef5bdb86",
        "name": "DLS-173",
        "info": "",
        "x": 100,
        "y": 1060,
        "wires": []
    },
    {
        "id": "849cbc7d225ee9e4",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "SetDatosJobs",
        "func": "let jobOld = global.get(\"173\");\nlet fecAct = msg.payload.timeRecords[0].timestamp;\nlet data = msg.payload.timeRecords[0].values;\nlet hs1Aux=0;\nlet hs2Aux = 0;\nlet hs1=0;\nlet hs2=0;\nlet on1=0;\nlet on2=0;\nlet actualiza=false;\nlet lts = 0;\n\n\ntry {\n    hs1Aux = (data[0][1].toFixed(1) * 1)/60;\n      // @ts-ignore\n    hs1 = hs1Aux.toFixed(1) * 1;\n}catch{}\ntry {\n    hs2Aux = (data[1][1].toFixed(1) * 1) / 60;\n    // @ts-ignore\n    hs2 = hs2Aux.toFixed(1) * 1;\n} catch { }\n\ntry {\n    on1 = data[2][1].toFixed(0) * 1;\n} catch { }\ntry {\n    on2 = data[3][1].toFixed(0) * 1;\n} catch { }\ntry {\n    lts = data[4][1].toFixed(3) * 159;\n} catch { }\n\n\nif ( hs1 != 0 || hs2 != 0){\n    actualiza=true;\n    let job = {\n        \"jobId\": jobOld.jobId,\n        \"name\": jobOld.name,\n        \"hsBomba1\": hs1,\n        \"hsBomba2\": hs2,\n        \"factu\": fecAct,\n        \"on1\": on1,\n        \"on2\": on2,\n        \"ltsTanque\": lts\n\n    };\n    global.set(\"173\", job);\n}\nmsg.payload=actualiza;\nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 840,
        "y": 1120,
        "wires": [
            [
                "b2bc59a8d339ec1c"
            ]
        ]
    },
    {
        "id": "b2bc59a8d339ec1c",
        "type": "switch",
        "z": "32e7e467ef5bdb86",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "false"
            },
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1050,
        "y": 1120,
        "wires": [
            [],
            [
                "d2c184b306eadb3e",
                "d0bfc8f6ab73df6f"
            ]
        ]
    },
    {
        "id": "d2c184b306eadb3e",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "actualizaHsPiezas",
        "func": "let perforador = global.get(\"173\");\nlet hsBomba1 = perforador.hsBomba1;\nlet hsBomba2 = perforador.hsBomba2;\nmsg.payload = \"BEGIN update [perforador].[dbo].[perforadorPieza] set hs=hs+(\" + hsBomba1 + \"-hsInst),hsInst=\" + hsBomba1 + \" where baja=0 and enUso=1 and bomba=1 and perforador='173' and \" + hsBomba1 + \">hsInst; update [perforador].[dbo].[perforadorPieza] set hs=hs+(\" + hsBomba2 + \"-hsInst),hsInst=\" + hsBomba2 + \" where baja=0 and enUso=1 and bomba=2 and perforador='173' and \" + hsBomba2 + \">hsInst; update [perforador].[dbo].[perforadorPieza] set hs= \" + hsBomba1 + \"+hs, hsInst=\" + hsBomba1 + \"where baja=0 and enUso=1 and bomba=1 and perforador='173' and  FLOOR(\" + hsBomba1 + \")< FLOOR(hsInst) AND \" + hsBomba1 + \">0 ; update [perforador].[dbo].[perforadorPieza] set hs= \" + hsBomba2 + \"+hs, hsInst=\" + hsBomba2 + \"where baja=0 and enUso=1 and bomba=2 and perforador='173' and  FLOOR(\" + hsBomba2 + \")< FLOOR(hsInst) AND \" + hsBomba2 + \">0; END\";\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1290,
        "y": 1120,
        "wires": [
            [
                "b7357a166d124bc8"
            ]
        ]
    },
    {
        "id": "7df4e29f2d3f52f3",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "actualizaLogWellData",
        "func": "let perforador = global.get(\"173\");\nlet jobId=perforador.jobId;\nlet hsBomba1 = perforador.hsBomba1;\nlet hsBomba2 = perforador.hsBomba2;\nlet hsBomba3 = 0;\nlet on1 = perforador.on1;\nlet on2 = perforador.on2;\nlet on3 =0;\nlet lts = perforador.ltsTanque;\nmsg.payload = \"INSERT INTO [dbo].[wellData] ([hsBomba1],[hsBomba2],[hsBomba3],[lts],perforador,jobId,[perforadorStr], [onBomba1], [onBomba2], [onBomba3]) VALUES (\" + hsBomba1 + \",\" + hsBomba2 + \",\" + hsBomba3 + \",\" + lts + \",173,'\" + jobId + \"','173',\" + on1 + \",\" + on2 + \",\" + on3+\")\";\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1280,
        "y": 1200,
        "wires": [
            [
                "b7357a166d124bc8"
            ]
        ]
    },
    {
        "id": "d0bfc8f6ab73df6f",
        "type": "delay",
        "z": "32e7e467ef5bdb86",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1040,
        "y": 1200,
        "wires": [
            [
                "7df4e29f2d3f52f3",
                "bd2f24fe03803b41"
            ]
        ]
    },
    {
        "id": "2afd68a4faba2a11",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "actualizaLogHsPiezas",
        "func": "let perforador = global.get(\"173\");\nmsg.payload = \"INSERT INTO [dbo].[logPieza] ([idPerforadorPieza],[hs],[hsInst]) select idPerforadorPieza,hs,hsInst from  [dbo].[perforadorPieza] where enUso=1 and baja=0 and perforador='173'\";\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1280,
        "y": 1280,
        "wires": [
            [
                "b7357a166d124bc8"
            ]
        ]
    },
    {
        "id": "bd2f24fe03803b41",
        "type": "delay",
        "z": "32e7e467ef5bdb86",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1020,
        "y": 1280,
        "wires": [
            [
                "2afd68a4faba2a11"
            ]
        ]
    },
    {
        "id": "2a17b842817240cf",
        "type": "link in",
        "z": "32e7e467ef5bdb86",
        "name": "link in 157",
        "links": [
            "d9e95919cc9a643c"
        ],
        "x": 85,
        "y": 1120,
        "wires": [
            [
                "6ce09d1383ad302f"
            ]
        ]
    },
    {
        "id": "ebb5bc86080a7b31",
        "type": "http request",
        "z": "32e7e467ef5bdb86",
        "name": "PostInfo160",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "basic",
        "senderr": true,
        "headers": [
            {
                "keyType": "Accept",
                "keyValue": "",
                "valueType": "application/json",
                "valueValue": ""
            },
            {
                "keyType": "other",
                "keyValue": "token",
                "valueType": "msg",
                "valueValue": "token"
            }
        ],
        "x": 650,
        "y": 1400,
        "wires": [
            [
                "de8b3e21edd0c268",
                "91c1fc4ba1ea8218"
            ]
        ],
        "info": "{\r\n  \"attributes\": [\r\n    {\r\n      \"id\": \"Spare39\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Volume.Cubic meter.0\"\r\n    },\r\n\t{\r\n      \"id\": \"Spare59\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    },\r\n\t{\r\n      \"id\": \"RS-1342177397\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    },\r\n\t{\r\n      \"id\": \"RS-1342177398\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    }\r\n  ],\r\n  \"fromTime\": \"2023-01-05T19:58:35.336Z\",\r\n  \"toTime\": \"2023-01-05T19:58:36.336Z\",\r\n  \"interval\": 1,\r\n  \"isDifferential\": true\r\n}"
    },
    {
        "id": "1ab4f8bc2fe8aadf",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "parametros 160",
        "func": "let horaD = global.get(\"horaDesde\");\nlet horaH = global.get(\"horaHasta\");\nmsg.token = global.get(\"token\");\nmsg.payload = {\n    \"attributes\": [\n        {\n            \"id\": \"Spare\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Second.0\"\n        },\n        {\n            \"id\": \"Spare6\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Second.0\"\n        },\n\n        {\n            \"id\": \"PumpSpm\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n        {\n            \"id\": \"PumpSpm2\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n        {\n            \"id\": \"PitVolume11\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Volume.Barrel.4\"\n        }\n\n    ],\n    \"fromTime\": horaD,\n    \"toTime\": horaH,\n    \"interval\": 1,\n    \"isDifferential\": true\n}\nlet job = global.get(\"160\");\nmsg.urlWellData = \"https://data.welldata.net/api/v1/jobs/\"+job.jobId+\"/data/time\";\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 260,
        "y": 1400,
        "wires": [
            [
                "0d82c962b49894c6"
            ]
        ]
    },
    {
        "id": "0d82c962b49894c6",
        "type": "change",
        "z": "32e7e467ef5bdb86",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "urlWellData",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 450,
        "y": 1400,
        "wires": [
            [
                "ebb5bc86080a7b31"
            ]
        ]
    },
    {
        "id": "26bc71f8749a2eb5",
        "type": "comment",
        "z": "32e7e467ef5bdb86",
        "name": "DLS-160",
        "info": "",
        "x": 100,
        "y": 1340,
        "wires": []
    },
    {
        "id": "de8b3e21edd0c268",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "SetDatosJobs 160",
        "func": "let jobOld = global.get(\"160\");\nlet fecAct = msg.payload.timeRecords[0].timestamp;\nlet data = msg.payload.timeRecords[0].values;\nlet hs1=0;\nlet hs2=0;\nlet on1=0;\nlet on2=0;\nlet actualiza=false;\nlet hs2Aux=0;\nlet hs1Aux = 0;\nlet lts=0;\n\ntry {\n    hs1Aux = (data[0][1].toFixed(1) * 1)/3600;\n    // @ts-ignore\n    hs1 = hs1Aux.toFixed(1) * 1;\n  \n}catch{}\ntry {\n    hs2Aux = (data[1][1].toFixed(1) * 1) / 3600;\n    // @ts-ignore\n    hs2 = hs2Aux.toFixed(1) * 1;\n} catch { }\n\ntry {\n    on1 = data[2][1].toFixed(0) * 1;\n} catch { }\ntry {\n    on2 = data[3][1].toFixed(0) * 1;\n} catch { }\ntry {\n    lts = data[4][1].toFixed(3) * 159;\n} catch { }\n\n\nif ( hs1 != 0 || hs2 != 0){\n    actualiza=true;\n    let job = {\n        \"jobId\": jobOld.jobId,\n        \"name\": jobOld.name,\n        \"hsBomba1\": hs1,\n        \"hsBomba2\": hs2,\n        \"factu\": fecAct,\n        \"on1\": on1,\n        \"on2\": on2,\n        \"ltsTanque\": lts\n    };\n    global.set(\"160\", job);\n}\nmsg.payload=actualiza;\nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 850,
        "y": 1400,
        "wires": [
            [
                "d9dda3e3cc86d98b"
            ]
        ]
    },
    {
        "id": "d9dda3e3cc86d98b",
        "type": "switch",
        "z": "32e7e467ef5bdb86",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "false"
            },
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1050,
        "y": 1400,
        "wires": [
            [],
            [
                "1ec947e5b23a2992",
                "3fb97b21cf94a491"
            ]
        ]
    },
    {
        "id": "1ec947e5b23a2992",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "actualizaHsPiezas",
        "func": "let perforador = global.get(\"160\");\nlet hsBomba1 = perforador.hsBomba1;\nlet hsBomba2 = perforador.hsBomba2;\nmsg.payload = \"BEGIN update [perforador].[dbo].[perforadorPieza] set hs=hs+(\" + hsBomba1 + \"-hsInst),hsInst=\" + hsBomba1 + \" where baja=0 and enUso=1 and bomba=1 and perforador='160' and \" + hsBomba1 + \">hsInst; update [perforador].[dbo].[perforadorPieza] set hs=hs+(\" + hsBomba2 + \"-hsInst),hsInst=\" + hsBomba2 + \" where baja=0 and enUso=1 and bomba=2 and perforador='160' and \" + hsBomba2 + \">hsInst; update [perforador].[dbo].[perforadorPieza] set hs= \" + hsBomba1 + \"+hs, hsInst=\" + hsBomba1 + \"where baja=0 and enUso=1 and bomba=1 and perforador='160' and  FLOOR(\" + hsBomba1 + \")< FLOOR(hsInst) AND \" + hsBomba1 + \">0 ; update [perforador].[dbo].[perforadorPieza] set hs= \" + hsBomba2 + \"+hs, hsInst=\" + hsBomba2 + \"where baja=0 and enUso=1 and bomba=2 and perforador='160' and  FLOOR(\" + hsBomba2 + \")< FLOOR(hsInst) AND \" + hsBomba2 + \">0; END\";\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1290,
        "y": 1400,
        "wires": [
            [
                "9af077a2c0bafec1"
            ]
        ]
    },
    {
        "id": "3f5fa48daefda624",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "actualizaLogWellData",
        "func": "let perforador = global.get(\"160\");\nlet jobId=perforador.jobId;\nlet hsBomba1 = perforador.hsBomba1;\nlet hsBomba2 = perforador.hsBomba2;\nlet hsBomba3 = 0;\nlet on1 = perforador.on1;\nlet on2 = perforador.on2;\nlet on3 =0;\nlet lts = perforador.ltsTanque;\nmsg.payload = \"INSERT INTO [dbo].[wellData] ([hsBomba1],[hsBomba2],[hsBomba3],[lts],perforador,jobId,[perforadorStr], [onBomba1], [onBomba2], [onBomba3]) VALUES (\" + hsBomba1 + \",\" + hsBomba2 + \",\" + hsBomba3 + \",\" + lts + \",160,'\" + jobId + \"','160',\" + on1 + \",\" + on2 + \",\" + on3+\")\";\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1280,
        "y": 1480,
        "wires": [
            [
                "9af077a2c0bafec1"
            ]
        ]
    },
    {
        "id": "3fb97b21cf94a491",
        "type": "delay",
        "z": "32e7e467ef5bdb86",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1040,
        "y": 1480,
        "wires": [
            [
                "3f5fa48daefda624",
                "ee933c4c1187a6e1"
            ]
        ]
    },
    {
        "id": "529386b69c51d7f3",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "actualizaLogHsPiezas",
        "func": "let perforador = global.get(\"160\");\nmsg.payload = \"INSERT INTO [dbo].[logPieza] ([idPerforadorPieza],[hs],[hsInst]) select idPerforadorPieza,hs,hsInst from  [dbo].[perforadorPieza] where enUso=1 and baja=0 and perforador='160'\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1280,
        "y": 1560,
        "wires": [
            [
                "9af077a2c0bafec1"
            ]
        ]
    },
    {
        "id": "ee933c4c1187a6e1",
        "type": "delay",
        "z": "32e7e467ef5bdb86",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1020,
        "y": 1560,
        "wires": [
            [
                "529386b69c51d7f3"
            ]
        ]
    },
    {
        "id": "3a8b5a7a5f5497f6",
        "type": "link in",
        "z": "32e7e467ef5bdb86",
        "name": "link in 160",
        "links": [
            "d9e95919cc9a643c"
        ],
        "x": 85,
        "y": 1400,
        "wires": [
            [
                "1ab4f8bc2fe8aadf"
            ]
        ]
    },
    {
        "id": "84e83d5a58c4aeee",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "SetDatosJobs",
        "func": "let jobOld = global.get(\"170\");\nlet fecAct = msg.payload.timeRecords[0].timestamp;\nlet data = msg.payload.timeRecords[0].values;\nlet hs1=0;\nlet hs2=0;\nlet hs3=0;\nlet lts=0;\nlet on1=0;\nlet on2=0;\nlet on3=0;\nlet actualiza=false;\n\ntry {\n    hs1 = data[1][1].toFixed(1) * 1;\n}catch{}\ntry {\n    hs2 = data[2][1].toFixed(1) * 1;\n} catch { }\ntry {\n    hs3 = data[3][1].toFixed(1) * 1;\n} catch { }\ntry {\n    lts = data[0][1].toFixed(3)*159;\n    lts=lts.toFixed(0);\n} catch { }\ntry {\n    on1 = data[4][1].toFixed(0) * 1;\n} catch { }\ntry {\n    on2 = data[5][1].toFixed(0) * 1;\n} catch { }\ntry {\n    on3 = data[6][1].toFixed(0) * 1;\n} catch { }\n\nif ( hs1 != 0 || hs2 != 0 || hs3 != 0 || lts != 0){\n    actualiza=true;\n    let job = {\n        \"jobId\": jobOld.jobId,\n        \"name\": jobOld.name,\n        \"hsBomba1\": hs1,\n        \"hsBomba2\": hs2,\n        \"hsBomba3\": hs3,\n        \"ltsTanque\": lts,\n        \"factu\": fecAct,\n        \"on1\": on1,\n        \"on2\": on2,\n        \"on3\": on3\n    };\n    global.set(\"170\", job);\n}\nmsg.payload=actualiza;\nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 840,
        "y": 1720,
        "wires": [
            [
                "dd61bb6a5150ed59"
            ]
        ]
    },
    {
        "id": "a62df109e9141047",
        "type": "http request",
        "z": "32e7e467ef5bdb86",
        "name": "PostInfo170",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "basic",
        "senderr": true,
        "headers": [
            {
                "keyType": "Accept",
                "keyValue": "",
                "valueType": "application/json",
                "valueValue": ""
            },
            {
                "keyType": "other",
                "keyValue": "token",
                "valueType": "msg",
                "valueValue": "token"
            }
        ],
        "x": 630,
        "y": 1720,
        "wires": [
            [
                "84e83d5a58c4aeee",
                "89c2bdaf576e068f"
            ]
        ],
        "info": "{\r\n  \"attributes\": [\r\n    {\r\n      \"id\": \"Spare39\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Volume.Cubic meter.0\"\r\n    },\r\n\t{\r\n      \"id\": \"Spare59\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    },\r\n\t{\r\n      \"id\": \"RS-1342177397\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    },\r\n\t{\r\n      \"id\": \"RS-1342177398\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    }\r\n  ],\r\n  \"fromTime\": \"2023-01-05T19:58:35.336Z\",\r\n  \"toTime\": \"2023-01-05T19:58:36.336Z\",\r\n  \"interval\": 1,\r\n  \"isDifferential\": true\r\n}"
    },
    {
        "id": "498fdb752e3419fe",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "parametros",
        "func": "let horaD = global.get(\"horaDesde\");\nlet horaH = global.get(\"horaHasta\");\nmsg.token = global.get(\"token\");\nmsg.payload = {\n    \"attributes\": [\n        {\n            \"id\": \"Spare79\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Volume.Barrel.4\"\n        },\n        {\n            \"id\": \"RS-1342177412\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Hour.2\"\n        },\n        {\n            \"id\": \"RS-1342177413\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Hour.2\"\n        },\n        {\n            \"id\": \"RS-1342177414\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Hour.2\"\n        },\n        {\n            \"id\": \"PumpSpm\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n        {\n            \"id\": \"PumpSpm2\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n        {\n            \"id\": \"PumpSpm3\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        }\n    ],\n    \"fromTime\": horaD,\n    \"toTime\": horaH,\n    \"interval\": 1,\n    \"isDifferential\": true\n}\nlet job = global.get(\"170\");\nmsg.urlWellData = \"https://data.welldata.net/api/v1/jobs/\"+job.jobId+\"/data/time\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 230,
        "y": 1720,
        "wires": [
            [
                "8e28690122724d9f"
            ]
        ]
    },
    {
        "id": "8e28690122724d9f",
        "type": "change",
        "z": "32e7e467ef5bdb86",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "urlWellData",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 430,
        "y": 1720,
        "wires": [
            [
                "a62df109e9141047"
            ]
        ]
    },
    {
        "id": "55a5544f36d958be",
        "type": "comment",
        "z": "32e7e467ef5bdb86",
        "name": "DLS-170",
        "info": "",
        "x": 80,
        "y": 1680,
        "wires": []
    },
    {
        "id": "dd61bb6a5150ed59",
        "type": "switch",
        "z": "32e7e467ef5bdb86",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "false"
            },
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1090,
        "y": 1700,
        "wires": [
            [],
            [
                "9d50767362136e6b",
                "ea8504be80169fea"
            ]
        ]
    },
    {
        "id": "9d50767362136e6b",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "actualizaHsPiezas",
        "func": "let perforador = global.get(\"170\");\nlet hsBomba1 = perforador.hsBomba1;\nlet hsBomba2 = perforador.hsBomba2;\nlet hsBomba3 = perforador.hsBomba3;\nmsg.payload = \"BEGIN update [perforador].[dbo].[perforadorPieza] set hs=hs+(\" + hsBomba1 + \"-hsInst),hsInst=\" + hsBomba1 + \" where baja=0 and enUso=1 and bomba=1 and perforador='170' and \" + hsBomba1 + \">hsInst; update [perforador].[dbo].[perforadorPieza] set hs=hs+(\" + hsBomba2 + \"-hsInst),hsInst=\" + hsBomba2 + \" where baja=0 and enUso=1 and bomba=2 and perforador='170' and \" + hsBomba2 + \">hsInst; update [perforador].[dbo].[perforadorPieza] set hs=hs+(\" + hsBomba3 + \"-hsInst),hsInst=\" + hsBomba3 + \" where baja=0 and enUso=1 and bomba=3 and perforador='170' and \" + hsBomba3 + \">hsInst;update [perforador].[dbo].[perforadorPieza] set hs= \" + hsBomba1 + \"+hs, hsInst=\" + hsBomba1 + \"where baja=0 and enUso=1 and bomba=1 and perforador='170' and  FLOOR(\" + hsBomba1 + \")< FLOOR(hsInst) AND \" + hsBomba1 + \">0 ; update [perforador].[dbo].[perforadorPieza] set hs= \" + hsBomba2 + \"+hs, hsInst=\" + hsBomba2 + \"where baja=0 and enUso=1 and bomba=2 and perforador='170' and  FLOOR(\" + hsBomba2 + \")< FLOOR(hsInst) AND \" + hsBomba2 + \">0; update [perforador].[dbo].[perforadorPieza] set hs= \" + hsBomba3 + \"+hs, hsInst=\" + hsBomba3 + \"where baja=0 and enUso=1 and bomba=3 and perforador='170' and  FLOOR(\" + hsBomba3 + \")< FLOOR(hsInst) AND \" + hsBomba3 +\">0; END\";\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1330,
        "y": 1700,
        "wires": [
            [
                "042ae5eeedf69477"
            ]
        ]
    },
    {
        "id": "c6b81efa59459832",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "actualizaLogWellData",
        "func": "let perforador = global.get(\"170\");\nlet jobId=perforador.jobId;\nlet hsBomba1 = perforador.hsBomba1;\nlet hsBomba2 = perforador.hsBomba2;\nlet hsBomba3 = perforador.hsBomba3;\nlet on1 = perforador.on1;\nlet on2 = perforador.on2;\nlet on3 = perforador.on3;\nlet lts=perforador.ltsTanque;\nmsg.payload = \"INSERT INTO [dbo].[wellData] ([hsBomba1],[hsBomba2],[hsBomba3],[lts],perforador,jobId,[perforadorStr], [onBomba1], [onBomba2], [onBomba3]) VALUES (\" + hsBomba1 + \",\" + hsBomba2 + \",\" + hsBomba3 + \",\" + lts + \",170,'\" + jobId + \"','170',\" + on1 + \",\" + on2 + \",\" + on3+\")\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1320,
        "y": 1780,
        "wires": [
            [
                "042ae5eeedf69477"
            ]
        ]
    },
    {
        "id": "ea8504be80169fea",
        "type": "delay",
        "z": "32e7e467ef5bdb86",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1080,
        "y": 1780,
        "wires": [
            [
                "c6b81efa59459832",
                "e674c973771df32d"
            ]
        ]
    },
    {
        "id": "feb34bc6238810e2",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "actualizaLogHsPiezas",
        "func": "let perforador = global.get(\"170\");\nmsg.payload = \"INSERT INTO [dbo].[logPieza] ([idPerforadorPieza],[hs],[hsInst]) select idPerforadorPieza,hs,hsInst from  [dbo].[perforadorPieza] where enUso=1 and baja=0 and perforador='170'\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1320,
        "y": 1860,
        "wires": [
            [
                "042ae5eeedf69477"
            ]
        ]
    },
    {
        "id": "e674c973771df32d",
        "type": "delay",
        "z": "32e7e467ef5bdb86",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1060,
        "y": 1860,
        "wires": [
            [
                "feb34bc6238810e2"
            ]
        ]
    },
    {
        "id": "b65b066cdeee7ca7",
        "type": "link in",
        "z": "32e7e467ef5bdb86",
        "name": "link in 170",
        "links": [
            "d9e95919cc9a643c"
        ],
        "x": 55,
        "y": 1720,
        "wires": [
            [
                "498fdb752e3419fe"
            ]
        ]
    },
    {
        "id": "86663d99e4f22fcf",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "SetDatosJobs",
        "func": "let jobOld = global.get(\"PAE001\");\nlet fecAct = msg.payload.timeRecords[0].timestamp;\nlet data = msg.payload.timeRecords[0].values;\nlet hs1=0;\nlet hs2=0;\nlet hs3=0;\nlet lts=0;\nlet on1=0;\nlet on2=0;\nlet on3=0;\nlet actualiza=false;\n\ntry {\n    hs1 = data[1][1].toFixed(1) * 1;\n}catch{}\ntry {\n    hs2 = data[2][1].toFixed(1) * 1;\n} catch { }\ntry {\n    hs3 = data[3][1].toFixed(1) * 1;\n} catch { }\ntry {\n    lts = data[0][1].toFixed(3)*1;\n    lts=lts.toFixed(0);\n} catch { }\ntry {\n    on1 = data[4][1].toFixed(0) * 1;\n} catch { }\ntry {\n    on2 = data[5][1].toFixed(0) * 1;\n} catch { }\ntry {\n    on3 = data[6][1].toFixed(0) * 1;\n} catch { }\n\nif ( hs1 != 0 || hs2 != 0 || hs3 != 0 || lts != 0){\n    actualiza=true;\n    let job = {\n        \"jobId\": jobOld.jobId,\n        \"name\": jobOld.name,\n        \"hsBomba1\": hs1,\n        \"hsBomba2\": hs2,\n        \"hsBomba3\": hs3,\n        \"ltsTanque\": lts,\n        \"factu\": fecAct,\n        \"on1\": on1,\n        \"on2\": on2,\n        \"on3\": on3\n    };\n    global.set(\"PAE001\", job);\n}\nmsg.payload=actualiza;\nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 840,
        "y": 2000,
        "wires": [
            [
                "ec157f25193700ae"
            ]
        ]
    },
    {
        "id": "acb98c74d3dfb43f",
        "type": "http request",
        "z": "32e7e467ef5bdb86",
        "name": "PostInfo001",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "basic",
        "senderr": true,
        "headers": [
            {
                "keyType": "Accept",
                "keyValue": "",
                "valueType": "application/json",
                "valueValue": ""
            },
            {
                "keyType": "other",
                "keyValue": "token",
                "valueType": "msg",
                "valueValue": "token"
            }
        ],
        "x": 630,
        "y": 2000,
        "wires": [
            [
                "86663d99e4f22fcf",
                "ae07461788f88896"
            ]
        ],
        "info": "{\r\n  \"attributes\": [\r\n    {\r\n      \"id\": \"Spare39\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Volume.Cubic meter.0\"\r\n    },\r\n\t{\r\n      \"id\": \"Spare59\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    },\r\n\t{\r\n      \"id\": \"RS-1342177397\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    },\r\n\t{\r\n      \"id\": \"RS-1342177398\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    }\r\n  ],\r\n  \"fromTime\": \"2023-01-05T19:58:35.336Z\",\r\n  \"toTime\": \"2023-01-05T19:58:36.336Z\",\r\n  \"interval\": 1,\r\n  \"isDifferential\": true\r\n}"
    },
    {
        "id": "b236d0e1f13bed6c",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "parametros",
        "func": "let horaD = global.get(\"horaDesde\");\nlet horaH = global.get(\"horaHasta\");\nmsg.token = global.get(\"token\");\nmsg.payload = {\n    \"attributes\": [\n        {\n            \"id\": \"Spare100\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Volume.Liter.5\"\n        },\n        {\n            \"id\": \"RS-1342177412\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Hour.2\"\n        },\n        {\n            \"id\": \"RS-1342177413\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Hour.2\"\n        },\n        {\n            \"id\": \"RS-1342177414\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Hour.2\"\n        },\n        {\n            \"id\": \"PumpSpm\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n        {\n            \"id\": \"PumpSpm2\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n        {\n            \"id\": \"PumpSpm3\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        }\n    ],\n    \"fromTime\": horaD,\n    \"toTime\": horaH,\n    \"interval\": 1,\n    \"isDifferential\": true\n}\nlet job = global.get(\"PAE001\");\nmsg.urlWellData = \"https://data.welldata.net/api/v1/jobs/\"+job.jobId+\"/data/time\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 230,
        "y": 2000,
        "wires": [
            [
                "140101e99f041f09"
            ]
        ]
    },
    {
        "id": "140101e99f041f09",
        "type": "change",
        "z": "32e7e467ef5bdb86",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "urlWellData",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 430,
        "y": 2000,
        "wires": [
            [
                "acb98c74d3dfb43f"
            ]
        ]
    },
    {
        "id": "7ed503f8df0ac4e8",
        "type": "comment",
        "z": "32e7e467ef5bdb86",
        "name": "PAE-001",
        "info": "",
        "x": 80,
        "y": 1960,
        "wires": []
    },
    {
        "id": "ec157f25193700ae",
        "type": "switch",
        "z": "32e7e467ef5bdb86",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "false"
            },
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1090,
        "y": 1980,
        "wires": [
            [],
            [
                "0ad938bb417ea5a6",
                "9f4445fea55eab6c"
            ]
        ]
    },
    {
        "id": "0ad938bb417ea5a6",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "actualizaHsPiezas",
        "func": "let perforador = global.get(\"PAE001\");\nlet hsBomba1 = perforador.hsBomba1;\nlet hsBomba2 = perforador.hsBomba2;\nlet hsBomba3 = perforador.hsBomba3;\nmsg.payload = \"BEGIN update [perforador].[dbo].[perforadorPieza] set hs=hs+(\" + hsBomba1 + \"-hsInst),hsInst=\" + hsBomba1 + \" where baja=0 and enUso=1 and bomba=1 and perforador='001' and \" + hsBomba1 + \">hsInst; update [perforador].[dbo].[perforadorPieza] set hs=hs+(\" + hsBomba2 + \"-hsInst),hsInst=\" + hsBomba2 + \" where baja=0 and enUso=1 and bomba=2 and perforador='001' and \" + hsBomba2 + \">hsInst; update [perforador].[dbo].[perforadorPieza] set hs=hs+(\" + hsBomba3 + \"-hsInst),hsInst=\" + hsBomba3 + \" where baja=0 and enUso=1 and bomba=3 and perforador='001' and \" + hsBomba3 + \">hsInst;update [perforador].[dbo].[perforadorPieza] set hs= \" + hsBomba1 + \"+hs, hsInst=\" + hsBomba1 + \"where baja=0 and enUso=1 and bomba=1 and perforador='001' and  FLOOR(\" + hsBomba1 + \")< FLOOR(hsInst) AND \" + hsBomba1 + \">0 ; update [perforador].[dbo].[perforadorPieza] set hs= \" + hsBomba2 + \"+hs, hsInst=\" + hsBomba2 + \"where baja=0 and enUso=1 and bomba=2 and perforador='001' and  FLOOR(\" + hsBomba2 + \")< FLOOR(hsInst) AND \" + hsBomba2 + \">0; update [perforador].[dbo].[perforadorPieza] set hs= \" + hsBomba3 + \"+hs, hsInst=\" + hsBomba3 + \"where baja=0 and enUso=1 and bomba=3 and perforador='001' and  FLOOR(\" + hsBomba3 + \")< FLOOR(hsInst) AND \" + hsBomba3 +\">0; END\";\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1330,
        "y": 1980,
        "wires": [
            [
                "7412372c389fc844"
            ]
        ]
    },
    {
        "id": "b647114d0c3ce588",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "actualizaLogWellData",
        "func": "let perforador = global.get(\"PAE001\");\nlet jobId=perforador.jobId;\nlet hsBomba1 = perforador.hsBomba1;\nlet hsBomba2 = perforador.hsBomba2;\nlet hsBomba3 = perforador.hsBomba3;\nlet on1 = perforador.on1;\nlet on2 = perforador.on2;\nlet on3 = perforador.on3;\nlet lts=perforador.ltsTanque;\nmsg.payload = \"INSERT INTO [dbo].[wellData] ([hsBomba1],[hsBomba2],[hsBomba3],[lts],perforador,jobId,[perforadorStr], [onBomba1], [onBomba2], [onBomba3]) VALUES (\" + hsBomba1 + \",\" + hsBomba2 + \",\" + hsBomba3 + \",\" + lts + \",001,'\" + jobId + \"','001',\" + on1 + \",\" + on2 + \",\" + on3+\")\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1320,
        "y": 2060,
        "wires": [
            [
                "7412372c389fc844"
            ]
        ]
    },
    {
        "id": "9f4445fea55eab6c",
        "type": "delay",
        "z": "32e7e467ef5bdb86",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1080,
        "y": 2060,
        "wires": [
            [
                "b647114d0c3ce588",
                "8c1802497888397a"
            ]
        ]
    },
    {
        "id": "28e32794ae0ec83a",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "actualizaLogHsPiezas",
        "func": "let perforador = global.get(\"PAE001\");\nmsg.payload = \"INSERT INTO [dbo].[logPieza] ([idPerforadorPieza],[hs],[hsInst]) select idPerforadorPieza,hs,hsInst from  [dbo].[perforadorPieza] where enUso=1 and baja=0 and perforador='001'\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1320,
        "y": 2140,
        "wires": [
            [
                "7412372c389fc844"
            ]
        ]
    },
    {
        "id": "8c1802497888397a",
        "type": "delay",
        "z": "32e7e467ef5bdb86",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1060,
        "y": 2140,
        "wires": [
            [
                "28e32794ae0ec83a"
            ]
        ]
    },
    {
        "id": "128402a20a8a999a",
        "type": "link in",
        "z": "32e7e467ef5bdb86",
        "name": "link in 171",
        "links": [
            "d9e95919cc9a643c"
        ],
        "x": 55,
        "y": 2000,
        "wires": [
            [
                "b236d0e1f13bed6c"
            ]
        ]
    },
    {
        "id": "8b4305c558073b39",
        "type": "MSSQL",
        "z": "32e7e467ef5bdb86",
        "mssqlCN": "af3a3f5145cd0651",
        "name": "",
        "outField": "payload",
        "returnType": 0,
        "throwErrors": 1,
        "query": "",
        "modeOpt": "queryMode",
        "modeOptType": "query",
        "queryOpt": "payload",
        "queryOptType": "editor",
        "paramsOpt": "queryParams",
        "paramsOptType": "none",
        "rows": "rows",
        "rowsType": "msg",
        "parseMustache": true,
        "params": [],
        "x": 1840,
        "y": 620,
        "wires": [
            []
        ]
    },
    {
        "id": "df898860cb307318",
        "type": "link out",
        "z": "32e7e467ef5bdb86",
        "name": "link out BDD",
        "mode": "link",
        "links": [
            "4180ce8f60052495"
        ],
        "x": 1535,
        "y": 920,
        "wires": []
    },
    {
        "id": "4180ce8f60052495",
        "type": "link in",
        "z": "32e7e467ef5bdb86",
        "name": "link in BDD",
        "links": [
            "df898860cb307318",
            "b7357a166d124bc8",
            "9af077a2c0bafec1",
            "7412372c389fc844",
            "042ae5eeedf69477",
            "182ca3d836dd8598",
            "45885aeccb10d27d",
            "163b8d48e8a590a2",
            "c33878adcff59f51",
            "eb69a46954fd8869",
            "ab3624929e17cd16",
            "249784e235750fdf",
            "ec9ab8c7c4623127"
        ],
        "x": 1785,
        "y": 740,
        "wires": [
            [
                "8b4305c558073b39"
            ]
        ]
    },
    {
        "id": "b7357a166d124bc8",
        "type": "link out",
        "z": "32e7e467ef5bdb86",
        "name": "link out 1",
        "mode": "link",
        "links": [
            "4180ce8f60052495"
        ],
        "x": 1545,
        "y": 1200,
        "wires": []
    },
    {
        "id": "9af077a2c0bafec1",
        "type": "link out",
        "z": "32e7e467ef5bdb86",
        "name": "link out 2",
        "mode": "link",
        "links": [
            "4180ce8f60052495"
        ],
        "x": 1555,
        "y": 1480,
        "wires": []
    },
    {
        "id": "042ae5eeedf69477",
        "type": "link out",
        "z": "32e7e467ef5bdb86",
        "name": "link out 3",
        "mode": "link",
        "links": [
            "4180ce8f60052495"
        ],
        "x": 1575,
        "y": 1780,
        "wires": []
    },
    {
        "id": "7412372c389fc844",
        "type": "link out",
        "z": "32e7e467ef5bdb86",
        "name": "link out 4",
        "mode": "link",
        "links": [
            "4180ce8f60052495"
        ],
        "x": 1565,
        "y": 2040,
        "wires": []
    },
    {
        "id": "d52cf30e246ccf08",
        "type": "debug",
        "z": "32e7e467ef5bdb86",
        "name": "debug 156",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 810,
        "y": 940,
        "wires": []
    },
    {
        "id": "d7a20e1dcc468aa7",
        "type": "debug",
        "z": "32e7e467ef5bdb86",
        "name": "debug 165",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 850,
        "y": 480,
        "wires": []
    },
    {
        "id": "1888ea105ce60f6a",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "SetDatosJobs",
        "func": "let jobOld = global.get(\"168\");\nlet fecAct = msg.payload.timeRecords[0].timestamp;\nlet data = msg.payload.timeRecords[0].values;\nlet hs1=0;\nlet hs2=0;\nlet hs3=0;\nlet lts=0;\nlet on1=0;\nlet on2=0;\nlet on3=0;\nlet actualiza=false;\n\ntry {\n    hs1 = data[0][1].toFixed(1) * 1;\n}catch{}\ntry {\n    hs2 = data[1][1].toFixed(1) * 1;\n} catch { }\ntry {\n    hs3 = data[2][1].toFixed(1) * 1;\n} catch { }\ntry {\n    on1 = data[3][1].toFixed(0) * 1;\n} catch { }\ntry {\n    on2 = data[4][1].toFixed(0) * 1;\n} catch { }\ntry {\n    on3 = data[5][1].toFixed(0) * 1;\n} catch { }\ntry {\n    lts = data[6][1].toFixed(3) * 1000;\n} catch { }\n\nif ( hs1 != 0 || hs2 != 0 || hs3 != 0 || lts != 0){\n    actualiza=true;\n    let job = {\n        \"jobId\": jobOld.jobId,\n        \"name\": jobOld.name,\n        \"hsBomba1\": hs1,\n        \"hsBomba2\": hs2,\n        \"hsBomba3\": hs3,\n        \"ltsTanque\": lts,\n        \"factu\": fecAct,\n        \"on1\": on1,\n        \"on2\": on2,\n        \"on3\": on3\n    };\n    global.set(\"168\", job);\n}\nmsg.payload=actualiza;\nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 860,
        "y": 2280,
        "wires": [
            [
                "d7f15e821ff612e4"
            ]
        ]
    },
    {
        "id": "35cbbe48e85afc36",
        "type": "http request",
        "z": "32e7e467ef5bdb86",
        "name": "PostInfo168",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "basic",
        "senderr": true,
        "headers": [
            {
                "keyType": "Accept",
                "keyValue": "",
                "valueType": "application/json",
                "valueValue": ""
            },
            {
                "keyType": "other",
                "keyValue": "token",
                "valueType": "msg",
                "valueValue": "token"
            }
        ],
        "x": 650,
        "y": 2280,
        "wires": [
            [
                "1888ea105ce60f6a",
                "5407cd4810e7b118"
            ]
        ],
        "info": "{\r\n  \"attributes\": [\r\n    {\r\n      \"id\": \"Spare39\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Volume.Cubic meter.0\"\r\n    },\r\n\t{\r\n      \"id\": \"Spare59\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    },\r\n\t{\r\n      \"id\": \"RS-1342177397\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    },\r\n\t{\r\n      \"id\": \"RS-1342177398\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    }\r\n  ],\r\n  \"fromTime\": \"2023-01-05T19:58:35.336Z\",\r\n  \"toTime\": \"2023-01-05T19:58:36.336Z\",\r\n  \"interval\": 1,\r\n  \"isDifferential\": true\r\n}"
    },
    {
        "id": "56259d31a39e5a2e",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "parametros 168",
        "func": "let horaD = global.get(\"horaDesde\");\nlet horaH = global.get(\"horaHasta\");\nmsg.token = global.get(\"token\");\nmsg.payload = {\n    \"attributes\": [\n          {\n            \"id\": \"Spare493\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Hour.2\"\n        },\n        {\n            \"id\": \"Spare492\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Hour.2\"\n        },\n        {\n            \"id\": \"Spare491\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Hour.2\"\n        },\n        {\n            \"id\": \"PumpSpm\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n        {\n            \"id\": \"PumpSpm2\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n        {\n            \"id\": \"PumpSpm3\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n        {\n            \"id\": \"Spare5\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Volume.Cubic meter.0\"\n        }\n    ],\n    \"fromTime\": horaD,\n    \"toTime\": horaH,\n    \"interval\": 1,\n    \"isDifferential\": true\n}\nlet job = global.get(\"168\");\nmsg.urlWellData = \"https://data.welldata.net/api/v1/jobs/\"+job.jobId+\"/data/time\";\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 260,
        "y": 2280,
        "wires": [
            [
                "b64fce2c88f0d96b"
            ]
        ]
    },
    {
        "id": "b64fce2c88f0d96b",
        "type": "change",
        "z": "32e7e467ef5bdb86",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "urlWellData",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 450,
        "y": 2280,
        "wires": [
            [
                "35cbbe48e85afc36"
            ]
        ]
    },
    {
        "id": "6833a1d799827d26",
        "type": "comment",
        "z": "32e7e467ef5bdb86",
        "name": "PAE-168",
        "info": "",
        "x": 100,
        "y": 2240,
        "wires": []
    },
    {
        "id": "d7f15e821ff612e4",
        "type": "switch",
        "z": "32e7e467ef5bdb86",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "false"
            },
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1110,
        "y": 2260,
        "wires": [
            [],
            [
                "7848ee97893352bb",
                "58a7a1c0c24772ed"
            ]
        ]
    },
    {
        "id": "7848ee97893352bb",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "actualizaHsPiezas",
        "func": "let perforador = global.get(\"168\");\nlet hsBomba1 = perforador.hsBomba1;\nlet hsBomba2 = perforador.hsBomba2;\nlet hsBomba3 = perforador.hsBomba3;\nmsg.payload = \"BEGIN update [perforador].[dbo].[perforadorPieza] set hs=hs+(\" + hsBomba1 + \"-hsInst),hsInst=\" + hsBomba1 + \" where baja=0 and enUso=1 and bomba=1 and perforador='168' and \" + hsBomba1 + \">hsInst; update [perforador].[dbo].[perforadorPieza] set hs=hs+(\" + hsBomba2 + \"-hsInst),hsInst=\" + hsBomba2 + \" where baja=0 and enUso=1 and bomba=2 and perforador='168' and \" + hsBomba2 + \">hsInst; update [perforador].[dbo].[perforadorPieza] set hs=hs+(\" + hsBomba3 + \"-hsInst),hsInst=\" + hsBomba3 + \" where baja=0 and enUso=1 and bomba=3 and perforador='168' and \" + hsBomba3 + \">hsInst;update [perforador].[dbo].[perforadorPieza] set hs= \" + hsBomba1 + \"+hs, hsInst=\" + hsBomba1 + \"where baja=0 and enUso=1 and bomba=1 and perforador='168' and  FLOOR(\" + hsBomba1 + \")< FLOOR(hsInst) AND \" + hsBomba1 + \">0 ; update [perforador].[dbo].[perforadorPieza] set hs= \" + hsBomba2 + \"+hs, hsInst=\" + hsBomba2 + \"where baja=0 and enUso=1 and bomba=2 and perforador='168' and  FLOOR(\" + hsBomba2 + \")< FLOOR(hsInst) AND \" + hsBomba2 + \">0; update [perforador].[dbo].[perforadorPieza] set hs= \" + hsBomba3 + \"+hs, hsInst=\" + hsBomba3 + \"where baja=0 and enUso=1 and bomba=3 and perforador='168' and  FLOOR(\" + hsBomba3 + \")< FLOOR(hsInst) AND \" + hsBomba3 +\">0; END\";\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1350,
        "y": 2260,
        "wires": [
            [
                "182ca3d836dd8598"
            ]
        ]
    },
    {
        "id": "30cdc4dae7fddafa",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "actualizaLogWellData",
        "func": "let perforador = global.get(\"168\");\nlet jobId=perforador.jobId;\nlet hsBomba1 = perforador.hsBomba1;\nlet hsBomba2 = perforador.hsBomba2;\nlet hsBomba3 = perforador.hsBomba3;\nlet on1 = perforador.on1;\nlet on2 = perforador.on2;\nlet on3 = perforador.on3;\nlet lts=perforador.ltsTanque;\nmsg.payload = \"INSERT INTO [dbo].[wellData] ([hsBomba1],[hsBomba2],[hsBomba3],[lts],perforador,jobId,[perforadorStr], [onBomba1], [onBomba2], [onBomba3]) VALUES (\" + hsBomba1 + \",\" + hsBomba2 + \",\" + hsBomba3 + \",\" + lts + \",168,'\" + jobId + \"','168',\" + on1 + \",\" + on2 + \",\" + on3+\")\";\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1340,
        "y": 2340,
        "wires": [
            [
                "182ca3d836dd8598"
            ]
        ]
    },
    {
        "id": "58a7a1c0c24772ed",
        "type": "delay",
        "z": "32e7e467ef5bdb86",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1100,
        "y": 2340,
        "wires": [
            [
                "30cdc4dae7fddafa",
                "53d136f7ddb1a9e2"
            ]
        ]
    },
    {
        "id": "deaffc245f753a5e",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "actualizaLogHsPiezas",
        "func": "let perforador = global.get(\"168\");\nmsg.payload = \"INSERT INTO [dbo].[logPieza] ([idPerforadorPieza],[hs],[hsInst]) select idPerforadorPieza,hs,hsInst from  [dbo].[perforadorPieza] where enUso=1 and baja=0 and perforador='168'\";\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1340,
        "y": 2420,
        "wires": [
            [
                "182ca3d836dd8598"
            ]
        ]
    },
    {
        "id": "53d136f7ddb1a9e2",
        "type": "delay",
        "z": "32e7e467ef5bdb86",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1080,
        "y": 2420,
        "wires": [
            [
                "deaffc245f753a5e"
            ]
        ]
    },
    {
        "id": "25839ea90334eee4",
        "type": "link in",
        "z": "32e7e467ef5bdb86",
        "name": "link in 172",
        "links": [
            "d9e95919cc9a643c"
        ],
        "x": 75,
        "y": 2280,
        "wires": [
            [
                "56259d31a39e5a2e"
            ]
        ]
    },
    {
        "id": "182ca3d836dd8598",
        "type": "link out",
        "z": "32e7e467ef5bdb86",
        "name": "link out 5",
        "mode": "link",
        "links": [
            "4180ce8f60052495"
        ],
        "x": 1585,
        "y": 2320,
        "wires": []
    },
    {
        "id": "8b40070235504245",
        "type": "http request",
        "z": "32e7e467ef5bdb86",
        "name": "PostInfo163",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "basic",
        "senderr": true,
        "headers": [
            {
                "keyType": "Accept",
                "keyValue": "",
                "valueType": "application/json",
                "valueValue": ""
            },
            {
                "keyType": "other",
                "keyValue": "token",
                "valueType": "msg",
                "valueValue": "token"
            }
        ],
        "x": 650,
        "y": 2640,
        "wires": [
            [
                "5c69320d7f912f6c",
                "f8388da38e8c5d42"
            ]
        ],
        "info": "{\r\n  \"attributes\": [\r\n    {\r\n      \"id\": \"Spare39\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Volume.Cubic meter.0\"\r\n    },\r\n\t{\r\n      \"id\": \"Spare59\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    },\r\n\t{\r\n      \"id\": \"RS-1342177397\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    },\r\n\t{\r\n      \"id\": \"RS-1342177398\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    }\r\n  ],\r\n  \"fromTime\": \"2023-01-05T19:58:35.336Z\",\r\n  \"toTime\": \"2023-01-05T19:58:36.336Z\",\r\n  \"interval\": 1,\r\n  \"isDifferential\": true\r\n}"
    },
    {
        "id": "15bab932b0bccf17",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "parametros",
        "func": "let horaD = global.get(\"horaDesde\");\nlet horaH = global.get(\"horaHasta\");\nmsg.token = global.get(\"token\");\nmsg.payload = {\n    \"attributes\": [\n         {\n            \"id\": \"Spare\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Hour.2\"\n        },\n        {\n            \"id\": \"Spare2\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Hour.2\"\n        },\n        {\n            \"id\": \"Spare3\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Hour.2\"\n        },\n        {\n            \"id\": \"PumpSpm\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n        {\n            \"id\": \"PumpSpm2\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n        {\n            \"id\": \"PumpSpm3\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n        {\n            \"id\": \"Spare5\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Length.Meter.0\"\n        }\n     \n    ],\n    \"fromTime\": horaD,\n    \"toTime\": horaH,\n    \"interval\": 1,\n    \"isDifferential\": true\n}\nlet job = global.get(\"163\");\nmsg.urlWellData = \"https://data.welldata.net/api/v1/jobs/\"+job.jobId+\"/data/time\";\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 250,
        "y": 2640,
        "wires": [
            [
                "bd2d48e38cdc1f9d"
            ]
        ]
    },
    {
        "id": "bd2d48e38cdc1f9d",
        "type": "change",
        "z": "32e7e467ef5bdb86",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "urlWellData",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 450,
        "y": 2640,
        "wires": [
            [
                "8b40070235504245"
            ]
        ]
    },
    {
        "id": "a3677551981ef991",
        "type": "comment",
        "z": "32e7e467ef5bdb86",
        "name": "PAE-163",
        "info": "",
        "x": 100,
        "y": 2600,
        "wires": []
    },
    {
        "id": "d74f77fc6a368919",
        "type": "switch",
        "z": "32e7e467ef5bdb86",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "false"
            },
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1110,
        "y": 2620,
        "wires": [
            [],
            [
                "0e0d129af9d77409",
                "55a96a69116a0dae"
            ]
        ]
    },
    {
        "id": "0e0d129af9d77409",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "actualizaHsPiezas",
        "func": "let perforador = global.get(\"163\");\nlet hsBomba1 = perforador.hsBomba1;\nlet hsBomba2 = perforador.hsBomba2;\nlet hsBomba3 = perforador.hsBomba3;\nmsg.payload = \"BEGIN update [perforador].[dbo].[perforadorPieza] set hs=hs+(\" + hsBomba1 + \"-hsInst),hsInst=\" + hsBomba1 + \" where baja=0 and enUso=1 and bomba=1 and perforador='163' and \" + hsBomba1 + \">hsInst; update [perforador].[dbo].[perforadorPieza] set hs=hs+(\" + hsBomba2 + \"-hsInst),hsInst=\" + hsBomba2 + \" where baja=0 and enUso=1 and bomba=2 and perforador='163' and \" + hsBomba2 + \">hsInst; update [perforador].[dbo].[perforadorPieza] set hs=hs+(\" + hsBomba3 + \"-hsInst),hsInst=\" + hsBomba3 + \" where baja=0 and enUso=1 and bomba=3 and perforador='163' and \" + hsBomba3 + \">hsInst;update [perforador].[dbo].[perforadorPieza] set hs= \" + hsBomba1 + \"+hs, hsInst=\" + hsBomba1 + \"where baja=0 and enUso=1 and bomba=1 and perforador='163' and  FLOOR(\" + hsBomba1 + \")< FLOOR(hsInst) AND \" + hsBomba1 + \">0 ; update [perforador].[dbo].[perforadorPieza] set hs= \" + hsBomba2 + \"+hs, hsInst=\" + hsBomba2 + \"where baja=0 and enUso=1 and bomba=2 and perforador='163' and  FLOOR(\" + hsBomba2 + \")< FLOOR(hsInst) AND \" + hsBomba2 + \">0; update [perforador].[dbo].[perforadorPieza] set hs= \" + hsBomba3 + \"+hs, hsInst=\" + hsBomba3 + \"where baja=0 and enUso=1 and bomba=3 and perforador='163' and  FLOOR(\" + hsBomba3 + \")< FLOOR(hsInst) AND \" + hsBomba3 +\">0; END\";\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1350,
        "y": 2620,
        "wires": [
            [
                "45885aeccb10d27d"
            ]
        ]
    },
    {
        "id": "0226130cbde69ce4",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "actualizaLogWellData",
        "func": "let perforador = global.get(\"163\");\nlet jobId=perforador.jobId;\nlet hsBomba1 = perforador.hsBomba1;\nlet hsBomba2 = perforador.hsBomba2;\nlet hsBomba3 = perforador.hsBomba3;\nlet on1 = perforador.on1;\nlet on2 = perforador.on2;\nlet on3 = perforador.on3;\nlet lts=perforador.ltsTanque;\nmsg.payload = \"INSERT INTO [dbo].[wellData] ([hsBomba1],[hsBomba2],[hsBomba3],[lts],perforador,jobId,[perforadorStr], [onBomba1], [onBomba2], [onBomba3]) VALUES (\" + hsBomba1 + \",\" + hsBomba2 + \",\" + hsBomba3 + \",\" + lts + \",163,'\" + jobId + \"','163',\" + on1 + \",\" + on2 + \",\" + on3+\")\";\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1340,
        "y": 2700,
        "wires": [
            [
                "45885aeccb10d27d"
            ]
        ]
    },
    {
        "id": "55a96a69116a0dae",
        "type": "delay",
        "z": "32e7e467ef5bdb86",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1100,
        "y": 2700,
        "wires": [
            [
                "0226130cbde69ce4",
                "1d32a8381e252382"
            ]
        ]
    },
    {
        "id": "c028f6b2c16315ff",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "actualizaLogHsPiezas",
        "func": "let perforador = global.get(\"163\");\nmsg.payload = \"INSERT INTO [dbo].[logPieza] ([idPerforadorPieza],[hs],[hsInst]) select idPerforadorPieza,hs,hsInst from  [dbo].[perforadorPieza] where enUso=1 and baja=0 and perforador='163'\";\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1340,
        "y": 2780,
        "wires": [
            [
                "45885aeccb10d27d"
            ]
        ]
    },
    {
        "id": "1d32a8381e252382",
        "type": "delay",
        "z": "32e7e467ef5bdb86",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1080,
        "y": 2780,
        "wires": [
            [
                "c028f6b2c16315ff"
            ]
        ]
    },
    {
        "id": "f5ce9e176eef2e10",
        "type": "link in",
        "z": "32e7e467ef5bdb86",
        "name": "link in 173",
        "links": [
            "d9e95919cc9a643c"
        ],
        "x": 75,
        "y": 2640,
        "wires": [
            [
                "15bab932b0bccf17",
                "9fcd35759bd97ecc"
            ]
        ]
    },
    {
        "id": "45885aeccb10d27d",
        "type": "link out",
        "z": "32e7e467ef5bdb86",
        "name": "link out 6",
        "mode": "link",
        "links": [
            "4180ce8f60052495"
        ],
        "x": 1585,
        "y": 2680,
        "wires": []
    },
    {
        "id": "8aaf96e6305955be",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "SetDatosJobs",
        "func": "let jobOld = global.get(\"166\");\nlet fecAct = msg.payload.timeRecords[0].timestamp;\nlet data = msg.payload.timeRecords[0].values;\nlet hs1=0;\nlet hs2=0;\nlet hs3=0;\nlet lts=0;\nlet on1=0;\nlet on2=0;\nlet on3=0;\nlet actualiza=false;\n\ntry {\n    hs1 = data[0][1].toFixed(1) * 1;\n}catch{}\ntry {\n    hs2 = data[1][1].toFixed(1) * 1;\n} catch { }\ntry {\n    hs3 = data[2][1].toFixed(1) * 1;\n} catch { }\ntry {\n    on1 = data[3][1].toFixed(0) * 1;\n} catch { }\ntry {\n    on2 = data[4][1].toFixed(0) * 1;\n} catch { }\ntry {\n    on3 = data[5][1].toFixed(0) * 1;\n} catch { }\ntry {\n    lts = data[6][1].toFixed(3) * 1000;\n} catch { }\n\nif ( hs1 != 0 || hs2 != 0 || hs3 != 0 || lts != 0){\n    actualiza=true;\n    let job = {\n        \"jobId\": jobOld.jobId,\n        \"name\": jobOld.name,\n        \"hsBomba1\": hs1,\n        \"hsBomba2\": hs2,\n        \"hsBomba3\": hs3,\n        \"ltsTanque\": lts,\n        \"factu\": fecAct,\n        \"on1\": on1,\n        \"on2\": on2,\n        \"on3\": on3\n    };\n    global.set(\"166\", job);\n}\nmsg.payload=actualiza;\nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 860,
        "y": 2960,
        "wires": [
            [
                "fa35910776eb391d"
            ]
        ]
    },
    {
        "id": "bb974852471da16d",
        "type": "http request",
        "z": "32e7e467ef5bdb86",
        "name": "PostInfo166",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "basic",
        "senderr": true,
        "headers": [
            {
                "keyType": "Accept",
                "keyValue": "",
                "valueType": "application/json",
                "valueValue": ""
            },
            {
                "keyType": "other",
                "keyValue": "token",
                "valueType": "msg",
                "valueValue": "token"
            }
        ],
        "x": 650,
        "y": 2960,
        "wires": [
            [
                "8aaf96e6305955be",
                "c10eedb6223896d8"
            ]
        ],
        "info": "{\r\n  \"attributes\": [\r\n    {\r\n      \"id\": \"Spare39\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Volume.Cubic meter.0\"\r\n    },\r\n\t{\r\n      \"id\": \"Spare59\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    },\r\n\t{\r\n      \"id\": \"RS-1342177397\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    },\r\n\t{\r\n      \"id\": \"RS-1342177398\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    }\r\n  ],\r\n  \"fromTime\": \"2023-01-05T19:58:35.336Z\",\r\n  \"toTime\": \"2023-01-05T19:58:36.336Z\",\r\n  \"interval\": 1,\r\n  \"isDifferential\": true\r\n}"
    },
    {
        "id": "23e30992229b81cf",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "parametros 166",
        "func": "let horaD = global.get(\"horaDesde\");\nlet horaH = global.get(\"horaHasta\");\nmsg.token = global.get(\"token\");\nmsg.payload = {\n    \"attributes\": [\n         {\n            \"id\": \"Spare493\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Hour.2\"\n        },\n        {\n            \"id\": \"Spare492\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Hour.2\"\n        },\n        {\n            \"id\": \"Spare491\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Hour.2\"\n        },\n        {\n            \"id\": \"PumpSpm\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n        {\n            \"id\": \"PumpSpm2\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n        {\n            \"id\": \"PumpSpm3\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n        {\n            \"id\": \"Spare5\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Volume.Cubic meter.0\"\n        }\n    ],\n    \"fromTime\": horaD,\n    \"toTime\": horaH,\n    \"interval\": 120,\n    \"isDifferential\": true\n}\nlet job = global.get(\"166\");\nmsg.urlWellData = \"https://data.welldata.net/api/v1/jobs/\"+job.jobId+\"/data/time\";\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 260,
        "y": 2960,
        "wires": [
            [
                "a18c7e1e695bb011"
            ]
        ]
    },
    {
        "id": "a18c7e1e695bb011",
        "type": "change",
        "z": "32e7e467ef5bdb86",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "urlWellData",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 450,
        "y": 2960,
        "wires": [
            [
                "bb974852471da16d"
            ]
        ]
    },
    {
        "id": "561ad2d263387cc6",
        "type": "comment",
        "z": "32e7e467ef5bdb86",
        "name": "PAE-166",
        "info": "",
        "x": 100,
        "y": 2920,
        "wires": []
    },
    {
        "id": "fa35910776eb391d",
        "type": "switch",
        "z": "32e7e467ef5bdb86",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "false"
            },
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1110,
        "y": 2940,
        "wires": [
            [],
            [
                "2ffe92102fd1cb64",
                "1df8b7643172bed5"
            ]
        ]
    },
    {
        "id": "2ffe92102fd1cb64",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "actualizaHsPiezas",
        "func": "let perforador = global.get(\"166\");\nlet hsBomba1 = perforador.hsBomba1;\nlet hsBomba2 = perforador.hsBomba2;\nlet hsBomba3 = perforador.hsBomba3;\nmsg.payload = \"BEGIN update [perforador].[dbo].[perforadorPieza] set hs=hs+(\" + hsBomba1 + \"-hsInst),hsInst=\" + hsBomba1 + \" where baja=0 and enUso=1 and bomba=1 and perforador='166' and \" + hsBomba1 + \">hsInst; update [perforador].[dbo].[perforadorPieza] set hs=hs+(\" + hsBomba2 + \"-hsInst),hsInst=\" + hsBomba2 + \" where baja=0 and enUso=1 and bomba=2 and perforador='166' and \" + hsBomba2 + \">hsInst; update [perforador].[dbo].[perforadorPieza] set hs=hs+(\" + hsBomba3 + \"-hsInst),hsInst=\" + hsBomba3 + \" where baja=0 and enUso=1 and bomba=3 and perforador='166' and \" + hsBomba3 + \">hsInst;update [perforador].[dbo].[perforadorPieza] set hs= \" + hsBomba1 + \"+hs, hsInst=\" + hsBomba1 + \"where baja=0 and enUso=1 and bomba=1 and perforador='166' and  FLOOR(\" + hsBomba1 + \")< FLOOR(hsInst) AND \" + hsBomba1 + \">0 ; update [perforador].[dbo].[perforadorPieza] set hs= \" + hsBomba2 + \"+hs, hsInst=\" + hsBomba2 + \"where baja=0 and enUso=1 and bomba=2 and perforador='166' and  FLOOR(\" + hsBomba2 + \")< FLOOR(hsInst) AND \" + hsBomba2 + \">0; update [perforador].[dbo].[perforadorPieza] set hs= \" + hsBomba3 + \"+hs, hsInst=\" + hsBomba3 + \"where baja=0 and enUso=1 and bomba=3 and perforador='166' and  FLOOR(\" + hsBomba3 + \")< FLOOR(hsInst) AND \" + hsBomba3 +\">0; END\";\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1350,
        "y": 2940,
        "wires": [
            [
                "163b8d48e8a590a2"
            ]
        ]
    },
    {
        "id": "f3a8770da3ab3620",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "actualizaLogWellData",
        "func": "let perforador = global.get(\"166\");\nlet jobId=perforador.jobId;\nlet hsBomba1 = perforador.hsBomba1;\nlet hsBomba2 = perforador.hsBomba2;\nlet hsBomba3 = perforador.hsBomba3;\nlet on1 = perforador.on1;\nlet on2 = perforador.on2;\nlet on3 = perforador.on3;\nlet lts=perforador.ltsTanque;\nmsg.payload = \"INSERT INTO [dbo].[wellData] ([hsBomba1],[hsBomba2],[hsBomba3],[lts],perforador,jobId,[perforadorStr], [onBomba1], [onBomba2], [onBomba3]) VALUES (\" + hsBomba1 + \",\" + hsBomba2 + \",\" + hsBomba3 + \",\" + lts + \",166,'\" + jobId + \"','166',\" + on1 + \",\" + on2 + \",\" + on3+\")\";\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1340,
        "y": 3020,
        "wires": [
            [
                "163b8d48e8a590a2"
            ]
        ]
    },
    {
        "id": "1df8b7643172bed5",
        "type": "delay",
        "z": "32e7e467ef5bdb86",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1100,
        "y": 3020,
        "wires": [
            [
                "f3a8770da3ab3620",
                "99737053aa5823af"
            ]
        ]
    },
    {
        "id": "e1f6ab0eae9b1edc",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "actualizaLogHsPiezas",
        "func": "let perforador = global.get(\"166\");\nmsg.payload = \"INSERT INTO [dbo].[logPieza] ([idPerforadorPieza],[hs],[hsInst]) select idPerforadorPieza,hs,hsInst from  [dbo].[perforadorPieza] where enUso=1 and baja=0 and perforador='166'\";\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1340,
        "y": 3100,
        "wires": [
            [
                "163b8d48e8a590a2"
            ]
        ]
    },
    {
        "id": "99737053aa5823af",
        "type": "delay",
        "z": "32e7e467ef5bdb86",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1080,
        "y": 3100,
        "wires": [
            [
                "e1f6ab0eae9b1edc"
            ]
        ]
    },
    {
        "id": "184bee3d2ffb04de",
        "type": "link in",
        "z": "32e7e467ef5bdb86",
        "name": "link in 174",
        "links": [
            "d9e95919cc9a643c"
        ],
        "x": 75,
        "y": 2960,
        "wires": [
            [
                "23e30992229b81cf"
            ]
        ]
    },
    {
        "id": "163b8d48e8a590a2",
        "type": "link out",
        "z": "32e7e467ef5bdb86",
        "name": "link out 7",
        "mode": "link",
        "links": [
            "4180ce8f60052495"
        ],
        "x": 1585,
        "y": 3000,
        "wires": []
    },
    {
        "id": "89c2bdaf576e068f",
        "type": "debug",
        "z": "32e7e467ef5bdb86",
        "name": "debug 170",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 810,
        "y": 1800,
        "wires": []
    },
    {
        "id": "46430c794a46f8ee",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "SetDatosJobs",
        "func": "let jobOld = global.get(\"167\");\nlet fecAct = msg.payload.timeRecords[0].timestamp;\nlet data = msg.payload.timeRecords[0].values;\nlet hs1=0;\nlet hs2=0;\nlet hs3=0;\nlet lts=0;\nlet on1=0;\nlet on2=0;\nlet on3=0;\nlet actualiza=false;\n\ntry {\n    hs1 = data[0][1].toFixed(1) * 1;\n}catch{}\ntry {\n    hs2 = data[1][1].toFixed(1) * 1;\n} catch { }\ntry {\n    hs3 = data[2][1].toFixed(1) * 1;\n} catch { }\ntry {\n    on1 = data[3][1].toFixed(0) * 1;\n} catch { }\ntry {\n    on2 = data[4][1].toFixed(0) * 1;\n} catch { }\ntry {\n    on3 = data[5][1].toFixed(0) * 1;\n} catch { }\ntry {\n    lts = data[6][1].toFixed(3) * 1000;\n} catch { }\nif ( hs1 != 0 || hs2 != 0 || hs3 != 0 || lts != 0){\n    actualiza=true;\n    let job = {\n        \"jobId\": jobOld.jobId,\n        \"name\": jobOld.name,\n        \"hsBomba1\": hs1,\n        \"hsBomba2\": hs2,\n        \"hsBomba3\": hs3,\n        \"ltsTanque\": lts,\n        \"factu\": fecAct,\n        \"on1\": on1,\n        \"on2\": on2,\n        \"on3\": on3\n    };\n    global.set(\"167\", job);\n}\nmsg.payload=actualiza;\nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 860,
        "y": 3300,
        "wires": [
            [
                "311b08e2b8022907"
            ]
        ]
    },
    {
        "id": "1166a2a79e22b095",
        "type": "http request",
        "z": "32e7e467ef5bdb86",
        "name": "PostInfo167",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "basic",
        "senderr": true,
        "headers": [
            {
                "keyType": "Accept",
                "keyValue": "",
                "valueType": "application/json",
                "valueValue": ""
            },
            {
                "keyType": "other",
                "keyValue": "token",
                "valueType": "msg",
                "valueValue": "token"
            }
        ],
        "x": 650,
        "y": 3300,
        "wires": [
            [
                "46430c794a46f8ee",
                "9ddba53a77c80ecf"
            ]
        ],
        "info": "{\r\n  \"attributes\": [\r\n    {\r\n      \"id\": \"Spare39\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Volume.Cubic meter.0\"\r\n    },\r\n\t{\r\n      \"id\": \"Spare59\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    },\r\n\t{\r\n      \"id\": \"RS-1342177397\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    },\r\n\t{\r\n      \"id\": \"RS-1342177398\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    }\r\n  ],\r\n  \"fromTime\": \"2023-01-05T19:58:35.336Z\",\r\n  \"toTime\": \"2023-01-05T19:58:36.336Z\",\r\n  \"interval\": 1,\r\n  \"isDifferential\": true\r\n}"
    },
    {
        "id": "4f726b09bc31493d",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "parametros 167",
        "func": "let horaD = global.get(\"horaDesde\");\nlet horaH = global.get(\"horaHasta\");\nmsg.token = global.get(\"token\");\nmsg.payload = {\n    \"attributes\": [\n        {\n            \"id\": \"Spare493\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Hour.2\"\n        },\n        {\n            \"id\": \"Spare492\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Hour.2\"\n        },\n        {\n            \"id\": \"Spare491\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Hour.2\"\n        },\n        {\n            \"id\": \"PumpSpm\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n        {\n            \"id\": \"PumpSpm2\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n        {\n            \"id\": \"PumpSpm3\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n        {\n            \"id\": \"PitVolume10\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Volume.Cubic meter.0\"\n        }\n    ],\n    \"fromTime\": horaD,\n    \"toTime\": horaH,\n    \"interval\": 1,\n    \"isDifferential\": true\n}\nlet job = global.get(\"167\");\nmsg.urlWellData = \"https://data.welldata.net/api/v1/jobs/\"+job.jobId+\"/data/time\";\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 260,
        "y": 3300,
        "wires": [
            [
                "e084b1397485fe45"
            ]
        ]
    },
    {
        "id": "e084b1397485fe45",
        "type": "change",
        "z": "32e7e467ef5bdb86",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "urlWellData",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 450,
        "y": 3300,
        "wires": [
            [
                "1166a2a79e22b095"
            ]
        ]
    },
    {
        "id": "c5a3c23b09f7a7bf",
        "type": "comment",
        "z": "32e7e467ef5bdb86",
        "name": "PAE-167",
        "info": "",
        "x": 100,
        "y": 3260,
        "wires": []
    },
    {
        "id": "311b08e2b8022907",
        "type": "switch",
        "z": "32e7e467ef5bdb86",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "false"
            },
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1110,
        "y": 3280,
        "wires": [
            [],
            [
                "aa419d52318c9433",
                "ec3ecd339f41654f"
            ]
        ]
    },
    {
        "id": "aa419d52318c9433",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "actualizaHsPiezas",
        "func": "let perforador = global.get(\"167\");\nlet hsBomba1 = perforador.hsBomba1;\nlet hsBomba2 = perforador.hsBomba2;\nlet hsBomba3 = perforador.hsBomba3;\nmsg.payload = \"BEGIN update [perforador].[dbo].[perforadorPieza] set hs=hs+(\" + hsBomba1 + \"-hsInst),hsInst=\" + hsBomba1 + \" where baja=0 and enUso=1 and bomba=1 and perforador='167' and \" + hsBomba1 + \">hsInst; update [perforador].[dbo].[perforadorPieza] set hs=hs+(\" + hsBomba2 + \"-hsInst),hsInst=\" + hsBomba2 + \" where baja=0 and enUso=1 and bomba=2 and perforador='167' and \" + hsBomba2 + \">hsInst; update [perforador].[dbo].[perforadorPieza] set hs=hs+(\" + hsBomba3 + \"-hsInst),hsInst=\" + hsBomba3 + \" where baja=0 and enUso=1 and bomba=3 and perforador='167' and \" + hsBomba3 + \">hsInst;update [perforador].[dbo].[perforadorPieza] set hs= \" + hsBomba1 + \"+hs, hsInst=\" + hsBomba1 + \"where baja=0 and enUso=1 and bomba=1 and perforador='167' and  FLOOR(\" + hsBomba1 + \")< FLOOR(hsInst) AND \" + hsBomba1 + \">0 ; update [perforador].[dbo].[perforadorPieza] set hs= \" + hsBomba2 + \"+hs, hsInst=\" + hsBomba2 + \"where baja=0 and enUso=1 and bomba=2 and perforador='167' and  FLOOR(\" + hsBomba2 + \")< FLOOR(hsInst) AND \" + hsBomba2 + \">0; update [perforador].[dbo].[perforadorPieza] set hs= \" + hsBomba3 + \"+hs, hsInst=\" + hsBomba3 + \"where baja=0 and enUso=1 and bomba=3 and perforador='167' and  FLOOR(\" + hsBomba3 + \")< FLOOR(hsInst) AND \" + hsBomba3 +\">0; END\";\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1350,
        "y": 3280,
        "wires": [
            [
                "c33878adcff59f51"
            ]
        ]
    },
    {
        "id": "12915723593d4fce",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "actualizaLogWellData",
        "func": "let perforador = global.get(\"167\");\nlet jobId=perforador.jobId;\nlet hsBomba1 = perforador.hsBomba1;\nlet hsBomba2 = perforador.hsBomba2;\nlet hsBomba3 = perforador.hsBomba3;\nlet on1 = perforador.on1;\nlet on2 = perforador.on2;\nlet on3 = perforador.on3;\nlet lts=perforador.ltsTanque;\nmsg.payload = \"INSERT INTO [dbo].[wellData] ([hsBomba1],[hsBomba2],[hsBomba3],[lts],perforador,jobId,[perforadorStr], [onBomba1], [onBomba2], [onBomba3]) VALUES (\" + hsBomba1 + \",\" + hsBomba2 + \",\" + hsBomba3 + \",\" + lts + \",167,'\" + jobId + \"','167',\" + on1 + \",\" + on2 + \",\" + on3+\")\";\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1340,
        "y": 3360,
        "wires": [
            [
                "c33878adcff59f51"
            ]
        ]
    },
    {
        "id": "ec3ecd339f41654f",
        "type": "delay",
        "z": "32e7e467ef5bdb86",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1100,
        "y": 3360,
        "wires": [
            [
                "12915723593d4fce",
                "81154bbf63dacabb"
            ]
        ]
    },
    {
        "id": "29bfdd179feaee08",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "actualizaLogHsPiezas",
        "func": "let perforador = global.get(\"167\");\nmsg.payload = \"INSERT INTO [dbo].[logPieza] ([idPerforadorPieza],[hs],[hsInst]) select idPerforadorPieza,hs,hsInst from  [dbo].[perforadorPieza] where enUso=1 and baja=0 and perforador='167'\";\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1340,
        "y": 3440,
        "wires": [
            [
                "c33878adcff59f51"
            ]
        ]
    },
    {
        "id": "81154bbf63dacabb",
        "type": "delay",
        "z": "32e7e467ef5bdb86",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1080,
        "y": 3440,
        "wires": [
            [
                "29bfdd179feaee08"
            ]
        ]
    },
    {
        "id": "c791f935817221c8",
        "type": "link in",
        "z": "32e7e467ef5bdb86",
        "name": "link in 175",
        "links": [
            "d9e95919cc9a643c"
        ],
        "x": 75,
        "y": 3300,
        "wires": [
            [
                "4f726b09bc31493d"
            ]
        ]
    },
    {
        "id": "c33878adcff59f51",
        "type": "link out",
        "z": "32e7e467ef5bdb86",
        "name": "link out 8",
        "mode": "link",
        "links": [
            "4180ce8f60052495"
        ],
        "x": 1585,
        "y": 3340,
        "wires": []
    },
    {
        "id": "e9f01f0eb072cd8e",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "SetDatosJobs",
        "func": "let jobOld = global.get(\"169\");\nlet fecAct = msg.payload.timeRecords[0].timestamp;\nlet data = msg.payload.timeRecords[0].values;\nlet hs1=0;\nlet hs2=0;\nlet hs3=0;\nlet lts=0;\nlet on1=0;\nlet on2=0;\nlet on3=0;\nlet actualiza=false;\n\ntry {\n    hs1 = data[0][1].toFixed(1) * 1;\n}catch{}\ntry {\n    hs2 = data[1][1].toFixed(1) * 1;\n} catch { }\ntry {\n    hs3 = data[2][1].toFixed(1) * 1;\n} catch { }\ntry {\n    on1 = data[3][1].toFixed(0) * 1;\n} catch { }\ntry {\n    on2 = data[4][1].toFixed(0) * 1;\n} catch { }\ntry {\n    on3 = data[5][1].toFixed(0) * 1;\n} catch { }\ntry {\n    lts = data[6][1].toFixed(3) * 1000;\n} catch { }\nif ( hs1 != 0 || hs2 != 0 || hs3 != 0 || lts != 0){\n    actualiza=true;\n    let job = {\n        \"jobId\": jobOld.jobId,\n        \"name\": jobOld.name,\n        \"hsBomba1\": hs1,\n        \"hsBomba2\": hs2,\n        \"hsBomba3\": hs3,\n        \"ltsTanque\": lts,\n        \"factu\": fecAct,\n        \"on1\": on1,\n        \"on2\": on2,\n        \"on3\": on3\n    };\n    global.set(\"169\", job);\n}\nmsg.payload=actualiza;\nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 860,
        "y": 3600,
        "wires": [
            [
                "4b58312593f86e1a"
            ]
        ]
    },
    {
        "id": "30bcca0b1543737a",
        "type": "http request",
        "z": "32e7e467ef5bdb86",
        "name": "PostInfo169",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "basic",
        "senderr": true,
        "headers": [
            {
                "keyType": "Accept",
                "keyValue": "",
                "valueType": "application/json",
                "valueValue": ""
            },
            {
                "keyType": "other",
                "keyValue": "token",
                "valueType": "msg",
                "valueValue": "token"
            }
        ],
        "x": 650,
        "y": 3600,
        "wires": [
            [
                "e9f01f0eb072cd8e",
                "f492157336e3f674"
            ]
        ],
        "info": "{\r\n  \"attributes\": [\r\n    {\r\n      \"id\": \"Spare39\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Volume.Cubic meter.0\"\r\n    },\r\n\t{\r\n      \"id\": \"Spare59\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    },\r\n\t{\r\n      \"id\": \"RS-1342177397\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    },\r\n\t{\r\n      \"id\": \"RS-1342177398\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    }\r\n  ],\r\n  \"fromTime\": \"2023-01-05T19:58:35.336Z\",\r\n  \"toTime\": \"2023-01-05T19:58:36.336Z\",\r\n  \"interval\": 1,\r\n  \"isDifferential\": true\r\n}"
    },
    {
        "id": "5bcfb1e5e4e1d166",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "parametros",
        "func": "let horaD = global.get(\"horaDesde\");\nlet horaH = global.get(\"horaHasta\");\nmsg.token = global.get(\"token\");\nmsg.payload = {\n    \"attributes\": [\n        {\n            \"id\": \"Spare493\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Hour.2\"\n        },\n        {\n            \"id\": \"Spare492\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Hour.2\"\n        },\n        {\n            \"id\": \"Spare491\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Hour.2\"\n        },\n        {\n            \"id\": \"PumpSpm\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n        {\n            \"id\": \"PumpSpm2\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n        {\n            \"id\": \"PumpSpm3\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n        {\n            \"id\": \"Spare3\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Volume.Cubic meter.0\"\n        }\n    ],\n    \"fromTime\": horaD,\n    \"toTime\": horaH,\n    \"interval\": 120,\n    \"isDifferential\": true\n}\nlet job = global.get(\"169\");\nmsg.urlWellData = \"https://data.welldata.net/api/v1/jobs/\"+job.jobId+\"/data/time\";\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 250,
        "y": 3600,
        "wires": [
            [
                "c4e0cdc4473a7341"
            ]
        ]
    },
    {
        "id": "c4e0cdc4473a7341",
        "type": "change",
        "z": "32e7e467ef5bdb86",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "urlWellData",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 450,
        "y": 3600,
        "wires": [
            [
                "30bcca0b1543737a"
            ]
        ]
    },
    {
        "id": "b5d603580f0a226d",
        "type": "comment",
        "z": "32e7e467ef5bdb86",
        "name": "PAE-169",
        "info": "",
        "x": 100,
        "y": 3560,
        "wires": []
    },
    {
        "id": "4b58312593f86e1a",
        "type": "switch",
        "z": "32e7e467ef5bdb86",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "false"
            },
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1110,
        "y": 3580,
        "wires": [
            [],
            [
                "ef6de558dddd5789",
                "a2eadf53458ff17c"
            ]
        ]
    },
    {
        "id": "ef6de558dddd5789",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "actualizaHsPiezas",
        "func": "let perforador = global.get(\"169\");\nlet hsBomba1 = perforador.hsBomba1;\nlet hsBomba2 = perforador.hsBomba2;\nlet hsBomba3 = perforador.hsBomba3;\nmsg.payload = \"BEGIN update [perforador].[dbo].[perforadorPieza] set hs=hs+(\" + hsBomba1 + \"-hsInst),hsInst=\" + hsBomba1 + \" where baja=0 and enUso=1 and bomba=1 and perforador='169' and \" + hsBomba1 + \">hsInst; update [perforador].[dbo].[perforadorPieza] set hs=hs+(\" + hsBomba2 + \"-hsInst),hsInst=\" + hsBomba2 + \" where baja=0 and enUso=1 and bomba=2 and perforador='169' and \" + hsBomba2 + \">hsInst; update [perforador].[dbo].[perforadorPieza] set hs=hs+(\" + hsBomba3 + \"-hsInst),hsInst=\" + hsBomba3 + \" where baja=0 and enUso=1 and bomba=3 and perforador='169' and \" + hsBomba3 + \">hsInst;update [perforador].[dbo].[perforadorPieza] set hs= \" + hsBomba1 + \"+hs, hsInst=\" + hsBomba1 + \"where baja=0 and enUso=1 and bomba=1 and perforador='169' and  FLOOR(\" + hsBomba1 + \")< FLOOR(hsInst) AND \" + hsBomba1 + \">0 ; update [perforador].[dbo].[perforadorPieza] set hs= \" + hsBomba2 + \"+hs, hsInst=\" + hsBomba2 + \"where baja=0 and enUso=1 and bomba=2 and perforador='169' and  FLOOR(\" + hsBomba2 + \")< FLOOR(hsInst) AND \" + hsBomba2 + \">0; update [perforador].[dbo].[perforadorPieza] set hs= \" + hsBomba3 + \"+hs, hsInst=\" + hsBomba3 + \"where baja=0 and enUso=1 and bomba=3 and perforador='169' and  FLOOR(\" + hsBomba3 + \")< FLOOR(hsInst) AND \" + hsBomba3 +\">0; END\";\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1350,
        "y": 3580,
        "wires": [
            [
                "eb69a46954fd8869"
            ]
        ]
    },
    {
        "id": "4a953c4f081354f6",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "actualizaLogWellData",
        "func": "let perforador = global.get(\"169\");\nlet jobId=perforador.jobId;\nlet hsBomba1 = perforador.hsBomba1;\nlet hsBomba2 = perforador.hsBomba2;\nlet hsBomba3 = perforador.hsBomba3;\nlet on1 = perforador.on1;\nlet on2 = perforador.on2;\nlet on3 = perforador.on3;\nlet lts=perforador.ltsTanque;\nmsg.payload = \"INSERT INTO [dbo].[wellData] ([hsBomba1],[hsBomba2],[hsBomba3],[lts],perforador,jobId,[perforadorStr], [onBomba1], [onBomba2], [onBomba3]) VALUES (\" + hsBomba1 + \",\" + hsBomba2 + \",\" + hsBomba3 + \",\" + lts + \",169,'\" + jobId + \"','169',\" + on1 + \",\" + on2 + \",\" + on3+\")\";\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1340,
        "y": 3660,
        "wires": [
            [
                "eb69a46954fd8869"
            ]
        ]
    },
    {
        "id": "a2eadf53458ff17c",
        "type": "delay",
        "z": "32e7e467ef5bdb86",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1100,
        "y": 3660,
        "wires": [
            [
                "4a953c4f081354f6",
                "d8de96dc260879c4"
            ]
        ]
    },
    {
        "id": "dad5c3be290f4a4f",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "actualizaLogHsPiezas",
        "func": "let perforador = global.get(\"169\");\nmsg.payload = \"INSERT INTO [dbo].[logPieza] ([idPerforadorPieza],[hs],[hsInst]) select idPerforadorPieza,hs,hsInst from  [dbo].[perforadorPieza] where enUso=1 and baja=0 and perforador='169'\";\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1340,
        "y": 3740,
        "wires": [
            [
                "eb69a46954fd8869"
            ]
        ]
    },
    {
        "id": "d8de96dc260879c4",
        "type": "delay",
        "z": "32e7e467ef5bdb86",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1080,
        "y": 3740,
        "wires": [
            [
                "dad5c3be290f4a4f"
            ]
        ]
    },
    {
        "id": "6b6d65c430898120",
        "type": "link in",
        "z": "32e7e467ef5bdb86",
        "name": "link in 176",
        "links": [
            "d9e95919cc9a643c"
        ],
        "x": 75,
        "y": 3600,
        "wires": [
            [
                "5bcfb1e5e4e1d166"
            ]
        ]
    },
    {
        "id": "eb69a46954fd8869",
        "type": "link out",
        "z": "32e7e467ef5bdb86",
        "name": "link out 9",
        "mode": "link",
        "links": [
            "4180ce8f60052495"
        ],
        "x": 1585,
        "y": 3640,
        "wires": []
    },
    {
        "id": "c10eedb6223896d8",
        "type": "debug",
        "z": "32e7e467ef5bdb86",
        "name": "debug 166",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 830,
        "y": 3080,
        "wires": []
    },
    {
        "id": "9ddba53a77c80ecf",
        "type": "debug",
        "z": "32e7e467ef5bdb86",
        "name": "debug 167",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 850,
        "y": 3380,
        "wires": []
    },
    {
        "id": "f492157336e3f674",
        "type": "debug",
        "z": "32e7e467ef5bdb86",
        "name": "debug 169",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 850,
        "y": 3680,
        "wires": []
    },
    {
        "id": "9f96db61d9eef666",
        "type": "debug",
        "z": "32e7e467ef5bdb86",
        "name": "debug 173",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 810,
        "y": 1220,
        "wires": []
    },
    {
        "id": "91c1fc4ba1ea8218",
        "type": "debug",
        "z": "32e7e467ef5bdb86",
        "name": "debug 160",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 770,
        "y": 1500,
        "wires": []
    },
    {
        "id": "ae07461788f88896",
        "type": "debug",
        "z": "32e7e467ef5bdb86",
        "name": "debug 001",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 770,
        "y": 2060,
        "wires": []
    },
    {
        "id": "5407cd4810e7b118",
        "type": "debug",
        "z": "32e7e467ef5bdb86",
        "name": "debug 168",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 830,
        "y": 2360,
        "wires": []
    },
    {
        "id": "2272eb25d72b8ba4",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "SetDatosJobs",
        "func": "let jobOld = global.get(\"161\");\nlet fecAct = msg.payload.timeRecords[0].timestamp;\nlet data = msg.payload.timeRecords[0].values;\nlet hs1=0;\nlet hs2=0;\nlet hs3=0;\nlet lts=0;\nlet on1=0;\nlet on2=0;\nlet on3=0;\nlet actualiza=false;\nlet hs1Aux=0;\nlet hs2Aux = 0;\nlet hs3Aux = 0;\n\ntry {\n    hs1Aux = (data[0][1].toFixed(1) * 1) / 3600;\n    // @ts-ignore\n    hs1 = hs1Aux.toFixed(1) * 1;\n}catch{}\ntry {\n    hs2Aux = (data[1][1].toFixed(1) * 1) / 3600;\n    // @ts-ignore\n    hs2 = hs2Aux.toFixed(1) * 1;\n} catch { }\ntry {\n    hs3Aux = (data[2][1].toFixed(1) * 1) / 3600;\n    // @ts-ignore\n    hs3 = hs3Aux.toFixed(1) * 1;\n} catch { }\ntry {\n    on1 = data[3][1].toFixed(0) * 1;\n} catch { }\ntry {\n    on2 = data[4][1].toFixed(0) * 1;\n} catch { }\ntry {\n    on3 = data[5][1].toFixed(0) * 1;\n} catch { }\ntry {\n    lts = data[6][1].toFixed(3) * 159;\n    lts=lts.toFixed(0);\n} catch { }\nif ( hs1 != 0 || hs2 != 0 || hs3 != 0 || lts != 0){\n    actualiza=true;\n    let job = {\n        \"jobId\": jobOld.jobId,\n        \"name\": jobOld.name,\n        \"hsBomba1\": hs1,\n        \"hsBomba2\": hs2,\n        \"hsBomba3\": hs3,\n        \"ltsTanque\": lts,\n        \"factu\": fecAct,\n        \"on1\": on1,\n        \"on2\": on2,\n        \"on3\": on3\n    };\n    global.set(\"161\", job);\n}\nmsg.payload=actualiza;\nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 860,
        "y": 3840,
        "wires": [
            [
                "3c01f4736017a94b"
            ]
        ]
    },
    {
        "id": "7c7c454dd2c0d9d5",
        "type": "http request",
        "z": "32e7e467ef5bdb86",
        "name": "PostInfo161",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "basic",
        "senderr": true,
        "headers": [
            {
                "keyType": "Accept",
                "keyValue": "",
                "valueType": "application/json",
                "valueValue": ""
            },
            {
                "keyType": "other",
                "keyValue": "token",
                "valueType": "msg",
                "valueValue": "token"
            }
        ],
        "x": 650,
        "y": 3840,
        "wires": [
            [
                "2272eb25d72b8ba4",
                "a308dac833c75618"
            ]
        ],
        "info": "{\r\n  \"attributes\": [\r\n    {\r\n      \"id\": \"Spare39\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Volume.Cubic meter.0\"\r\n    },\r\n\t{\r\n      \"id\": \"Spare59\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    },\r\n\t{\r\n      \"id\": \"RS-1342177397\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    },\r\n\t{\r\n      \"id\": \"RS-1342177398\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    }\r\n  ],\r\n  \"fromTime\": \"2023-01-05T19:58:35.336Z\",\r\n  \"toTime\": \"2023-01-05T19:58:36.336Z\",\r\n  \"interval\": 1,\r\n  \"isDifferential\": true\r\n}"
    },
    {
        "id": "92395c7647d594c2",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "parametros 161",
        "func": "let horaD = global.get(\"horaDesde\");\nlet horaH = global.get(\"horaHasta\");\nmsg.token = global.get(\"token\");\nmsg.payload = {\n    \"attributes\": [\n        {\n            \"id\": \"RS-1342177412\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Second.0\"\n        },\n        {\n            \"id\": \"RS-1342177413\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Second.0\"\n        },\n        {\n            \"id\": \"RS-1342177414\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Second.0\"\n        },\n        {\n            \"id\": \"PumpSpm\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n        {\n            \"id\": \"PumpSpm2\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n        {\n            \"id\": \"PumpSpm3\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n        {\n            \"id\": \"Spare79\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Volume.Barrel.4\"\n        }\n    ],\n    \"fromTime\": horaD,\n    \"toTime\": horaH,\n    \"interval\": 120,\n    \"isDifferential\": true\n}\nlet job = global.get(\"161\");\nmsg.urlWellData = \"https://data.welldata.net/api/v1/jobs/\"+job.jobId+\"/data/time\";\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 260,
        "y": 3840,
        "wires": [
            [
                "7888a86155998f9b"
            ]
        ]
    },
    {
        "id": "7888a86155998f9b",
        "type": "change",
        "z": "32e7e467ef5bdb86",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "urlWellData",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 450,
        "y": 3840,
        "wires": [
            [
                "7c7c454dd2c0d9d5"
            ]
        ]
    },
    {
        "id": "0b6fa93fa41fb983",
        "type": "comment",
        "z": "32e7e467ef5bdb86",
        "name": "PAE-161",
        "info": "",
        "x": 100,
        "y": 3800,
        "wires": []
    },
    {
        "id": "3c01f4736017a94b",
        "type": "switch",
        "z": "32e7e467ef5bdb86",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "false"
            },
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1110,
        "y": 3820,
        "wires": [
            [],
            [
                "d319d58725187df4",
                "c2ddf7424a5f9481"
            ]
        ]
    },
    {
        "id": "d319d58725187df4",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "actualizaHsPiezas",
        "func": "let perforador = global.get(\"161\");\nlet hsBomba1 = perforador.hsBomba1;\nlet hsBomba2 = perforador.hsBomba2;\nlet hsBomba3 = perforador.hsBomba3;\nmsg.payload = \"BEGIN update [perforador].[dbo].[perforadorPieza] set hs=hs+(\" + hsBomba1 + \"-hsInst),hsInst=\" + hsBomba1 + \" where baja=0 and enUso=1 and bomba=1 and perforador='161' and \" + hsBomba1 + \">hsInst; update [perforador].[dbo].[perforadorPieza] set hs=hs+(\" + hsBomba2 + \"-hsInst),hsInst=\" + hsBomba2 + \" where baja=0 and enUso=1 and bomba=2 and perforador='161' and \" + hsBomba2 + \">hsInst; update [perforador].[dbo].[perforadorPieza] set hs=hs+(\" + hsBomba3 + \"-hsInst),hsInst=\" + hsBomba3 + \" where baja=0 and enUso=1 and bomba=3 and perforador='161' and \" + hsBomba3 + \">hsInst;update [perforador].[dbo].[perforadorPieza] set hs= \" + hsBomba1 + \"+hs, hsInst=\" + hsBomba1 + \"where baja=0 and enUso=1 and bomba=1 and perforador='161' and  FLOOR(\" + hsBomba1 + \")< FLOOR(hsInst) AND \" + hsBomba1 + \">0 ; update [perforador].[dbo].[perforadorPieza] set hs= \" + hsBomba2 + \"+hs, hsInst=\" + hsBomba2 + \"where baja=0 and enUso=1 and bomba=2 and perforador='161' and  FLOOR(\" + hsBomba2 + \")< FLOOR(hsInst) AND \" + hsBomba2 + \">0; update [perforador].[dbo].[perforadorPieza] set hs= \" + hsBomba3 + \"+hs, hsInst=\" + hsBomba3 + \"where baja=0 and enUso=1 and bomba=3 and perforador='161' and  FLOOR(\" + hsBomba3 + \")< FLOOR(hsInst) AND \" + hsBomba3 +\">0; END\";\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1330,
        "y": 3820,
        "wires": [
            [
                "ab3624929e17cd16"
            ]
        ]
    },
    {
        "id": "150f3fd8c014ea76",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "actualizaLogWellData",
        "func": "let perforador = global.get(\"161\");\nlet jobId=perforador.jobId;\nlet hsBomba1 = perforador.hsBomba1;\nlet hsBomba2 = perforador.hsBomba2;\nlet hsBomba3 = perforador.hsBomba3;\nlet on1 = perforador.on1;\nlet on2 = perforador.on2;\nlet on3 = perforador.on3;\nlet lts=perforador.ltsTanque;\nmsg.payload = \"INSERT INTO [dbo].[wellData] ([hsBomba1],[hsBomba2],[hsBomba3],[lts],perforador,jobId,[perforadorStr], [onBomba1], [onBomba2], [onBomba3]) VALUES (\" + hsBomba1 + \",\" + hsBomba2 + \",\" + hsBomba3 + \",\" + lts + \",161,'\" + jobId + \"','161',\" + on1 + \",\" + on2 + \",\" + on3+\")\";\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1340,
        "y": 3900,
        "wires": [
            [
                "ab3624929e17cd16"
            ]
        ]
    },
    {
        "id": "c2ddf7424a5f9481",
        "type": "delay",
        "z": "32e7e467ef5bdb86",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1100,
        "y": 3900,
        "wires": [
            [
                "150f3fd8c014ea76",
                "b7c506629698e1cd"
            ]
        ]
    },
    {
        "id": "bb1260cac877e2f1",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "actualizaLogHsPiezas",
        "func": "let perforador = global.get(\"161\");\nmsg.payload = \"INSERT INTO [dbo].[logPieza] ([idPerforadorPieza],[hs],[hsInst]) select idPerforadorPieza,hs,hsInst from  [dbo].[perforadorPieza] where enUso=1 and baja=0 and perforador='161'\";\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1340,
        "y": 3980,
        "wires": [
            [
                "ab3624929e17cd16"
            ]
        ]
    },
    {
        "id": "b7c506629698e1cd",
        "type": "delay",
        "z": "32e7e467ef5bdb86",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1080,
        "y": 3980,
        "wires": [
            [
                "bb1260cac877e2f1"
            ]
        ]
    },
    {
        "id": "d719fd7db151a876",
        "type": "link in",
        "z": "32e7e467ef5bdb86",
        "name": "link in 177",
        "links": [
            "d9e95919cc9a643c"
        ],
        "x": 75,
        "y": 3840,
        "wires": [
            [
                "92395c7647d594c2"
            ]
        ]
    },
    {
        "id": "ab3624929e17cd16",
        "type": "link out",
        "z": "32e7e467ef5bdb86",
        "name": "link out 10",
        "mode": "link",
        "links": [
            "4180ce8f60052495"
        ],
        "x": 1585,
        "y": 3880,
        "wires": []
    },
    {
        "id": "a308dac833c75618",
        "type": "debug",
        "z": "32e7e467ef5bdb86",
        "name": "debug 161",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 850,
        "y": 3920,
        "wires": []
    },
    {
        "id": "114d848e1ac580d2",
        "type": "http request",
        "z": "32e7e467ef5bdb86",
        "name": "PostInfo174",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "basic",
        "senderr": true,
        "headers": [
            {
                "keyType": "Accept",
                "keyValue": "",
                "valueType": "application/json",
                "valueValue": ""
            },
            {
                "keyType": "other",
                "keyValue": "token",
                "valueType": "msg",
                "valueValue": "token"
            }
        ],
        "x": 650,
        "y": 4100,
        "wires": [
            [
                "7863a1ad08c67f01",
                "0c1b42f0f411294f"
            ]
        ],
        "info": "{\r\n  \"attributes\": [\r\n    {\r\n      \"id\": \"Spare39\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Volume.Cubic meter.0\"\r\n    },\r\n\t{\r\n      \"id\": \"Spare59\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    },\r\n\t{\r\n      \"id\": \"RS-1342177397\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    },\r\n\t{\r\n      \"id\": \"RS-1342177398\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    }\r\n  ],\r\n  \"fromTime\": \"2023-01-05T19:58:35.336Z\",\r\n  \"toTime\": \"2023-01-05T19:58:36.336Z\",\r\n  \"interval\": 1,\r\n  \"isDifferential\": true\r\n}"
    },
    {
        "id": "ff5512fa7ec147b4",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "parametros 174",
        "func": "let horaD = global.get(\"horaDesde\");\nlet horaH = global.get(\"horaHasta\");\nmsg.token = global.get(\"token\");\nmsg.payload = {\n    \"attributes\": [\n         {\n            \"id\": \"Spare\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Minute.1\"\n        },\n        {\n            \"id\": \"Spare2\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Minute.1\"\n        },\n\n        {\n            \"id\": \"PumpSpm\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n        {\n            \"id\": \"PumpSpm2\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n         {\n            \"id\": \"PitVolume11\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Volume.Barrel.4\"\n        }\n    ],\n    \"fromTime\": horaD,\n    \"toTime\": horaH,\n    \"interval\": 120,\n    \"isDifferential\": true\n}\nlet job = global.get(\"174\");\nmsg.urlWellData = \"https://data.welldata.net/api/v1/jobs/\"+job.jobId+\"/data/time\";\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 260,
        "y": 4100,
        "wires": [
            [
                "046e14f1277126fe"
            ]
        ]
    },
    {
        "id": "046e14f1277126fe",
        "type": "change",
        "z": "32e7e467ef5bdb86",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "urlWellData",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 450,
        "y": 4100,
        "wires": [
            [
                "114d848e1ac580d2"
            ]
        ]
    },
    {
        "id": "ce6e838408a172cf",
        "type": "comment",
        "z": "32e7e467ef5bdb86",
        "name": "PAE-174",
        "info": "",
        "x": 100,
        "y": 4060,
        "wires": []
    },
    {
        "id": "6f2d5e0aa8e8c57c",
        "type": "link in",
        "z": "32e7e467ef5bdb86",
        "name": "link in 178",
        "links": [
            "d9e95919cc9a643c"
        ],
        "x": 75,
        "y": 4100,
        "wires": [
            [
                "ff5512fa7ec147b4"
            ]
        ]
    },
    {
        "id": "7863a1ad08c67f01",
        "type": "debug",
        "z": "32e7e467ef5bdb86",
        "name": "debug 174",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 850,
        "y": 4180,
        "wires": []
    },
    {
        "id": "0c1b42f0f411294f",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "SetDatosJobs",
        "func": "let jobOld = global.get(\"174\");\nlet fecAct = msg.payload.timeRecords[0].timestamp;\nlet data = msg.payload.timeRecords[0].values;\nlet hs1Aux=0;\nlet hs2Aux = 0;\nlet hs1=0;\nlet hs2=0;\nlet on1=0;\nlet on2=0;\nlet actualiza=false;\nlet lts = 0;\n\n\ntry {\n    hs1Aux = (data[0][1].toFixed(1) * 1)/60;\n      // @ts-ignore\n    hs1 = hs1Aux.toFixed(1) * 1;\n}catch{}\ntry {\n    hs2Aux = (data[1][1].toFixed(1) * 1) / 60;\n    // @ts-ignore\n    hs2 = hs2Aux.toFixed(1) * 1;\n} catch { }\n\ntry {\n    on1 = data[2][1].toFixed(0) * 1;\n} catch { }\ntry {\n    on2 = data[3][1].toFixed(0) * 1;\n} catch { }\ntry {\n    lts = data[4][1].toFixed(3) * 159;\n} catch { }\n\n\nif ( hs1 != 0 || hs2 != 0){\n    actualiza=true;\n    let job = {\n        \"jobId\": jobOld.jobId,\n        \"name\": jobOld.name,\n        \"hsBomba1\": hs1,\n        \"hsBomba2\": hs2,\n        \"factu\": fecAct,\n        \"on1\": on1,\n        \"on2\": on2,\n        \"ltsTanque\": lts\n\n    };\n    global.set(\"174\", job);\n}\nmsg.payload=actualiza;\nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 860,
        "y": 4100,
        "wires": [
            [
                "aacc2f39c50b09df",
                "7863a1ad08c67f01"
            ]
        ]
    },
    {
        "id": "aacc2f39c50b09df",
        "type": "switch",
        "z": "32e7e467ef5bdb86",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "false"
            },
            {
                "t": "true"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 1110,
        "y": 4100,
        "wires": [
            [],
            [
                "92e602daa893f285",
                "6ef6591dbe33379a"
            ]
        ]
    },
    {
        "id": "92e602daa893f285",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "actualizaHsPiezas",
        "func": "let perforador = global.get(\"174\");\nlet hsBomba1 = perforador.hsBomba1;\nlet hsBomba2 = perforador.hsBomba2;\nmsg.payload = \"BEGIN update [perforador].[dbo].[perforadorPieza] set hs=hs+(\" + hsBomba1 + \"-hsInst),hsInst=\" + hsBomba1 + \" where baja=0 and enUso=1 and bomba=1 and perforador='174' and \" + hsBomba1 + \">hsInst; update [perforador].[dbo].[perforadorPieza] set hs=hs+(\" + hsBomba2 + \"-hsInst),hsInst=\" + hsBomba2 + \" where baja=0 and enUso=1 and bomba=2 and perforador='174' and \" + hsBomba2 + \">hsInst; update [perforador].[dbo].[perforadorPieza] set hs= \" + hsBomba1 + \"+hs, hsInst=\" + hsBomba1 + \"where baja=0 and enUso=1 and bomba=1 and perforador='174' and  FLOOR(\" + hsBomba1 + \")< FLOOR(hsInst) AND \" + hsBomba1 + \">0 ; update [perforador].[dbo].[perforadorPieza] set hs= \" + hsBomba2 + \"+hs, hsInst=\" + hsBomba2 + \"where baja=0 and enUso=1 and bomba=2 and perforador='174' and  FLOOR(\" + hsBomba2 + \")< FLOOR(hsInst) AND \" + hsBomba2 + \">0; END\";\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1350,
        "y": 4100,
        "wires": [
            [
                "ec9ab8c7c4623127"
            ]
        ]
    },
    {
        "id": "27058fc99eec1392",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "actualizaLogWellData",
        "func": "let perforador = global.get(\"174\");\nlet jobId=perforador.jobId;\nlet hsBomba1 = perforador.hsBomba1;\nlet hsBomba2 = perforador.hsBomba2;\nlet hsBomba3 = 0;\nlet on1 = perforador.on1;\nlet on2 = perforador.on2;\nlet on3 =0;\nlet lts = perforador.ltsTanque;\nmsg.payload = \"INSERT INTO [dbo].[wellData] ([hsBomba1],[hsBomba2],[hsBomba3],[lts],perforador,jobId,[perforadorStr], [onBomba1], [onBomba2], [onBomba3]) VALUES (\" + hsBomba1 + \",\" + hsBomba2 + \",\" + hsBomba3 + \",\" + lts + \",174,'\" + jobId + \"','174',\" + on1 + \",\" + on2 + \",\" + on3+\")\";\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1340,
        "y": 4180,
        "wires": [
            [
                "ec9ab8c7c4623127"
            ]
        ]
    },
    {
        "id": "6ef6591dbe33379a",
        "type": "delay",
        "z": "32e7e467ef5bdb86",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1100,
        "y": 4180,
        "wires": [
            [
                "27058fc99eec1392",
                "904e226bfb91853e"
            ]
        ]
    },
    {
        "id": "ee6c59640d637ff4",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "actualizaLogHsPiezas",
        "func": "let perforador = global.get(\"174\");\nmsg.payload = \"INSERT INTO [dbo].[logPieza] ([idPerforadorPieza],[hs],[hsInst]) select idPerforadorPieza,hs,hsInst from  [dbo].[perforadorPieza] where enUso=1 and baja=0 and perforador='174'\";\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1340,
        "y": 4260,
        "wires": [
            [
                "ec9ab8c7c4623127"
            ]
        ]
    },
    {
        "id": "904e226bfb91853e",
        "type": "delay",
        "z": "32e7e467ef5bdb86",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1080,
        "y": 4260,
        "wires": [
            [
                "ee6c59640d637ff4"
            ]
        ]
    },
    {
        "id": "5c69320d7f912f6c",
        "type": "debug",
        "z": "32e7e467ef5bdb86",
        "name": "debug 163",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 670,
        "y": 2760,
        "wires": []
    },
    {
        "id": "56c89b60c855f22d",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "SetDatosJobs",
        "func": "let jobOld = global.get(\"165\");\nlet fecAct = msg.payload.timeRecords[0].timestamp;\nlet data = msg.payload.timeRecords[0].values;\nlet hs1=0;\nlet hs2=0;\nlet hs3=0;\nlet lts=0;\nlet on1=0;\nlet on2=0;\nlet on3=0;\nlet actualiza=false;\n\n\ntry {\n    hs1 = data[1][1].toFixed(1) * 1;\n}catch{}\ntry {\n    hs2 = data[2][1].toFixed(1) * 1;\n} catch { }\ntry {\n    hs3 = data[3][1].toFixed(1) * 1;\n} catch { }\ntry {\n    lts = data[0][1].toFixed(3) * 1000;\n} catch { }\ntry {\n    on1 = data[4][1].toFixed(0) * 1;\n} catch { }\ntry {\n    on2 = data[5][1].toFixed(0) * 1;\n} catch { }\ntry {\n    on3 = data[6][1].toFixed(0) * 1;\n} catch { }\n\n\nif (hs1 != 0 || hs2 != 0 || hs3 != 0 || lts != 0){\n    actualiza=true;\n    let job = {\n        \"jobId\": jobOld.jobId,\n        \"name\": jobOld.name,\n        \"hsBomba1\": hs1,\n        \"hsBomba2\": hs2,\n        \"hsBomba3\": hs3,\n        \"ltsTanque\": lts,\n        \"factu\": fecAct,\n        \"on1\": on1,\n        \"on2\": on2,\n        \"on3\": on3\n    };\n    global.set(\"165\", job);\n}\nmsg.payload=actualiza;\nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 860,
        "y": 580,
        "wires": [
            [
                "d2d84714ed15b083"
            ]
        ]
    },
    {
        "id": "f8388da38e8c5d42",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "SetDatosJobs",
        "func": "let jobOld = global.get(\"163\");\nlet vfBomba=flow.get(\"vfBomba\");\nlet vf1=vfBomba.vf1*1;\nlet vf2=vfBomba.vf2*1;\nlet fecAct = msg.payload.timeRecords[0].timestamp;\nlet data = msg.payload.timeRecords[0].values;\nlet hs1=0;\nlet hs2=0;\nlet hs3=0;\nlet lts=0;\nlet on1=0;\nlet on2=0;\nlet on3=0;\nlet actualiza=false;\nlet hsvfBomba1 = 0;\nlet hsvfBomba2 = 0;\nlet hsvfBomba3 = 0;\nlet ltsm = data[6][1];\n\ntry {\n    hs1 = data[0][1].toFixed(1) * 1;\n}catch{}\ntry {\n    hs2 = data[1][1].toFixed(1) * 1;\n} catch { }\ntry {\n    hs3 = data[2][1].toFixed(1) * 1;\n} catch { }\n\ntry {\n    on1 = data[3][1].toFixed(0) * 1;\n} catch { }\ntry {\n    on2 = data[4][1].toFixed(0) * 1;\n} catch { }\ntry {\n    on3 = data[5][1].toFixed(0) * 1;\n} catch { }\ntry {\n    ltsm=ltsm*100;\n    lts = -0.0036 * (ltsm * ltsm * ltsm) + 1.5243 * (ltsm * ltsm) + 126.45 * ltsm - 831.61;\n    lts=lts.toFixed(0);\n} catch { }\n\nswitch (vf1) {\n    case 1:\n        hsvfBomba1=hs1;\n        break;\n    case 2:\n        hsvfBomba2=hs1;\n        break;\n    case3:\n        hsvfBomba3=hs1;\n        break;\n}\n\nswitch (vf2) {\n    case 1:\n        hsvfBomba1 = hs2;\n        break;\n    case 2:\n        hsvfBomba2 = hs2;\n        break;\n    case 3:\n        hsvfBomba3 = hs2;\n        break;\n}\n\n\n\nif (hsvfBomba1 != 0 || hsvfBomba2 != 0 || hsvfBomba3 != 0 || lts != 0){\n    actualiza=true;\n    let job = {\n        \"jobId\": jobOld.jobId,\n        \"name\": jobOld.name,\n        \"hsBomba1\": hsvfBomba1,\n        \"hsBomba2\": hsvfBomba2,\n        \"hsBomba3\": hsvfBomba3,\n        \"ltsTanque\": lts,\n        \"factu\": fecAct,\n        \"on1\": on1,\n        \"on2\": on2,\n        \"on3\": on3\n    };\n    global.set(\"163\", job);\n}\nmsg.payload=actualiza;\nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 900,
        "y": 2640,
        "wires": [
            [
                "d74f77fc6a368919"
            ]
        ]
    },
    {
        "id": "9fcd35759bd97ecc",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "buscaVfBomba",
        "func": "msg.payload = \"BEGIN SELECT * FROM [perforador].[dbo].[vfBomba]; END\";\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 360,
        "y": 2820,
        "wires": [
            [
                "573368d83e765975"
            ]
        ]
    },
    {
        "id": "573368d83e765975",
        "type": "MSSQL",
        "z": "32e7e467ef5bdb86",
        "mssqlCN": "af3a3f5145cd0651",
        "name": "",
        "outField": "payload",
        "returnType": 0,
        "throwErrors": 1,
        "query": "",
        "modeOpt": "queryMode",
        "modeOptType": "query",
        "queryOpt": "payload",
        "queryOptType": "editor",
        "paramsOpt": "queryParams",
        "paramsOptType": "none",
        "rows": "rows",
        "rowsType": "msg",
        "parseMustache": true,
        "params": [],
        "x": 580,
        "y": 2820,
        "wires": [
            [
                "fc51ddacdb21e4c1"
            ]
        ]
    },
    {
        "id": "fc51ddacdb21e4c1",
        "type": "function",
        "z": "32e7e467ef5bdb86",
        "name": "SetDatosVfBomba",
        "func": "let data = msg.payload;\nlet vf1 = data[0].vf1;\nlet vf2 = data[0].vf2;\n\n    let vfBomba = {\n        \"vf1\": data[0].vf1,\n        \"vf2\": data[0].vf2,\n     \n    };\n    flow.set(\"vfBomba\", vfBomba);\nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 790,
        "y": 2820,
        "wires": [
            []
        ]
    },
    {
        "id": "1107caf47d5d6a18",
        "type": "link in",
        "z": "32e7e467ef5bdb86",
        "name": "link in 179",
        "links": [
            "d9e95919cc9a643c"
        ],
        "x": 115,
        "y": 580,
        "wires": [
            [
                "92428aee57db67f7"
            ]
        ]
    },
    {
        "id": "ec9ab8c7c4623127",
        "type": "link out",
        "z": "32e7e467ef5bdb86",
        "name": "link out 11",
        "mode": "link",
        "links": [
            "4180ce8f60052495"
        ],
        "x": 1575,
        "y": 4160,
        "wires": []
    },
    {
        "id": "27cf3c5e29cfd7a0",
        "type": "MSSQL",
        "z": "7aafb8f9b85dc734",
        "mssqlCN": "fd548ee37fee356f",
        "name": "",
        "outField": "payload",
        "returnType": 0,
        "throwErrors": 1,
        "query": "",
        "modeOpt": "queryMode",
        "modeOptType": "query",
        "queryOpt": "payload",
        "queryOptType": "editor",
        "paramsOpt": "queryParams",
        "paramsOptType": "none",
        "rows": "rows",
        "rowsType": "msg",
        "parseMustache": true,
        "params": [],
        "x": 420,
        "y": 280,
        "wires": [
            [
                "63bfaea2c964ce76"
            ]
        ]
    },
    {
        "id": "ebdc54520c15f8c1",
        "type": "function",
        "z": "7aafb8f9b85dc734",
        "name": "lts165",
        "func": "msg.payload = \"USE perforador; SELECT fecha,lts FROM [perforador].[dbo].[wellData] where perforador =165 and fecha= (SELECT max(fecha) FROM [perforador].[dbo].[wellData] where perforador =165 and lts!=0)\"\nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 250,
        "y": 280,
        "wires": [
            [
                "27cf3c5e29cfd7a0"
            ]
        ]
    },
    {
        "id": "6b74430cb11285ad",
        "type": "inject",
        "z": "7aafb8f9b85dc734",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "120",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 280,
        "wires": [
            [
                "ebdc54520c15f8c1"
            ]
        ]
    },
    {
        "id": "1caa5cb189b426d7",
        "type": "ui_gauge",
        "z": "7aafb8f9b85dc734",
        "name": "",
        "group": "6243850b622416b6",
        "order": 1,
        "width": "4",
        "height": "4",
        "gtype": "wave",
        "title": "DLS165",
        "label": "Lts",
        "format": "{{msg.payload.lts}}",
        "min": 0,
        "max": "80000",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "diff": false,
        "className": "",
        "x": 740,
        "y": 300,
        "wires": []
    },
    {
        "id": "63bfaea2c964ce76",
        "type": "split",
        "z": "7aafb8f9b85dc734",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 590,
        "y": 260,
        "wires": [
            [
                "1caa5cb189b426d7",
                "9108c2f1d0c5530e"
            ]
        ]
    },
    {
        "id": "7b5e50edb44c174c",
        "type": "MSSQL",
        "z": "7aafb8f9b85dc734",
        "mssqlCN": "fd548ee37fee356f",
        "name": "",
        "outField": "payload",
        "returnType": 0,
        "throwErrors": 1,
        "query": "",
        "modeOpt": "queryMode",
        "modeOptType": "query",
        "queryOpt": "payload",
        "queryOptType": "editor",
        "paramsOpt": "queryParams",
        "paramsOptType": "none",
        "rows": "rows",
        "rowsType": "msg",
        "parseMustache": true,
        "params": [],
        "x": 420,
        "y": 60,
        "wires": [
            [
                "498c08d7f9ea9e88"
            ]
        ]
    },
    {
        "id": "c544f732e78536ce",
        "type": "function",
        "z": "7aafb8f9b85dc734",
        "name": "lts161",
        "func": "msg.payload = \"USE perforador; SELECT fecha,lts FROM [perforador].[dbo].[wellData] where perforador =161 and fecha= (SELECT max(fecha) FROM [perforador].[dbo].[wellData] where perforador =161 and lts!=0)\"\nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 250,
        "y": 60,
        "wires": [
            [
                "7b5e50edb44c174c"
            ]
        ]
    },
    {
        "id": "d823bc571cfae450",
        "type": "inject",
        "z": "7aafb8f9b85dc734",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "120",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 60,
        "wires": [
            [
                "c544f732e78536ce"
            ]
        ]
    },
    {
        "id": "8800fdea415767e8",
        "type": "ui_gauge",
        "z": "7aafb8f9b85dc734",
        "name": "",
        "group": "d6246002fee954e5",
        "order": 1,
        "width": "4",
        "height": "4",
        "gtype": "wave",
        "title": "DLS161",
        "label": "Lts",
        "format": "{{msg.payload.lts}}",
        "min": 0,
        "max": "80000",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "diff": false,
        "className": "",
        "x": 740,
        "y": 80,
        "wires": []
    },
    {
        "id": "498c08d7f9ea9e88",
        "type": "split",
        "z": "7aafb8f9b85dc734",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 590,
        "y": 60,
        "wires": [
            [
                "8800fdea415767e8",
                "0b0e0a042f168090"
            ]
        ]
    },
    {
        "id": "ba5020ba59d9e916",
        "type": "MSSQL",
        "z": "7aafb8f9b85dc734",
        "mssqlCN": "fd548ee37fee356f",
        "name": "",
        "outField": "payload",
        "returnType": 0,
        "throwErrors": 1,
        "query": "",
        "modeOpt": "queryMode",
        "modeOptType": "query",
        "queryOpt": "payload",
        "queryOptType": "editor",
        "paramsOpt": "queryParams",
        "paramsOptType": "none",
        "rows": "rows",
        "rowsType": "msg",
        "parseMustache": true,
        "params": [],
        "x": 420,
        "y": 400,
        "wires": [
            [
                "35d1ce607c2608a7"
            ]
        ]
    },
    {
        "id": "aef1df24d4f35331",
        "type": "function",
        "z": "7aafb8f9b85dc734",
        "name": "lts166",
        "func": "msg.payload = \"USE perforador; SELECT fecha,lts FROM [perforador].[dbo].[wellData] where perforador =166 and fecha= (SELECT max(fecha) FROM [perforador].[dbo].[wellData] where perforador =166 and lts!=0)\"\nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 250,
        "y": 400,
        "wires": [
            [
                "ba5020ba59d9e916"
            ]
        ]
    },
    {
        "id": "7a899144e949aa06",
        "type": "inject",
        "z": "7aafb8f9b85dc734",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "120",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 400,
        "wires": [
            [
                "aef1df24d4f35331"
            ]
        ]
    },
    {
        "id": "c0290710bd8cd445",
        "type": "ui_gauge",
        "z": "7aafb8f9b85dc734",
        "name": "",
        "group": "404054f22ba9d762",
        "order": 1,
        "width": "4",
        "height": "4",
        "gtype": "wave",
        "title": "DLS166",
        "label": "Lts",
        "format": "{{msg.payload.lts}}",
        "min": 0,
        "max": "80000",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "diff": false,
        "className": "",
        "x": 740,
        "y": 420,
        "wires": []
    },
    {
        "id": "35d1ce607c2608a7",
        "type": "split",
        "z": "7aafb8f9b85dc734",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 590,
        "y": 400,
        "wires": [
            [
                "c0290710bd8cd445",
                "522f07dcefaedc3b"
            ]
        ]
    },
    {
        "id": "956cb0c7ce6d5e76",
        "type": "MSSQL",
        "z": "7aafb8f9b85dc734",
        "mssqlCN": "fd548ee37fee356f",
        "name": "",
        "outField": "payload",
        "returnType": 0,
        "throwErrors": 1,
        "query": "",
        "modeOpt": "queryMode",
        "modeOptType": "query",
        "queryOpt": "payload",
        "queryOptType": "editor",
        "paramsOpt": "queryParams",
        "paramsOptType": "none",
        "rows": "rows",
        "rowsType": "msg",
        "parseMustache": true,
        "params": [],
        "x": 400,
        "y": 500,
        "wires": [
            [
                "72d1e6c3fc5132ef"
            ]
        ]
    },
    {
        "id": "cbb74b247c980ff1",
        "type": "function",
        "z": "7aafb8f9b85dc734",
        "name": "lts167",
        "func": "msg.payload = \"USE perforador; SELECT fecha,lts FROM [perforador].[dbo].[wellData] where perforador =167 and fecha= (SELECT max(fecha) FROM [perforador].[dbo].[wellData] where perforador =167 and lts!=0)\"\nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 230,
        "y": 500,
        "wires": [
            [
                "956cb0c7ce6d5e76"
            ]
        ]
    },
    {
        "id": "bba85160d84bdded",
        "type": "inject",
        "z": "7aafb8f9b85dc734",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "120",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 90,
        "y": 500,
        "wires": [
            [
                "cbb74b247c980ff1"
            ]
        ]
    },
    {
        "id": "a8867aa0a1253417",
        "type": "ui_gauge",
        "z": "7aafb8f9b85dc734",
        "name": "",
        "group": "8948b1d433f0cbe5",
        "order": 1,
        "width": "4",
        "height": "4",
        "gtype": "wave",
        "title": "DLS167",
        "label": "Lts",
        "format": "{{msg.payload.lts}}",
        "min": 0,
        "max": "80000",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "diff": false,
        "className": "",
        "x": 720,
        "y": 520,
        "wires": []
    },
    {
        "id": "72d1e6c3fc5132ef",
        "type": "split",
        "z": "7aafb8f9b85dc734",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 570,
        "y": 500,
        "wires": [
            [
                "a8867aa0a1253417",
                "df85ad91ab5e8af5"
            ]
        ]
    },
    {
        "id": "82962ee4f72aef4c",
        "type": "MSSQL",
        "z": "7aafb8f9b85dc734",
        "mssqlCN": "fd548ee37fee356f",
        "name": "",
        "outField": "payload",
        "returnType": 0,
        "throwErrors": 1,
        "query": "",
        "modeOpt": "queryMode",
        "modeOptType": "query",
        "queryOpt": "payload",
        "queryOptType": "editor",
        "paramsOpt": "queryParams",
        "paramsOptType": "none",
        "rows": "rows",
        "rowsType": "msg",
        "parseMustache": true,
        "params": [],
        "x": 420,
        "y": 600,
        "wires": [
            [
                "fc181b4e0b762fd0"
            ]
        ]
    },
    {
        "id": "489d36ac89297567",
        "type": "function",
        "z": "7aafb8f9b85dc734",
        "name": "lts168",
        "func": "msg.payload = \"USE perforador; SELECT fecha,lts FROM [perforador].[dbo].[wellData] where perforador =168 and fecha= (SELECT max(fecha) FROM [perforador].[dbo].[wellData] where perforador =168 and lts!=0)\"\nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 270,
        "y": 600,
        "wires": [
            [
                "82962ee4f72aef4c"
            ]
        ]
    },
    {
        "id": "e52cd643404226f2",
        "type": "inject",
        "z": "7aafb8f9b85dc734",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "120",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 600,
        "wires": [
            [
                "489d36ac89297567"
            ]
        ]
    },
    {
        "id": "4d2015096758441f",
        "type": "ui_gauge",
        "z": "7aafb8f9b85dc734",
        "name": "",
        "group": "2c7395181af92377",
        "order": 1,
        "width": "4",
        "height": "4",
        "gtype": "wave",
        "title": "DLS168",
        "label": "Lts",
        "format": "{{msg.payload.lts}}",
        "min": 0,
        "max": "80000",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "diff": false,
        "className": "",
        "x": 720,
        "y": 660,
        "wires": []
    },
    {
        "id": "fc181b4e0b762fd0",
        "type": "split",
        "z": "7aafb8f9b85dc734",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 570,
        "y": 600,
        "wires": [
            [
                "4d2015096758441f",
                "a128f5db43a943a4"
            ]
        ]
    },
    {
        "id": "5618690d4a53f75f",
        "type": "MSSQL",
        "z": "7aafb8f9b85dc734",
        "mssqlCN": "fd548ee37fee356f",
        "name": "",
        "outField": "payload",
        "returnType": 0,
        "throwErrors": 1,
        "query": "",
        "modeOpt": "queryMode",
        "modeOptType": "query",
        "queryOpt": "payload",
        "queryOptType": "editor",
        "paramsOpt": "queryParams",
        "paramsOptType": "none",
        "rows": "rows",
        "rowsType": "msg",
        "parseMustache": true,
        "params": [],
        "x": 420,
        "y": 720,
        "wires": [
            [
                "79ee7c57915adf15"
            ]
        ]
    },
    {
        "id": "4ac1f134e069ee70",
        "type": "function",
        "z": "7aafb8f9b85dc734",
        "name": "lts169",
        "func": "msg.payload = \"USE perforador; SELECT fecha,lts FROM [perforador].[dbo].[wellData] where perforador =169 and fecha= (SELECT max(fecha) FROM [perforador].[dbo].[wellData] where perforador =169 and lts!=0)\"\nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 270,
        "y": 720,
        "wires": [
            [
                "5618690d4a53f75f"
            ]
        ]
    },
    {
        "id": "9594e68b1382f38e",
        "type": "inject",
        "z": "7aafb8f9b85dc734",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "120",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 720,
        "wires": [
            [
                "4ac1f134e069ee70"
            ]
        ]
    },
    {
        "id": "9829bded18d848f2",
        "type": "ui_gauge",
        "z": "7aafb8f9b85dc734",
        "name": "",
        "group": "cdb370f0b00eb412",
        "order": 1,
        "width": "4",
        "height": "4",
        "gtype": "wave",
        "title": "DLS169",
        "label": "Lts",
        "format": "{{msg.payload.lts}}",
        "min": 0,
        "max": "80000",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "diff": false,
        "className": "",
        "x": 720,
        "y": 780,
        "wires": []
    },
    {
        "id": "79ee7c57915adf15",
        "type": "split",
        "z": "7aafb8f9b85dc734",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 570,
        "y": 720,
        "wires": [
            [
                "9829bded18d848f2",
                "020bf70787d2beef"
            ]
        ]
    },
    {
        "id": "17909e5a29725072",
        "type": "MSSQL",
        "z": "7aafb8f9b85dc734",
        "mssqlCN": "fd548ee37fee356f",
        "name": "",
        "outField": "payload",
        "returnType": 0,
        "throwErrors": 1,
        "query": "",
        "modeOpt": "queryMode",
        "modeOptType": "query",
        "queryOpt": "payload",
        "queryOptType": "editor",
        "paramsOpt": "queryParams",
        "paramsOptType": "none",
        "rows": "rows",
        "rowsType": "msg",
        "parseMustache": true,
        "params": [],
        "x": 400,
        "y": 840,
        "wires": [
            [
                "9b875e1e6f59caee"
            ]
        ]
    },
    {
        "id": "194ec7b0f3129932",
        "type": "function",
        "z": "7aafb8f9b85dc734",
        "name": "lts170",
        "func": "msg.payload = \"USE perforador; SELECT fecha,lts FROM [perforador].[dbo].[wellData] where perforador =170 and fecha= (SELECT max(fecha) FROM [perforador].[dbo].[wellData] where perforador =170 and lts!=0)\"\nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 250,
        "y": 840,
        "wires": [
            [
                "17909e5a29725072"
            ]
        ]
    },
    {
        "id": "c1de43ac92b596b2",
        "type": "inject",
        "z": "7aafb8f9b85dc734",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "120",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 840,
        "wires": [
            [
                "194ec7b0f3129932"
            ]
        ]
    },
    {
        "id": "71811978a871a0be",
        "type": "ui_gauge",
        "z": "7aafb8f9b85dc734",
        "name": "",
        "group": "17441489140318bf",
        "order": 1,
        "width": "4",
        "height": "4",
        "gtype": "wave",
        "title": "DLS170",
        "label": "Lts",
        "format": "{{msg.payload.lts}}",
        "min": 0,
        "max": "80000",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "diff": false,
        "className": "",
        "x": 700,
        "y": 900,
        "wires": []
    },
    {
        "id": "9b875e1e6f59caee",
        "type": "split",
        "z": "7aafb8f9b85dc734",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 550,
        "y": 840,
        "wires": [
            [
                "71811978a871a0be",
                "a365dccafe63bcb2"
            ]
        ]
    },
    {
        "id": "3b47a9fa3c35130b",
        "type": "split",
        "z": "7aafb8f9b85dc734",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 590,
        "y": 160,
        "wires": [
            [
                "d7a912783a7b88b4",
                "7f2726867aaa28d6"
            ]
        ]
    },
    {
        "id": "1a6a761258948c2a",
        "type": "MSSQL",
        "z": "7aafb8f9b85dc734",
        "mssqlCN": "fd548ee37fee356f",
        "name": "",
        "outField": "payload",
        "returnType": 0,
        "throwErrors": 1,
        "query": "",
        "modeOpt": "queryMode",
        "modeOptType": "query",
        "queryOpt": "payload",
        "queryOptType": "editor",
        "paramsOpt": "queryParams",
        "paramsOptType": "none",
        "rows": "rows",
        "rowsType": "msg",
        "parseMustache": true,
        "params": [],
        "x": 420,
        "y": 180,
        "wires": [
            [
                "3b47a9fa3c35130b"
            ]
        ]
    },
    {
        "id": "2905c4b4aa914aa1",
        "type": "function",
        "z": "7aafb8f9b85dc734",
        "name": "lts163",
        "func": "msg.payload = \"USE perforador; SELECT fecha,lts FROM [perforador].[dbo].[wellData] where perforador =163 and fecha= (SELECT max(fecha) FROM [perforador].[dbo].[wellData] where perforador =163 and lts!=0)\"\nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 250,
        "y": 180,
        "wires": [
            [
                "1a6a761258948c2a"
            ]
        ]
    },
    {
        "id": "fde916e4b657f464",
        "type": "inject",
        "z": "7aafb8f9b85dc734",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "120",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 180,
        "wires": [
            [
                "2905c4b4aa914aa1"
            ]
        ]
    },
    {
        "id": "d7a912783a7b88b4",
        "type": "ui_gauge",
        "z": "7aafb8f9b85dc734",
        "name": "",
        "group": "2106fc816d1c5658",
        "order": 1,
        "width": "4",
        "height": "4",
        "gtype": "wave",
        "title": "DLS163",
        "label": "Lts",
        "format": "{{msg.payload.lts}}",
        "min": 0,
        "max": "80000",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "diff": false,
        "className": "",
        "x": 740,
        "y": 200,
        "wires": []
    },
    {
        "id": "985feec72a041020",
        "type": "MSSQL",
        "z": "7aafb8f9b85dc734",
        "mssqlCN": "fd548ee37fee356f",
        "name": "",
        "outField": "payload",
        "returnType": 0,
        "throwErrors": 1,
        "query": "",
        "modeOpt": "queryMode",
        "modeOptType": "query",
        "queryOpt": "payload",
        "queryOptType": "editor",
        "paramsOpt": "queryParams",
        "paramsOptType": "none",
        "rows": "rows",
        "rowsType": "msg",
        "parseMustache": true,
        "params": [],
        "x": 400,
        "y": 960,
        "wires": [
            [
                "515062d25e510cc9"
            ]
        ]
    },
    {
        "id": "25f1f7095f964bd1",
        "type": "function",
        "z": "7aafb8f9b85dc734",
        "name": "lts001",
        "func": "msg.payload = \"USE perforador; SELECT fecha,lts FROM [perforador].[dbo].[wellData] where perforador =1 and fecha= (SELECT max(fecha) FROM [perforador].[dbo].[wellData] where perforador =1 and lts!=0)\"\nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 250,
        "y": 960,
        "wires": [
            [
                "985feec72a041020"
            ]
        ]
    },
    {
        "id": "8cc619a064973643",
        "type": "inject",
        "z": "7aafb8f9b85dc734",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "120",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 960,
        "wires": [
            [
                "25f1f7095f964bd1"
            ]
        ]
    },
    {
        "id": "4ce4beefbdca6c06",
        "type": "ui_gauge",
        "z": "7aafb8f9b85dc734",
        "name": "",
        "group": "55ca23fc7834c91e",
        "order": 1,
        "width": "4",
        "height": "4",
        "gtype": "wave",
        "title": "PAE001",
        "label": "Lts",
        "format": "{{msg.payload.lts}}",
        "min": 0,
        "max": "80000",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "diff": false,
        "className": "",
        "x": 700,
        "y": 1020,
        "wires": []
    },
    {
        "id": "515062d25e510cc9",
        "type": "split",
        "z": "7aafb8f9b85dc734",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 550,
        "y": 960,
        "wires": [
            [
                "4ce4beefbdca6c06",
                "a1ab565573299bc7"
            ]
        ]
    },
    {
        "id": "a1ab565573299bc7",
        "type": "function",
        "z": "7aafb8f9b85dc734",
        "name": "fecha",
        "func": "let fecha = msg.payload.fecha;\n// Suma 3 horas a la fecha\nfecha.setHours(fecha.getHours() + 3);\nlet ahora = new Date();\nlet f = fecha.toLocaleString();\nlet diferencia = (ahora.getTime() - fecha.getTime()) / 3600000;\nmsg.payload = { \"fecha\": f, \"dif\": diferencia };\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 710,
        "y": 960,
        "wires": [
            [
                "fbc3bf1eb00f8f0d"
            ]
        ]
    },
    {
        "id": "fbc3bf1eb00f8f0d",
        "type": "ui_template",
        "z": "7aafb8f9b85dc734",
        "group": "55ca23fc7834c91e",
        "name": "",
        "order": 2,
        "width": "4",
        "height": "1",
        "format": "<div layout=\"row\" >\n    <p>\n        <font color=\"{{(msg.payload.dif > 12) ? 'red' : 'green'}}\" weight:'bold'>\n           {{msg.payload.fecha}}\n        </font>\n    </p>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 860,
        "y": 960,
        "wires": [
            []
        ]
    },
    {
        "id": "a365dccafe63bcb2",
        "type": "function",
        "z": "7aafb8f9b85dc734",
        "name": "fecha",
        "func": "let fecha = msg.payload.fecha;\n// Suma 3 horas a la fecha\nfecha.setHours(fecha.getHours() + 3);\nlet ahora = new Date();\nlet f = fecha.toLocaleString();\nlet diferencia = (ahora.getTime() - fecha.getTime()) / 3600000;\nmsg.payload = { \"fecha\": f, \"dif\": diferencia };\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 710,
        "y": 840,
        "wires": [
            [
                "2870e1b6adab7726"
            ]
        ]
    },
    {
        "id": "2870e1b6adab7726",
        "type": "ui_template",
        "z": "7aafb8f9b85dc734",
        "group": "17441489140318bf",
        "name": "",
        "order": 2,
        "width": "4",
        "height": "1",
        "format": "<div layout=\"row\" >\n    <p>\n        <font color=\"{{(msg.payload.dif > 12) ? 'red' : 'green'}}\" weight:'bold'>\n           {{msg.payload.fecha}}\n        </font>\n    </p>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 860,
        "y": 840,
        "wires": [
            []
        ]
    },
    {
        "id": "020bf70787d2beef",
        "type": "function",
        "z": "7aafb8f9b85dc734",
        "name": "fecha",
        "func": "let fecha = msg.payload.fecha;\n// Suma 3 horas a la fecha\nfecha.setHours(fecha.getHours() + 3);\nlet ahora = new Date();\nlet f = fecha.toLocaleString();\nlet diferencia = (ahora.getTime() - fecha.getTime()) / 3600000;\nmsg.payload = { \"fecha\": f, \"dif\": diferencia };\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 730,
        "y": 720,
        "wires": [
            [
                "a7c11f168bf4677f"
            ]
        ]
    },
    {
        "id": "a7c11f168bf4677f",
        "type": "ui_template",
        "z": "7aafb8f9b85dc734",
        "group": "cdb370f0b00eb412",
        "name": "",
        "order": 2,
        "width": "4",
        "height": "1",
        "format": "<div layout=\"row\" >\n    <p>\n        <font color=\"{{(msg.payload.dif > 12) ? 'red' : 'green'}}\" weight:'bold'>\n           {{msg.payload.fecha}}\n        </font>\n    </p>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 880,
        "y": 720,
        "wires": [
            []
        ]
    },
    {
        "id": "a128f5db43a943a4",
        "type": "function",
        "z": "7aafb8f9b85dc734",
        "name": "fecha",
        "func": "let fecha = msg.payload.fecha;\n// Suma 3 horas a la fecha\nfecha.setHours(fecha.getHours() + 3);\nlet ahora = new Date();\nlet f = fecha.toLocaleString();\nlet diferencia = (ahora.getTime() - fecha.getTime()) / 3600000;\nmsg.payload = { \"fecha\": f, \"dif\": diferencia };\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 710,
        "y": 600,
        "wires": [
            [
                "ed554a306ef9d9a7"
            ]
        ]
    },
    {
        "id": "ed554a306ef9d9a7",
        "type": "ui_template",
        "z": "7aafb8f9b85dc734",
        "group": "2c7395181af92377",
        "name": "",
        "order": 2,
        "width": "4",
        "height": "1",
        "format": "<div layout=\"row\" >\n    <p>\n        <font color=\"{{(msg.payload.dif > 12) ? 'red' : 'green'}}\" weight:'bold'>\n           {{msg.payload.fecha}}\n        </font>\n    </p>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 860,
        "y": 600,
        "wires": [
            []
        ]
    },
    {
        "id": "df85ad91ab5e8af5",
        "type": "function",
        "z": "7aafb8f9b85dc734",
        "name": "fecha",
        "func": "let fecha = msg.payload.fecha;\n// Suma 3 horas a la fecha\nfecha.setHours(fecha.getHours() + 3);\nlet ahora = new Date();\nlet f = fecha.toLocaleString();\nlet diferencia = (ahora.getTime() - fecha.getTime()) / 3600000;\nmsg.payload = { \"fecha\": f, \"dif\": diferencia };\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 730,
        "y": 460,
        "wires": [
            [
                "0c872d3fa1dfb7af"
            ]
        ]
    },
    {
        "id": "0c872d3fa1dfb7af",
        "type": "ui_template",
        "z": "7aafb8f9b85dc734",
        "group": "8948b1d433f0cbe5",
        "name": "",
        "order": 2,
        "width": "4",
        "height": "1",
        "format": "<div layout=\"row\" >\n    <p>\n        <font color=\"{{(msg.payload.dif > 12) ? 'red' : 'green'}}\" weight:'bold'>\n           {{msg.payload.fecha}}\n        </font>\n    </p>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 880,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "522f07dcefaedc3b",
        "type": "function",
        "z": "7aafb8f9b85dc734",
        "name": "fecha",
        "func": "let fecha = msg.payload.fecha;\n// Suma 3 horas a la fecha\nfecha.setHours(fecha.getHours() + 3);\nlet ahora = new Date();\nlet f = fecha.toLocaleString();\nlet diferencia = (ahora.getTime() - fecha.getTime()) / 3600000;\nmsg.payload = { \"fecha\": f, \"dif\": diferencia };\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 730,
        "y": 380,
        "wires": [
            [
                "370cddb7baa4567c"
            ]
        ]
    },
    {
        "id": "370cddb7baa4567c",
        "type": "ui_template",
        "z": "7aafb8f9b85dc734",
        "group": "404054f22ba9d762",
        "name": "",
        "order": 2,
        "width": "4",
        "height": "1",
        "format": "<div layout=\"row\" >\n    <p>\n        <font color=\"{{(msg.payload.dif > 12) ? 'red' : 'green'}}\" weight:'bold'>\n           {{msg.payload.fecha}}\n        </font>\n    </p>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 880,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "9108c2f1d0c5530e",
        "type": "function",
        "z": "7aafb8f9b85dc734",
        "name": "fecha",
        "func": "let fecha = msg.payload.fecha;\n// Suma 3 horas a la fecha\nfecha.setHours(fecha.getHours() + 3);\nlet ahora = new Date();\nlet f = fecha.toLocaleString();\nlet diferencia = (ahora.getTime() - fecha.getTime()) / 3600000;\nmsg.payload = { \"fecha\": f, \"dif\": diferencia };\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 730,
        "y": 240,
        "wires": [
            [
                "eed9a82d128211bf"
            ]
        ]
    },
    {
        "id": "eed9a82d128211bf",
        "type": "ui_template",
        "z": "7aafb8f9b85dc734",
        "group": "6243850b622416b6",
        "name": "",
        "order": 2,
        "width": "4",
        "height": "1",
        "format": "<div layout=\"row\" >\n    <p>\n        <font color=\"{{(msg.payload.dif > 12) ? 'red' : 'green'}}\" weight:'bold'>\n           {{msg.payload.fecha}}\n        </font>\n    </p>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 880,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "7f2726867aaa28d6",
        "type": "function",
        "z": "7aafb8f9b85dc734",
        "name": "fecha",
        "func": "let fecha = msg.payload.fecha;\n// Suma 3 horas a la fecha\nfecha.setHours(fecha.getHours() + 3);\nlet ahora = new Date();\nlet f = fecha.toLocaleString();\nlet diferencia = (ahora.getTime() - fecha.getTime()) / 3600000;\nmsg.payload = { \"fecha\": f, \"dif\": diferencia };\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 710,
        "y": 120,
        "wires": [
            [
                "2b0720af71dd8cdd"
            ]
        ]
    },
    {
        "id": "2b0720af71dd8cdd",
        "type": "ui_template",
        "z": "7aafb8f9b85dc734",
        "group": "2106fc816d1c5658",
        "name": "",
        "order": 2,
        "width": "4",
        "height": "1",
        "format": "<div layout=\"row\" >\n    <p>\n        <font color=\"{{(msg.payload.dif > 12) ? 'red' : 'green'}}\" weight:'bold'>\n           {{msg.payload.fecha}}\n        </font>\n    </p>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 860,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "0b0e0a042f168090",
        "type": "function",
        "z": "7aafb8f9b85dc734",
        "name": "fecha",
        "func": "let fecha = msg.payload.fecha;\n// Suma 3 horas a la fecha\nfecha.setHours(fecha.getHours() + 3);\nlet ahora = new Date();\nlet f = fecha.toLocaleString();\nlet diferencia = (ahora.getTime() - fecha.getTime()) / 3600000;\nmsg.payload = { \"fecha\": f, \"dif\": diferencia };\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 746.8958129882812,
        "y": 20,
        "wires": [
            [
                "d18691708cf8da1a"
            ]
        ]
    },
    {
        "id": "d18691708cf8da1a",
        "type": "ui_template",
        "z": "7aafb8f9b85dc734",
        "group": "d6246002fee954e5",
        "name": "",
        "order": 2,
        "width": "4",
        "height": "1",
        "format": "<div layout=\"row\" >\n    <p>\n        <font color=\"{{(msg.payload.dif > 12) ? 'red' : 'green'}}\" weight:'bold'>\n           {{msg.payload.fecha}}\n        </font>\n    </p>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 906.8958129882812,
        "y": 20,
        "wires": [
            []
        ]
    },
    {
        "id": "79ccb0ab53001b0e",
        "type": "inject",
        "z": "6cd83c021871d75e",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": "10",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 100,
        "y": 40,
        "wires": [
            [
                "7c0893ac3ef198c9"
            ]
        ]
    },
    {
        "id": "7c0893ac3ef198c9",
        "type": "function",
        "z": "6cd83c021871d75e",
        "name": "setup",
        "func": "msg.token = global.get(\"token\");\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 270,
        "y": 40,
        "wires": [
            [
                "3bc66843bdbdbd83"
            ]
        ]
    },
    {
        "id": "3bc66843bdbdbd83",
        "type": "http request",
        "z": "6cd83c021871d75e",
        "name": "GetJobs",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "https://data.welldata.net/api/v1/jobs?jobStatus=ActiveJobs",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "basic",
        "senderr": true,
        "headers": [
            {
                "keyType": "Accept",
                "keyValue": "",
                "valueType": "application/json",
                "valueValue": ""
            },
            {
                "keyType": "other",
                "keyValue": "token",
                "valueType": "msg",
                "valueValue": "token"
            }
        ],
        "x": 420,
        "y": 40,
        "wires": [
            [
                "6e3e3ede2954334f"
            ]
        ],
        "info": "{\r\n  \"attributes\": [\r\n    {\r\n      \"id\": \"Spare39\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Volume.Cubic meter.0\"\r\n    },\r\n\t{\r\n      \"id\": \"Spare59\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    },\r\n\t{\r\n      \"id\": \"RS-1342177397\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    },\r\n\t{\r\n      \"id\": \"RS-1342177398\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    }\r\n  ],\r\n  \"fromTime\": \"2023-01-05T19:58:35.336Z\",\r\n  \"toTime\": \"2023-01-05T19:58:36.336Z\",\r\n  \"interval\": 1,\r\n  \"isDifferential\": true\r\n}"
    },
    {
        "id": "4ee14706a4875f07",
        "type": "debug",
        "z": "6cd83c021871d75e",
        "name": "JOBS",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1070,
        "y": 40,
        "wires": []
    },
    {
        "id": "6e3e3ede2954334f",
        "type": "split",
        "z": "6cd83c021871d75e",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 570,
        "y": 40,
        "wires": [
            [
                "e9955539f980f56b"
            ]
        ]
    },
    {
        "id": "e9955539f980f56b",
        "type": "split",
        "z": "6cd83c021871d75e",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 710,
        "y": 40,
        "wires": [
            [
                "12e083d790a1b350"
            ]
        ]
    },
    {
        "id": "12e083d790a1b350",
        "type": "function",
        "z": "6cd83c021871d75e",
        "name": "jobInfo",
        "func": "let id = msg.payload.id;\nlet name = msg.payload.name;\nlet rigNameAux = msg.payload.assetInfoList[0].name;\nlet rigName = rigNameAux.replace(' ', '');\nlet job = {\n    \"perforador\":rigName,\n   \"jobId\": id,\n   \"name\": name,\n   \"hsBomba1\":0,\n   \"hsBomba2\": 0,\n   \"hsBomba3\": 0,\n   \"ltsTanque\": 0\n\n};\nmsg.payload=job;\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 850,
        "y": 40,
        "wires": [
            [
                "4ee14706a4875f07"
            ]
        ]
    },
    {
        "id": "fbc0b685eadeb415",
        "type": "http request",
        "z": "6cd83c021871d75e",
        "name": "PostInfo170",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "basic",
        "senderr": true,
        "headers": [
            {
                "keyType": "Accept",
                "keyValue": "",
                "valueType": "application/json",
                "valueValue": ""
            },
            {
                "keyType": "other",
                "keyValue": "token",
                "valueType": "msg",
                "valueValue": "token"
            }
        ],
        "x": 630,
        "y": 2240,
        "wires": [
            [
                "dd270dffc2f02c6c",
                "fd072fa1459c81e1"
            ]
        ],
        "info": "{\r\n  \"attributes\": [\r\n    {\r\n      \"id\": \"Spare39\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Volume.Cubic meter.0\"\r\n    },\r\n\t{\r\n      \"id\": \"Spare59\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    },\r\n\t{\r\n      \"id\": \"RS-1342177397\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    },\r\n\t{\r\n      \"id\": \"RS-1342177398\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    }\r\n  ],\r\n  \"fromTime\": \"2023-01-05T19:58:35.336Z\",\r\n  \"toTime\": \"2023-01-05T19:58:36.336Z\",\r\n  \"interval\": 1,\r\n  \"isDifferential\": true\r\n}"
    },
    {
        "id": "2b3274c67e74c14f",
        "type": "function",
        "z": "6cd83c021871d75e",
        "name": "parametros 170",
        "func": "let horaD = flow.get(\"horaD\");\nlet horaH = flow.get(\"horaH\");\nmsg.token = global.get(\"token\");\nmsg.payload = {\n    \"attributes\": [\n        {\n            \"id\": \"Spare79\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Volume.Barrel.4\"\n        },\n        {\n            \"id\": \"RS-1342177412\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Hour.2\"\n        },\n        {\n            \"id\": \"RS-1342177413\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Hour.2\"\n        },\n        {\n            \"id\": \"RS-1342177414\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Hour.2\"\n        },\n        {\n            \"id\": \"PumpSpm\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n        {\n            \"id\": \"PumpSpm2\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n        {\n            \"id\": \"PumpSpm3\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        }\n    ],\n    \"fromTime\": horaD,\n    \"toTime\": horaH,\n    \"interval\": 120,\n    \"isDifferential\": true\n}\nlet job = global.get(\"170\");\nmsg.urlWellData = \"https://data.welldata.net/api/v1/jobs/\"+job.jobId+\"/data/time\";\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 280,
        "y": 2240,
        "wires": [
            [
                "d1117a7b49c5bfbd"
            ]
        ]
    },
    {
        "id": "d1117a7b49c5bfbd",
        "type": "change",
        "z": "6cd83c021871d75e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "urlWellData",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 470,
        "y": 2240,
        "wires": [
            [
                "fbc0b685eadeb415"
            ]
        ]
    },
    {
        "id": "7baf886d22876830",
        "type": "comment",
        "z": "6cd83c021871d75e",
        "name": "DLS-170",
        "info": "",
        "x": 80,
        "y": 2200,
        "wires": []
    },
    {
        "id": "fd072fa1459c81e1",
        "type": "debug",
        "z": "6cd83c021871d75e",
        "name": "debug 170",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 830,
        "y": 2320,
        "wires": []
    },
    {
        "id": "2934c42e0ce9c32f",
        "type": "inject",
        "z": "6cd83c021871d75e",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 100,
        "y": 2240,
        "wires": [
            [
                "2b3274c67e74c14f"
            ]
        ]
    },
    {
        "id": "20029f37dbaa9bb9",
        "type": "moment",
        "z": "6cd83c021871d75e",
        "name": "",
        "topic": "",
        "input": "payload",
        "inputType": "msg",
        "inTz": "ETC/UTC",
        "adjAmount": "15",
        "adjType": "minutes",
        "adjDir": "subtract",
        "format": "",
        "locale": "es-ES",
        "output": "payload",
        "outputType": "msg",
        "outTz": "Etc/GMT",
        "x": 360,
        "y": 100,
        "wires": [
            [
                "86ed9a6fd39ee7b9"
            ]
        ]
    },
    {
        "id": "69058a0396d319a1",
        "type": "inject",
        "z": "6cd83c021871d75e",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "40",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 100,
        "wires": [
            [
                "20029f37dbaa9bb9",
                "14e58a7d74ed3bdc"
            ]
        ]
    },
    {
        "id": "14e58a7d74ed3bdc",
        "type": "delay",
        "z": "6cd83c021871d75e",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 320,
        "y": 160,
        "wires": [
            [
                "17ca4a3e85e0098f"
            ]
        ]
    },
    {
        "id": "17ca4a3e85e0098f",
        "type": "moment",
        "z": "6cd83c021871d75e",
        "name": "",
        "topic": "",
        "input": "",
        "inputType": "date",
        "inTz": "ETC/UTC",
        "adjAmount": "15",
        "adjType": "seconds",
        "adjDir": "subtract",
        "format": "",
        "locale": "es-ES",
        "output": "payload",
        "outputType": "msg",
        "outTz": "Etc/GMT",
        "x": 560,
        "y": 160,
        "wires": [
            [
                "b11e58ad1974f8e8"
            ]
        ]
    },
    {
        "id": "86ed9a6fd39ee7b9",
        "type": "function",
        "z": "6cd83c021871d75e",
        "name": "horaDesde",
        "func": "flow.set(\"horaD\",msg.payload);\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 610,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "b11e58ad1974f8e8",
        "type": "function",
        "z": "6cd83c021871d75e",
        "name": "horaHasta",
        "func": "flow.set(\"horaH\",msg.payload);\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 810,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "8b644192fa9127f0",
        "type": "split",
        "z": "6cd83c021871d75e",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1070,
        "y": 2240,
        "wires": [
            [
                "fd072fa1459c81e1"
            ]
        ]
    },
    {
        "id": "dd270dffc2f02c6c",
        "type": "change",
        "z": "6cd83c021871d75e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.timeRecords",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 840,
        "y": 2240,
        "wires": [
            [
                "8b644192fa9127f0"
            ]
        ]
    },
    {
        "id": "899d0e83cbdc0395",
        "type": "http request",
        "z": "6cd83c021871d75e",
        "name": "PostInfo156",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "basic",
        "senderr": true,
        "headers": [
            {
                "keyType": "Accept",
                "keyValue": "",
                "valueType": "application/json",
                "valueValue": ""
            },
            {
                "keyType": "other",
                "keyValue": "token",
                "valueType": "msg",
                "valueValue": "token"
            }
        ],
        "x": 630,
        "y": 400,
        "wires": [
            [
                "f94cb59eaa7b76b4",
                "649de3dec16932ea"
            ]
        ],
        "info": "{\r\n  \"attributes\": [\r\n    {\r\n      \"id\": \"Spare39\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Volume.Cubic meter.0\"\r\n    },\r\n\t{\r\n      \"id\": \"Spare59\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    },\r\n\t{\r\n      \"id\": \"RS-1342177397\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    },\r\n\t{\r\n      \"id\": \"RS-1342177398\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    }\r\n  ],\r\n  \"fromTime\": \"2023-01-05T19:58:35.336Z\",\r\n  \"toTime\": \"2023-01-05T19:58:36.336Z\",\r\n  \"interval\": 1,\r\n  \"isDifferential\": true\r\n}"
    },
    {
        "id": "a3aecd72b05bdaef",
        "type": "function",
        "z": "6cd83c021871d75e",
        "name": "parametros 156",
        "func": "let horaD = flow.get(\"horaD\");\nlet horaH = flow.get(\"horaH\");\nmsg.token = global.get(\"token\");\nmsg.payload = {\n    \"attributes\": [\n        {\n            \"id\": \"Spare\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Minute.1\"\n        },\n        {\n            \"id\": \"Spare2\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Second.0\"\n        },\n\n        {\n            \"id\": \"PumpSpm\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n        {\n            \"id\": \"PumpSpm2\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n         {\n            \"id\": \"PitVolume11\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Volume.Barrel.4\"\n        }\n\n    ],\n    \"fromTime\": horaD,\n    \"toTime\": horaH,\n    \"interval\": 120,\n    \"isDifferential\": true\n}\nlet job = global.get(\"156\");\nmsg.urlWellData = \"https://data.welldata.net/api/v1/jobs/\"+job.jobId+\"/data/time\";\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 280,
        "y": 400,
        "wires": [
            [
                "bc941bb2d64416e5"
            ]
        ]
    },
    {
        "id": "bc941bb2d64416e5",
        "type": "change",
        "z": "6cd83c021871d75e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "urlWellData",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 450,
        "y": 400,
        "wires": [
            [
                "899d0e83cbdc0395"
            ]
        ]
    },
    {
        "id": "7212887cbb12762f",
        "type": "comment",
        "z": "6cd83c021871d75e",
        "name": "DLS-156 - CDR",
        "info": "",
        "x": 100,
        "y": 340,
        "wires": []
    },
    {
        "id": "9961702e40434b7e",
        "type": "inject",
        "z": "6cd83c021871d75e",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 100,
        "y": 400,
        "wires": [
            [
                "a3aecd72b05bdaef"
            ]
        ]
    },
    {
        "id": "649de3dec16932ea",
        "type": "debug",
        "z": "6cd83c021871d75e",
        "name": "debug 156",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 850,
        "y": 480,
        "wires": []
    },
    {
        "id": "5837ccd2cd3b4187",
        "type": "split",
        "z": "6cd83c021871d75e",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1070,
        "y": 400,
        "wires": [
            [
                "649de3dec16932ea"
            ]
        ]
    },
    {
        "id": "f94cb59eaa7b76b4",
        "type": "change",
        "z": "6cd83c021871d75e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.timeRecords",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 860,
        "y": 400,
        "wires": [
            [
                "5837ccd2cd3b4187"
            ]
        ]
    },
    {
        "id": "eff34701fcc48b1a",
        "type": "http request",
        "z": "6cd83c021871d75e",
        "name": "PostInfo160",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "basic",
        "senderr": true,
        "headers": [
            {
                "keyType": "Accept",
                "keyValue": "",
                "valueType": "application/json",
                "valueValue": ""
            },
            {
                "keyType": "other",
                "keyValue": "token",
                "valueType": "msg",
                "valueValue": "token"
            }
        ],
        "x": 630,
        "y": 760,
        "wires": [
            [
                "8facbff2fe5a856e",
                "312b99d917a190f5"
            ]
        ],
        "info": "{\r\n  \"attributes\": [\r\n    {\r\n      \"id\": \"Spare39\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Volume.Cubic meter.0\"\r\n    },\r\n\t{\r\n      \"id\": \"Spare59\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    },\r\n\t{\r\n      \"id\": \"RS-1342177397\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    },\r\n\t{\r\n      \"id\": \"RS-1342177398\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    }\r\n  ],\r\n  \"fromTime\": \"2023-01-05T19:58:35.336Z\",\r\n  \"toTime\": \"2023-01-05T19:58:36.336Z\",\r\n  \"interval\": 1,\r\n  \"isDifferential\": true\r\n}"
    },
    {
        "id": "542e459985ad8690",
        "type": "function",
        "z": "6cd83c021871d75e",
        "name": "parametros 160",
        "func": "let horaD = flow.get(\"horaD\");\nlet horaH = flow.get(\"horaH\");\nmsg.token = global.get(\"token\");\nmsg.payload = {\n    \"attributes\": [\n        {\n            \"id\": \"Spare\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Second.0\"\n        },\n        {\n            \"id\": \"Spare6\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Second.0\"\n        },\n\n        {\n            \"id\": \"PumpSpm\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n        {\n            \"id\": \"PumpSpm2\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n        {\n            \"id\": \"PitVolume11\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Volume.Barrel.4\"\n        }\n\n\n    ],\n    \"fromTime\": horaD,\n    \"toTime\": horaH,\n    \"interval\": 120,\n    \"isDifferential\": true\n}\nlet job = global.get(\"160\");\nmsg.urlWellData = \"https://data.welldata.net/api/v1/jobs/\"+job.jobId+\"/data/time\";\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 260,
        "y": 760,
        "wires": [
            [
                "60a72f4440d46591"
            ]
        ]
    },
    {
        "id": "60a72f4440d46591",
        "type": "change",
        "z": "6cd83c021871d75e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "urlWellData",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 430,
        "y": 760,
        "wires": [
            [
                "eff34701fcc48b1a"
            ]
        ]
    },
    {
        "id": "4f500db617307f73",
        "type": "comment",
        "z": "6cd83c021871d75e",
        "name": "DLS-160- CDR",
        "info": "",
        "x": 100,
        "y": 700,
        "wires": []
    },
    {
        "id": "07475c44d2e70b37",
        "type": "inject",
        "z": "6cd83c021871d75e",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 100,
        "y": 760,
        "wires": [
            [
                "542e459985ad8690"
            ]
        ]
    },
    {
        "id": "312b99d917a190f5",
        "type": "debug",
        "z": "6cd83c021871d75e",
        "name": "debug 160",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 870,
        "y": 840,
        "wires": []
    },
    {
        "id": "dfbf3baa2b2d7566",
        "type": "split",
        "z": "6cd83c021871d75e",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1070,
        "y": 760,
        "wires": [
            [
                "312b99d917a190f5"
            ]
        ]
    },
    {
        "id": "8facbff2fe5a856e",
        "type": "change",
        "z": "6cd83c021871d75e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.timeRecords",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 860,
        "y": 760,
        "wires": [
            [
                "dfbf3baa2b2d7566"
            ]
        ]
    },
    {
        "id": "fe8c3db04b4a4e8b",
        "type": "http request",
        "z": "6cd83c021871d75e",
        "name": "PostInfo001",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "basic",
        "senderr": true,
        "headers": [
            {
                "keyType": "Accept",
                "keyValue": "",
                "valueType": "application/json",
                "valueValue": ""
            },
            {
                "keyType": "other",
                "keyValue": "token",
                "valueType": "msg",
                "valueValue": "token"
            }
        ],
        "x": 690,
        "y": 2600,
        "wires": [
            [
                "c0c875bf6b2dc662",
                "08dadc3779df8fea"
            ]
        ],
        "info": "{\r\n  \"attributes\": [\r\n    {\r\n      \"id\": \"Spare39\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Volume.Cubic meter.0\"\r\n    },\r\n\t{\r\n      \"id\": \"Spare59\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    },\r\n\t{\r\n      \"id\": \"RS-1342177397\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    },\r\n\t{\r\n      \"id\": \"RS-1342177398\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    }\r\n  ],\r\n  \"fromTime\": \"2023-01-05T19:58:35.336Z\",\r\n  \"toTime\": \"2023-01-05T19:58:36.336Z\",\r\n  \"interval\": 1,\r\n  \"isDifferential\": true\r\n}"
    },
    {
        "id": "18711da39fb2cc41",
        "type": "function",
        "z": "6cd83c021871d75e",
        "name": "parametros",
        "func": "let horaD = flow.get(\"horaD\");\nlet horaH = flow.get(\"horaH\");\nmsg.token = global.get(\"token\");\nmsg.payload = {\n    \"attributes\": [\n        {\n            \"id\": \"Spare100\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Volume.Liter.5\"\n        },\n        {\n            \"id\": \"RS-1342177412\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Hour.2\"\n        },\n        {\n            \"id\": \"RS-1342177413\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Hour.2\"\n        },\n        {\n            \"id\": \"RS-1342177414\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Hour.2\"\n        },\n        {\n            \"id\": \"PumpSpm\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n        {\n            \"id\": \"PumpSpm2\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n        {\n            \"id\": \"PumpSpm3\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        }\n    ],\n    \"fromTime\": horaD,\n    \"toTime\": horaH,\n    \"interval\": 120,\n    \"isDifferential\": true\n}\nlet job = global.get(\"PAE001\");\nmsg.urlWellData = \"https://data.welldata.net/api/v1/jobs/\"+job.jobId+\"/data/time\";\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 290,
        "y": 2600,
        "wires": [
            [
                "c1a94caf2c6d9f05"
            ]
        ]
    },
    {
        "id": "c1a94caf2c6d9f05",
        "type": "change",
        "z": "6cd83c021871d75e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "urlWellData",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 490,
        "y": 2600,
        "wires": [
            [
                "fe8c3db04b4a4e8b"
            ]
        ]
    },
    {
        "id": "d2f99ad964bd6625",
        "type": "comment",
        "z": "6cd83c021871d75e",
        "name": "PAE-001",
        "info": "",
        "x": 80,
        "y": 2540,
        "wires": []
    },
    {
        "id": "74da570afb1243eb",
        "type": "inject",
        "z": "6cd83c021871d75e",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 100,
        "y": 2600,
        "wires": [
            [
                "18711da39fb2cc41"
            ]
        ]
    },
    {
        "id": "08dadc3779df8fea",
        "type": "debug",
        "z": "6cd83c021871d75e",
        "name": "debug 001",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 870,
        "y": 2700,
        "wires": []
    },
    {
        "id": "5eb533eecc0adcb2",
        "type": "split",
        "z": "6cd83c021871d75e",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1130,
        "y": 2600,
        "wires": [
            [
                "08dadc3779df8fea"
            ]
        ]
    },
    {
        "id": "c0c875bf6b2dc662",
        "type": "change",
        "z": "6cd83c021871d75e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.timeRecords",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 920,
        "y": 2600,
        "wires": [
            [
                "5eb533eecc0adcb2"
            ]
        ]
    },
    {
        "id": "d7ccefb011c37a2b",
        "type": "http request",
        "z": "6cd83c021871d75e",
        "name": "PostInfo168",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "basic",
        "senderr": true,
        "headers": [
            {
                "keyType": "Accept",
                "keyValue": "",
                "valueType": "application/json",
                "valueValue": ""
            },
            {
                "keyType": "other",
                "keyValue": "token",
                "valueType": "msg",
                "valueValue": "token"
            }
        ],
        "x": 770,
        "y": 1880,
        "wires": [
            [
                "fcb05c57bc3154ea",
                "24de12b8956ecc7f"
            ]
        ],
        "info": "{\r\n  \"attributes\": [\r\n    {\r\n      \"id\": \"Spare39\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Volume.Cubic meter.0\"\r\n    },\r\n\t{\r\n      \"id\": \"Spare59\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    },\r\n\t{\r\n      \"id\": \"RS-1342177397\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    },\r\n\t{\r\n      \"id\": \"RS-1342177398\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    }\r\n  ],\r\n  \"fromTime\": \"2023-01-05T19:58:35.336Z\",\r\n  \"toTime\": \"2023-01-05T19:58:36.336Z\",\r\n  \"interval\": 1,\r\n  \"isDifferential\": true\r\n}"
    },
    {
        "id": "27044c6d4bcea60d",
        "type": "change",
        "z": "6cd83c021871d75e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "urlWellData",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 570,
        "y": 1880,
        "wires": [
            [
                "d7ccefb011c37a2b"
            ]
        ]
    },
    {
        "id": "4741833a67783a67",
        "type": "comment",
        "z": "6cd83c021871d75e",
        "name": "PAE-168",
        "info": "",
        "x": 100,
        "y": 1820,
        "wires": []
    },
    {
        "id": "37982bbfef5ec798",
        "type": "function",
        "z": "6cd83c021871d75e",
        "name": "parametros 168",
        "func": "let horaD = flow.get(\"horaD\");\nlet horaH = flow.get(\"horaH\");\nmsg.token = global.get(\"token\");\nmsg.payload = {\n    \"attributes\": [\n       \n        {\n            \"id\": \"Spare493\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Hour.2\"\n        },\n        {\n            \"id\": \"Spare492\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Hour.2\"\n        },\n        {\n            \"id\": \"Spare491\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Hour.2\"\n        },\n        {\n            \"id\": \"PumpSpm\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n        {\n            \"id\": \"PumpSpm2\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n        {\n            \"id\": \"PumpSpm3\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n        {\n            \"id\": \"Spare5\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Volume.Cubic meter.0\"\n        }\n     \n    ],\n    \"fromTime\": horaD,\n    \"toTime\": horaH,\n    \"interval\": 120,\n    \"isDifferential\": true\n}\nlet job = global.get(\"168\");\nmsg.urlWellData = \"https://data.welldata.net/api/v1/jobs/\"+job.jobId+\"/data/time\";\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 340,
        "y": 1880,
        "wires": [
            [
                "27044c6d4bcea60d"
            ]
        ]
    },
    {
        "id": "b7027d998bb588c6",
        "type": "inject",
        "z": "6cd83c021871d75e",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 120,
        "y": 1880,
        "wires": [
            [
                "37982bbfef5ec798"
            ]
        ]
    },
    {
        "id": "fcb05c57bc3154ea",
        "type": "change",
        "z": "6cd83c021871d75e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.timeRecords",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1000,
        "y": 1880,
        "wires": [
            [
                "5152e6fa242767e8"
            ]
        ]
    },
    {
        "id": "24de12b8956ecc7f",
        "type": "debug",
        "z": "6cd83c021871d75e",
        "name": "debug 168",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1030,
        "y": 1940,
        "wires": []
    },
    {
        "id": "5152e6fa242767e8",
        "type": "split",
        "z": "6cd83c021871d75e",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1230,
        "y": 1880,
        "wires": [
            [
                "24de12b8956ecc7f"
            ]
        ]
    },
    {
        "id": "69c1a9e9831f907c",
        "type": "http request",
        "z": "6cd83c021871d75e",
        "name": "PostInfo166",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "basic",
        "senderr": true,
        "headers": [
            {
                "keyType": "Accept",
                "keyValue": "",
                "valueType": "application/json",
                "valueValue": ""
            },
            {
                "keyType": "other",
                "keyValue": "token",
                "valueType": "msg",
                "valueValue": "token"
            }
        ],
        "x": 690,
        "y": 1520,
        "wires": [
            [
                "51d457a0f8d2503e"
            ]
        ],
        "info": "{\r\n  \"attributes\": [\r\n    {\r\n      \"id\": \"Spare39\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Volume.Cubic meter.0\"\r\n    },\r\n\t{\r\n      \"id\": \"Spare59\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    },\r\n\t{\r\n      \"id\": \"RS-1342177397\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    },\r\n\t{\r\n      \"id\": \"RS-1342177398\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    }\r\n  ],\r\n  \"fromTime\": \"2023-01-05T19:58:35.336Z\",\r\n  \"toTime\": \"2023-01-05T19:58:36.336Z\",\r\n  \"interval\": 1,\r\n  \"isDifferential\": true\r\n}"
    },
    {
        "id": "a7459517a393048c",
        "type": "change",
        "z": "6cd83c021871d75e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "urlWellData",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 490,
        "y": 1520,
        "wires": [
            [
                "69c1a9e9831f907c"
            ]
        ]
    },
    {
        "id": "e06629958490f1e3",
        "type": "comment",
        "z": "6cd83c021871d75e",
        "name": "PAE-166",
        "info": "",
        "x": 60,
        "y": 1460,
        "wires": []
    },
    {
        "id": "f7968205cd8398b7",
        "type": "function",
        "z": "6cd83c021871d75e",
        "name": "parametros 166",
        "func": "let horaD = flow.get(\"horaD\");\nlet horaH = flow.get(\"horaH\");\nmsg.token = global.get(\"token\");\nmsg.payload = {\n    \"attributes\": [\n       \n        {\n            \"id\": \"Spare493\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Hour.2\"\n        },\n        {\n            \"id\": \"Spare492\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Hour.2\"\n        },\n        {\n            \"id\": \"Spare491\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Hour.2\"\n        },\n        {\n            \"id\": \"PumpSpm\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n        {\n            \"id\": \"PumpSpm2\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n        {\n            \"id\": \"PumpSpm3\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n        {\n            \"id\": \"Spare5\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Volume.Cubic meter.0\"\n        }\n     \n    ],\n    \"fromTime\": horaD,\n    \"toTime\": horaH,\n    \"interval\": 120,\n    \"isDifferential\": true\n}\nlet job = global.get(\"166\");\nmsg.urlWellData = \"https://data.welldata.net/api/v1/jobs/\"+job.jobId+\"/data/time\";\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 280,
        "y": 1520,
        "wires": [
            [
                "a7459517a393048c"
            ]
        ]
    },
    {
        "id": "f6a51c0529039dfa",
        "type": "inject",
        "z": "6cd83c021871d75e",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 80,
        "y": 1520,
        "wires": [
            [
                "f7968205cd8398b7"
            ]
        ]
    },
    {
        "id": "51d457a0f8d2503e",
        "type": "change",
        "z": "6cd83c021871d75e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.timeRecords",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 920,
        "y": 1520,
        "wires": [
            [
                "80ac7a389e940d5e"
            ]
        ]
    },
    {
        "id": "96c8755bd22e9e06",
        "type": "debug",
        "z": "6cd83c021871d75e",
        "name": "debug 166",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 930,
        "y": 1600,
        "wires": []
    },
    {
        "id": "80ac7a389e940d5e",
        "type": "split",
        "z": "6cd83c021871d75e",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1110,
        "y": 1520,
        "wires": [
            [
                "96c8755bd22e9e06"
            ]
        ]
    },
    {
        "id": "9152f06298021370",
        "type": "http request",
        "z": "6cd83c021871d75e",
        "name": "PostInfo163",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "basic",
        "senderr": true,
        "headers": [
            {
                "keyType": "Accept",
                "keyValue": "",
                "valueType": "application/json",
                "valueValue": ""
            },
            {
                "keyType": "other",
                "keyValue": "token",
                "valueType": "msg",
                "valueValue": "token"
            }
        ],
        "x": 810,
        "y": 1100,
        "wires": [
            [
                "35689a555b3e3f76",
                "939d734110c135b6"
            ]
        ],
        "info": "{\r\n  \"attributes\": [\r\n    {\r\n      \"id\": \"Spare39\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Volume.Cubic meter.0\"\r\n    },\r\n\t{\r\n      \"id\": \"Spare59\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    },\r\n\t{\r\n      \"id\": \"RS-1342177397\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    },\r\n\t{\r\n      \"id\": \"RS-1342177398\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    }\r\n  ],\r\n  \"fromTime\": \"2023-01-05T19:58:35.336Z\",\r\n  \"toTime\": \"2023-01-05T19:58:36.336Z\",\r\n  \"interval\": 1,\r\n  \"isDifferential\": true\r\n}"
    },
    {
        "id": "789072968634f045",
        "type": "change",
        "z": "6cd83c021871d75e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "urlWellData",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 650,
        "y": 1100,
        "wires": [
            [
                "9152f06298021370"
            ]
        ]
    },
    {
        "id": "0eef78b39b3a19bb",
        "type": "comment",
        "z": "6cd83c021871d75e",
        "name": "PAE-163-falta VF",
        "info": "",
        "x": 100,
        "y": 1080,
        "wires": []
    },
    {
        "id": "8e7ff62be77f60aa",
        "type": "function",
        "z": "6cd83c021871d75e",
        "name": "parametros 163",
        "func": "let horaD = flow.get(\"horaD\");\nlet horaH = flow.get(\"horaH\");\nmsg.token = global.get(\"token\");\nmsg.payload = {\n    \"attributes\": [\n       \n        {\n            \"id\": \"Spare\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Hour.2\"\n        },\n        {\n            \"id\": \"Spare2\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Hour.2\"\n        },\n        {\n            \"id\": \"Spare3\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Hour.2\"\n        },\n        {\n            \"id\": \"PumpSpm\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n        {\n            \"id\": \"PumpSpm2\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n        {\n            \"id\": \"PumpSpm3\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n        {\n            \"id\": \"Spare5\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Length.Meter.0\"\n        }\n     \n    ],\n    \"fromTime\": horaD,\n    \"toTime\": horaH,\n    \"interval\": 120,\n    \"isDifferential\": true\n}\nlet job = global.get(\"163\");\nmsg.urlWellData = \"https://data.welldata.net/api/v1/jobs/\"+job.jobId+\"/data/time\";\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 420,
        "y": 1100,
        "wires": [
            [
                "789072968634f045"
            ]
        ]
    },
    {
        "id": "908156c8a5c4df45",
        "type": "inject",
        "z": "6cd83c021871d75e",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 100,
        "y": 1140,
        "wires": [
            [
                "8e7ff62be77f60aa",
                "cb9f1ab8496a5c91"
            ]
        ]
    },
    {
        "id": "35689a555b3e3f76",
        "type": "change",
        "z": "6cd83c021871d75e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.timeRecords",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1040,
        "y": 1080,
        "wires": [
            [
                "b83e970e58d39898"
            ]
        ]
    },
    {
        "id": "18f974837746ae4c",
        "type": "debug",
        "z": "6cd83c021871d75e",
        "name": "debug 163",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1190,
        "y": 1160,
        "wires": []
    },
    {
        "id": "b83e970e58d39898",
        "type": "split",
        "z": "6cd83c021871d75e",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1230,
        "y": 1080,
        "wires": [
            [
                "18f974837746ae4c"
            ]
        ]
    },
    {
        "id": "6269775e304d3871",
        "type": "http request",
        "z": "6cd83c021871d75e",
        "name": "PostInfo167",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "basic",
        "senderr": true,
        "headers": [
            {
                "keyType": "Accept",
                "keyValue": "",
                "valueType": "application/json",
                "valueValue": ""
            },
            {
                "keyType": "other",
                "keyValue": "token",
                "valueType": "msg",
                "valueValue": "token"
            }
        ],
        "x": 770,
        "y": 1660,
        "wires": [
            [
                "fd96d4906fb00291",
                "dca59592c7635797"
            ]
        ],
        "info": "{\r\n  \"attributes\": [\r\n    {\r\n      \"id\": \"Spare39\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Volume.Cubic meter.0\"\r\n    },\r\n\t{\r\n      \"id\": \"Spare59\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    },\r\n\t{\r\n      \"id\": \"RS-1342177397\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    },\r\n\t{\r\n      \"id\": \"RS-1342177398\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    }\r\n  ],\r\n  \"fromTime\": \"2023-01-05T19:58:35.336Z\",\r\n  \"toTime\": \"2023-01-05T19:58:36.336Z\",\r\n  \"interval\": 1,\r\n  \"isDifferential\": true\r\n}"
    },
    {
        "id": "793a649e4d13d1d4",
        "type": "change",
        "z": "6cd83c021871d75e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "urlWellData",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 550,
        "y": 1660,
        "wires": [
            [
                "6269775e304d3871"
            ]
        ]
    },
    {
        "id": "5e1acd66da00b7a6",
        "type": "comment",
        "z": "6cd83c021871d75e",
        "name": "PAE-167",
        "info": "",
        "x": 80,
        "y": 1600,
        "wires": []
    },
    {
        "id": "2b115b3332c4c35a",
        "type": "function",
        "z": "6cd83c021871d75e",
        "name": "parametros 167",
        "func": "let horaD = flow.get(\"horaD\");\nlet horaH = flow.get(\"horaH\");\nmsg.token = global.get(\"token\");\nmsg.payload = {\n    \"attributes\": [\n       \n        {\n            \"id\": \"Spare493\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Hour.2\"\n        },\n        {\n            \"id\": \"Spare492\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Hour.2\"\n        },\n        {\n            \"id\": \"Spare491\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Hour.2\"\n        },\n        {\n            \"id\": \"PumpSpm\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n        {\n            \"id\": \"PumpSpm2\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n        {\n            \"id\": \"PumpSpm3\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n        {\n            \"id\": \"PitVolume10\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Volume.Cubic meter.0\"\n        }\n     \n    ],\n    \"fromTime\": horaD,\n    \"toTime\": horaH,\n    \"interval\": 120,\n    \"isDifferential\": true\n}\nlet job = global.get(\"167\");\nmsg.urlWellData = \"https://data.welldata.net/api/v1/jobs/\"+job.jobId+\"/data/time\";\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 340,
        "y": 1660,
        "wires": [
            [
                "793a649e4d13d1d4"
            ]
        ]
    },
    {
        "id": "97a80edafc13ccee",
        "type": "inject",
        "z": "6cd83c021871d75e",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 100,
        "y": 1660,
        "wires": [
            [
                "2b115b3332c4c35a"
            ]
        ]
    },
    {
        "id": "fd96d4906fb00291",
        "type": "change",
        "z": "6cd83c021871d75e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.timeRecords",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 980,
        "y": 1660,
        "wires": [
            [
                "701860f4bcf4cb3c"
            ]
        ]
    },
    {
        "id": "dca59592c7635797",
        "type": "debug",
        "z": "6cd83c021871d75e",
        "name": "debug 167",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 970,
        "y": 1760,
        "wires": []
    },
    {
        "id": "701860f4bcf4cb3c",
        "type": "split",
        "z": "6cd83c021871d75e",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1150,
        "y": 1660,
        "wires": [
            [
                "dca59592c7635797"
            ]
        ]
    },
    {
        "id": "164f6a09cdad6816",
        "type": "http request",
        "z": "6cd83c021871d75e",
        "name": "PostInfo169",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "basic",
        "senderr": true,
        "headers": [
            {
                "keyType": "Accept",
                "keyValue": "",
                "valueType": "application/json",
                "valueValue": ""
            },
            {
                "keyType": "other",
                "keyValue": "token",
                "valueType": "msg",
                "valueValue": "token"
            }
        ],
        "x": 630,
        "y": 2020,
        "wires": [
            [
                "3b6115aa6bba41ee",
                "85404f7c4ea8d464"
            ]
        ],
        "info": "{\r\n  \"attributes\": [\r\n    {\r\n      \"id\": \"Spare39\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Volume.Cubic meter.0\"\r\n    },\r\n\t{\r\n      \"id\": \"Spare59\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    },\r\n\t{\r\n      \"id\": \"RS-1342177397\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    },\r\n\t{\r\n      \"id\": \"RS-1342177398\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    }\r\n  ],\r\n  \"fromTime\": \"2023-01-05T19:58:35.336Z\",\r\n  \"toTime\": \"2023-01-05T19:58:36.336Z\",\r\n  \"interval\": 1,\r\n  \"isDifferential\": true\r\n}"
    },
    {
        "id": "4e9a27e3c1c67a89",
        "type": "change",
        "z": "6cd83c021871d75e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "urlWellData",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 450,
        "y": 2020,
        "wires": [
            [
                "164f6a09cdad6816"
            ]
        ]
    },
    {
        "id": "f2c30b47d547e211",
        "type": "comment",
        "z": "6cd83c021871d75e",
        "name": "PAE-169",
        "info": "",
        "x": 80,
        "y": 1960,
        "wires": []
    },
    {
        "id": "3901c1b6ceb433b3",
        "type": "function",
        "z": "6cd83c021871d75e",
        "name": "parametros 169",
        "func": "let horaD = flow.get(\"horaD\");\nlet horaH = flow.get(\"horaH\");\nmsg.token = global.get(\"token\");\nmsg.payload = {\n    \"attributes\": [\n       \n        {\n            \"id\": \"Spare493\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Hour.2\"\n        },\n        {\n            \"id\": \"Spare492\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Hour.2\"\n        },\n        {\n            \"id\": \"Spare491\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Hour.2\"\n        },\n        {\n            \"id\": \"PumpSpm\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n        {\n            \"id\": \"PumpSpm2\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n        {\n            \"id\": \"PumpSpm3\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n        {\n            \"id\": \"Spare3\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Volume.Cubic meter.0\"\n        }\n     \n    ],\n    \"fromTime\": horaD,\n    \"toTime\": horaH,\n    \"interval\": 120,\n    \"isDifferential\": true\n}\nlet job = global.get(\"169\");\nmsg.urlWellData = \"https://data.welldata.net/api/v1/jobs/\"+job.jobId+\"/data/time\";\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 280,
        "y": 2020,
        "wires": [
            [
                "4e9a27e3c1c67a89"
            ]
        ]
    },
    {
        "id": "3ae6b377ecc4a480",
        "type": "inject",
        "z": "6cd83c021871d75e",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 100,
        "y": 2020,
        "wires": [
            [
                "3901c1b6ceb433b3"
            ]
        ]
    },
    {
        "id": "3b6115aa6bba41ee",
        "type": "change",
        "z": "6cd83c021871d75e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.timeRecords",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 860,
        "y": 2020,
        "wires": [
            [
                "5bf339d04cbfc4bf"
            ]
        ]
    },
    {
        "id": "85404f7c4ea8d464",
        "type": "debug",
        "z": "6cd83c021871d75e",
        "name": "debug 169",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 870,
        "y": 2100,
        "wires": []
    },
    {
        "id": "5bf339d04cbfc4bf",
        "type": "split",
        "z": "6cd83c021871d75e",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1070,
        "y": 2020,
        "wires": [
            [
                "85404f7c4ea8d464"
            ]
        ]
    },
    {
        "id": "3fa364e4d12eb0a0",
        "type": "http request",
        "z": "6cd83c021871d75e",
        "name": "PostInfo157",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "basic",
        "senderr": true,
        "headers": [
            {
                "keyType": "Accept",
                "keyValue": "",
                "valueType": "application/json",
                "valueValue": ""
            },
            {
                "keyType": "other",
                "keyValue": "token",
                "valueType": "msg",
                "valueValue": "token"
            }
        ],
        "x": 630,
        "y": 580,
        "wires": [
            [
                "d8e6da1dacfdddaf",
                "f07c616457ba7e27"
            ]
        ],
        "info": "{\r\n  \"attributes\": [\r\n    {\r\n      \"id\": \"Spare39\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Volume.Cubic meter.0\"\r\n    },\r\n\t{\r\n      \"id\": \"Spare59\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    },\r\n\t{\r\n      \"id\": \"RS-1342177397\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    },\r\n\t{\r\n      \"id\": \"RS-1342177398\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    }\r\n  ],\r\n  \"fromTime\": \"2023-01-05T19:58:35.336Z\",\r\n  \"toTime\": \"2023-01-05T19:58:36.336Z\",\r\n  \"interval\": 1,\r\n  \"isDifferential\": true\r\n}"
    },
    {
        "id": "bd3c63a49c46b2d7",
        "type": "change",
        "z": "6cd83c021871d75e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "urlWellData",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 450,
        "y": 580,
        "wires": [
            [
                "3fa364e4d12eb0a0"
            ]
        ]
    },
    {
        "id": "1f134d0018c041fc",
        "type": "comment",
        "z": "6cd83c021871d75e",
        "name": "DLS-157 - CDR",
        "info": "",
        "x": 100,
        "y": 520,
        "wires": []
    },
    {
        "id": "82def13cdd2c989c",
        "type": "inject",
        "z": "6cd83c021871d75e",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 100,
        "y": 580,
        "wires": [
            [
                "b07370f70b921df4"
            ]
        ]
    },
    {
        "id": "f07c616457ba7e27",
        "type": "debug",
        "z": "6cd83c021871d75e",
        "name": "debug 157",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 840,
        "y": 660,
        "wires": []
    },
    {
        "id": "638f68ca09edf1f8",
        "type": "split",
        "z": "6cd83c021871d75e",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1070,
        "y": 580,
        "wires": [
            [
                "f07c616457ba7e27"
            ]
        ]
    },
    {
        "id": "d8e6da1dacfdddaf",
        "type": "change",
        "z": "6cd83c021871d75e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.timeRecords",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 860,
        "y": 580,
        "wires": [
            [
                "638f68ca09edf1f8"
            ]
        ]
    },
    {
        "id": "b07370f70b921df4",
        "type": "function",
        "z": "6cd83c021871d75e",
        "name": "parametros 157",
        "func": "let horaD = flow.get(\"horaD\");\nlet horaH = flow.get(\"horaH\");\nmsg.token = global.get(\"token\");\nmsg.payload = {\n    \"attributes\": [\n        {\n            \"id\": \"Spare\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Second.0\"\n        },\n        {\n            \"id\": \"Spare2\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Second.0\"\n        },\n\n        {\n            \"id\": \"PumpSpm\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n        {\n            \"id\": \"PumpSpm2\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n         {\n            \"id\": \"PitVolume11\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Volume.Barrel.4\"\n        }\n\n    ],\n    \"fromTime\": horaD,\n    \"toTime\": horaH,\n    \"interval\": 1,\n    \"isDifferential\": true\n}\nlet job = global.get(\"157\");\nmsg.urlWellData = \"https://data.welldata.net/api/v1/jobs/\"+job.jobId+\"/data/time\";\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 280,
        "y": 580,
        "wires": [
            [
                "bd3c63a49c46b2d7"
            ]
        ]
    },
    {
        "id": "0e3e43f9c3e2ad5e",
        "type": "http request",
        "z": "6cd83c021871d75e",
        "name": "PostInfo161",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "basic",
        "senderr": true,
        "headers": [
            {
                "keyType": "Accept",
                "keyValue": "",
                "valueType": "application/json",
                "valueValue": ""
            },
            {
                "keyType": "other",
                "keyValue": "token",
                "valueType": "msg",
                "valueValue": "token"
            }
        ],
        "x": 690,
        "y": 960,
        "wires": [
            [
                "3b0e60f7b169d158"
            ]
        ],
        "info": "{\r\n  \"attributes\": [\r\n    {\r\n      \"id\": \"Spare39\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Volume.Cubic meter.0\"\r\n    },\r\n\t{\r\n      \"id\": \"Spare59\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    },\r\n\t{\r\n      \"id\": \"RS-1342177397\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    },\r\n\t{\r\n      \"id\": \"RS-1342177398\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    }\r\n  ],\r\n  \"fromTime\": \"2023-01-05T19:58:35.336Z\",\r\n  \"toTime\": \"2023-01-05T19:58:36.336Z\",\r\n  \"interval\": 1,\r\n  \"isDifferential\": true\r\n}"
    },
    {
        "id": "634a78e18b59aa9b",
        "type": "change",
        "z": "6cd83c021871d75e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "urlWellData",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 490,
        "y": 960,
        "wires": [
            [
                "0e3e43f9c3e2ad5e"
            ]
        ]
    },
    {
        "id": "2d5eeb4c70933714",
        "type": "comment",
        "z": "6cd83c021871d75e",
        "name": "PAE-161-NUEVO",
        "info": "",
        "x": 100,
        "y": 900,
        "wires": []
    },
    {
        "id": "14fa9ab637b5825e",
        "type": "function",
        "z": "6cd83c021871d75e",
        "name": "parametros 161",
        "func": "let horaD = flow.get(\"horaD\");\nlet horaH = flow.get(\"horaH\");\nmsg.token = global.get(\"token\");\nmsg.payload = {\n    \"attributes\": [\n       \n        {\n            \"id\": \"RS-1342177412\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Second.0\"\n        },\n        {\n            \"id\": \"RS-1342177413\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Second.0\"\n        },\n        {\n            \"id\": \"RS-1342177414\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Second.0\"\n        },\n        {\n            \"id\": \"PumpSpm\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n        {\n            \"id\": \"PumpSpm2\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n        {\n            \"id\": \"PumpSpm3\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n        {\n            \"id\": \"Spare79\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Volume.Barrel.4\"\n        }\n     \n    ],\n    \"fromTime\": horaD,\n    \"toTime\": horaH,\n    \"interval\": 120,\n    \"isDifferential\": true\n}\nlet job = global.get(\"161\");\nmsg.urlWellData = \"https://data.welldata.net/api/v1/jobs/\"+job.jobId+\"/data/time\";\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 300,
        "y": 960,
        "wires": [
            [
                "634a78e18b59aa9b"
            ]
        ]
    },
    {
        "id": "3a92c4a796bdeaeb",
        "type": "inject",
        "z": "6cd83c021871d75e",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 100,
        "y": 960,
        "wires": [
            [
                "14fa9ab637b5825e"
            ]
        ]
    },
    {
        "id": "3b0e60f7b169d158",
        "type": "change",
        "z": "6cd83c021871d75e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.timeRecords",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 940,
        "y": 960,
        "wires": [
            [
                "c191bc8bdc90e036"
            ]
        ]
    },
    {
        "id": "d6633afc326d9d8d",
        "type": "debug",
        "z": "6cd83c021871d75e",
        "name": "debug 161",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 910,
        "y": 1040,
        "wires": []
    },
    {
        "id": "c191bc8bdc90e036",
        "type": "split",
        "z": "6cd83c021871d75e",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1150,
        "y": 960,
        "wires": [
            [
                "d6633afc326d9d8d"
            ]
        ]
    },
    {
        "id": "d161ccbd35b55ad1",
        "type": "http request",
        "z": "6cd83c021871d75e",
        "name": "PostInfo165",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "basic",
        "senderr": true,
        "headers": [
            {
                "keyType": "Accept",
                "keyValue": "",
                "valueType": "application/json",
                "valueValue": ""
            },
            {
                "keyType": "other",
                "keyValue": "token",
                "valueType": "msg",
                "valueValue": "token"
            }
        ],
        "x": 670,
        "y": 1320,
        "wires": [
            [
                "5d7bf0aa359ac9e4"
            ]
        ],
        "info": "{\r\n  \"attributes\": [\r\n    {\r\n      \"id\": \"Spare39\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Volume.Cubic meter.0\"\r\n    },\r\n\t{\r\n      \"id\": \"Spare59\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    },\r\n\t{\r\n      \"id\": \"RS-1342177397\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    },\r\n\t{\r\n      \"id\": \"RS-1342177398\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    }\r\n  ],\r\n  \"fromTime\": \"2023-01-05T19:58:35.336Z\",\r\n  \"toTime\": \"2023-01-05T19:58:36.336Z\",\r\n  \"interval\": 1,\r\n  \"isDifferential\": true\r\n}"
    },
    {
        "id": "07a03afa5f17f2c3",
        "type": "change",
        "z": "6cd83c021871d75e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "urlWellData",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 470,
        "y": 1320,
        "wires": [
            [
                "d161ccbd35b55ad1"
            ]
        ]
    },
    {
        "id": "30c4c85193bc5c98",
        "type": "comment",
        "z": "6cd83c021871d75e",
        "name": "PAE-165",
        "info": "",
        "x": 60,
        "y": 1280,
        "wires": []
    },
    {
        "id": "046299a4ae359945",
        "type": "inject",
        "z": "6cd83c021871d75e",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 80,
        "y": 1320,
        "wires": [
            [
                "39227ec7dc986b74"
            ]
        ]
    },
    {
        "id": "5d7bf0aa359ac9e4",
        "type": "change",
        "z": "6cd83c021871d75e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.timeRecords",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 920,
        "y": 1320,
        "wires": [
            [
                "f17382618519bccf"
            ]
        ]
    },
    {
        "id": "ee3cd8ada9e00227",
        "type": "debug",
        "z": "6cd83c021871d75e",
        "name": "debug 165",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 930,
        "y": 1420,
        "wires": []
    },
    {
        "id": "f17382618519bccf",
        "type": "split",
        "z": "6cd83c021871d75e",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1130,
        "y": 1320,
        "wires": [
            [
                "ee3cd8ada9e00227"
            ]
        ]
    },
    {
        "id": "39227ec7dc986b74",
        "type": "function",
        "z": "6cd83c021871d75e",
        "name": "parametros 165",
        "func": "let horaD = flow.get(\"horaD\");\nlet horaH = flow.get(\"horaH\");\nmsg.token = global.get(\"token\");\nmsg.payload = {\n    \"attributes\": [\n        {\n            \"id\": \"Spare39\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Volume.Cubic meter.0\"\n        },\n        {\n            \"id\": \"Spare59\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Hour.2\"\n        },\n        {\n            \"id\": \"RS-1342177397\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Hour.2\"\n        },\n        {\n            \"id\": \"RS-1342177398\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Hour.2\"\n        },\n        {\n            \"id\": \"PumpSpm\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n        {\n            \"id\": \"PumpSpm2\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n        {\n            \"id\": \"PumpSpm3\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        }\n    ],\n    \"fromTime\": horaD,\n    \"toTime\": horaH,\n    \"interval\": 1,\n    \"isDifferential\": true\n}\nlet job = global.get(\"165\");\nmsg.urlWellData = \"https://data.welldata.net/api/v1/jobs/\"+job.jobId+\"/data/time\";\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 280,
        "y": 1320,
        "wires": [
            [
                "07a03afa5f17f2c3"
            ]
        ]
    },
    {
        "id": "b470b65da903df90",
        "type": "http request",
        "z": "6cd83c021871d75e",
        "name": "PostInfo170",
        "method": "POST",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "basic",
        "senderr": true,
        "headers": [
            {
                "keyType": "Accept",
                "keyValue": "",
                "valueType": "application/json",
                "valueValue": ""
            },
            {
                "keyType": "other",
                "keyValue": "token",
                "valueType": "msg",
                "valueValue": "token"
            }
        ],
        "x": 630,
        "y": 2400,
        "wires": [
            [
                "19c9b69f17e94d21",
                "c378a6c14c554a9f"
            ]
        ],
        "info": "{\r\n  \"attributes\": [\r\n    {\r\n      \"id\": \"Spare39\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Volume.Cubic meter.0\"\r\n    },\r\n\t{\r\n      \"id\": \"Spare59\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    },\r\n\t{\r\n      \"id\": \"RS-1342177397\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    },\r\n\t{\r\n      \"id\": \"RS-1342177398\",\r\n      \"mode\": \"Last\",\r\n      \"unitId\": \"Time.Hour.2\"\r\n    }\r\n  ],\r\n  \"fromTime\": \"2023-01-05T19:58:35.336Z\",\r\n  \"toTime\": \"2023-01-05T19:58:36.336Z\",\r\n  \"interval\": 1,\r\n  \"isDifferential\": true\r\n}"
    },
    {
        "id": "773d6d345970f20d",
        "type": "change",
        "z": "6cd83c021871d75e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "url",
                "pt": "msg",
                "to": "urlWellData",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 470,
        "y": 2400,
        "wires": [
            [
                "b470b65da903df90"
            ]
        ]
    },
    {
        "id": "88ddbd61e1a9f4ee",
        "type": "comment",
        "z": "6cd83c021871d75e",
        "name": "DLS-174- CDR-NUEVO",
        "info": "",
        "x": 120,
        "y": 2360,
        "wires": []
    },
    {
        "id": "c378a6c14c554a9f",
        "type": "debug",
        "z": "6cd83c021871d75e",
        "name": "debug 174",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 830,
        "y": 2480,
        "wires": []
    },
    {
        "id": "e3db15f811840ce6",
        "type": "inject",
        "z": "6cd83c021871d75e",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 100,
        "y": 2400,
        "wires": [
            [
                "0eab885acf182f23"
            ]
        ]
    },
    {
        "id": "c7c13e167f46a4e2",
        "type": "split",
        "z": "6cd83c021871d75e",
        "name": "",
        "splt": "\\n",
        "spltType": "str",
        "arraySplt": 1,
        "arraySpltType": "len",
        "stream": false,
        "addname": "",
        "x": 1070,
        "y": 2400,
        "wires": [
            [
                "c378a6c14c554a9f"
            ]
        ]
    },
    {
        "id": "19c9b69f17e94d21",
        "type": "change",
        "z": "6cd83c021871d75e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.timeRecords",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 840,
        "y": 2400,
        "wires": [
            [
                "c7c13e167f46a4e2"
            ]
        ]
    },
    {
        "id": "0eab885acf182f23",
        "type": "function",
        "z": "6cd83c021871d75e",
        "name": "parametros 174",
        "func": "let horaD = flow.get(\"horaD\");\nlet horaH = flow.get(\"horaH\");\nmsg.token = global.get(\"token\");\nmsg.payload = {\n    \"attributes\": [\n        {\n            \"id\": \"Spare\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Minute.1\"\n        },\n        {\n            \"id\": \"Spare2\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Minute.1\"\n        },\n        {\n            \"id\": \"Spare3\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Time.Second.0\"\n        },\n\n        {\n            \"id\": \"PumpSpm\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n        {\n            \"id\": \"PumpSpm2\",\n            \"mode\": \"Last\",\n            \"unitId\": \"CountRate.Strokes per minute.1\"\n        },\n         {\n            \"id\": \"PitVolume11\",\n            \"mode\": \"Last\",\n            \"unitId\": \"Volume.Barrel.4\"\n        }\n\n    ],\n    \"fromTime\": horaD,\n    \"toTime\": horaH,\n    \"interval\": 1,\n    \"isDifferential\": true\n}\nlet job = global.get(\"174\");\nmsg.urlWellData = \"https://data.welldata.net/api/v1/jobs/\"+job.jobId+\"/data/time\";\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 280,
        "y": 2400,
        "wires": [
            [
                "773d6d345970f20d"
            ]
        ]
    },
    {
        "id": "cb9f1ab8496a5c91",
        "type": "function",
        "z": "6cd83c021871d75e",
        "name": "buscaVfBomba",
        "func": "msg.payload = \"BEGIN SELECT * FROM [perforador].[dbo].[vfBomba]; END\";\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 200,
        "y": 1220,
        "wires": [
            [
                "eaa3de45702c5f2a"
            ]
        ]
    },
    {
        "id": "eaa3de45702c5f2a",
        "type": "MSSQL",
        "z": "6cd83c021871d75e",
        "mssqlCN": "af3a3f5145cd0651",
        "name": "",
        "outField": "payload",
        "returnType": 0,
        "throwErrors": 1,
        "query": "",
        "modeOpt": "queryMode",
        "modeOptType": "query",
        "queryOpt": "payload",
        "queryOptType": "editor",
        "paramsOpt": "queryParams",
        "paramsOptType": "none",
        "rows": "rows",
        "rowsType": "msg",
        "parseMustache": true,
        "params": [],
        "x": 400,
        "y": 1220,
        "wires": [
            [
                "7a1879d18b2f6651",
                "f7fbf03592fd3856"
            ]
        ]
    },
    {
        "id": "7a1879d18b2f6651",
        "type": "function",
        "z": "6cd83c021871d75e",
        "name": "SetDatosVfBomba",
        "func": "let data = msg.payload;\nlet vf1 = data[0].vf1;\nlet vf2 = data[0].vf2;\n\n    let vfBomba = {\n        \"vf1\": data[0].vf1,\n        \"vf2\": vf2,\n     \n    };\n    flow.set(\"vfBomba\", vfBomba);\nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 650,
        "y": 1180,
        "wires": [
            []
        ]
    },
    {
        "id": "939d734110c135b6",
        "type": "function",
        "z": "6cd83c021871d75e",
        "name": "CalculaLts",
        "func": "let data = msg.payload.timeRecords[0].values;\nlet ltsm = data[6][1];\nltsm=ltsm*100;\nlet lts=0;\n\n\ntry {\n     ltsm=ltsm*100;\n    lts = -0.0036 * (ltsm * ltsm * ltsm) + 1.5243 * (ltsm * ltsm) + 126.45 * ltsm - 831.61;\n    lts=lts.toFixed(0);\n;\n} catch { lts=0}\nmsg.payload=lts;\nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 910,
        "y": 1180,
        "wires": [
            [
                "767a22b6bf660e1c"
            ]
        ]
    },
    {
        "id": "767a22b6bf660e1c",
        "type": "debug",
        "z": "6cd83c021871d75e",
        "name": "debug calculaLTs165",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1140,
        "y": 1220,
        "wires": []
    },
    {
        "id": "f7fbf03592fd3856",
        "type": "debug",
        "z": "6cd83c021871d75e",
        "name": "debug buscaVFS",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 630,
        "y": 1260,
        "wires": []
    },
    {
        "id": "2682c96d5230b01f",
        "type": "inject",
        "z": "42140d31b965bd51",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 120,
        "y": 120,
        "wires": [
            [
                "43fe724e05fc7f63"
            ]
        ]
    },
    {
        "id": "72b214338dc59702",
        "type": "http request",
        "z": "42140d31b965bd51",
        "name": "",
        "method": "GET",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "https://data.welldata.net/api/v1/jobs/net_193799/attributes",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [
            {
                "keyType": "Accept",
                "keyValue": "",
                "valueType": "text/plain",
                "valueValue": ""
            },
            {
                "keyType": "other",
                "keyValue": "token",
                "valueType": "msg",
                "valueValue": "token"
            }
        ],
        "x": 510,
        "y": 120,
        "wires": [
            [
                "34efe48ac396679d"
            ]
        ]
    },
    {
        "id": "43fe724e05fc7f63",
        "type": "change",
        "z": "42140d31b965bd51",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "token",
                "pt": "msg",
                "to": "token",
                "tot": "global"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 300,
        "y": 120,
        "wires": [
            [
                "72b214338dc59702"
            ]
        ]
    },
    {
        "id": "34efe48ac396679d",
        "type": "file",
        "z": "42140d31b965bd51",
        "name": "",
        "filename": "C:\\Users\\dmaguire\\Documentos\\API.txt",
        "filenameType": "str",
        "appendNewline": true,
        "createDir": true,
        "overwriteFile": "false",
        "encoding": "none",
        "x": 780,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "70098209bed8b4f4",
        "type": "comment",
        "z": "42140d31b965bd51",
        "name": "Obtiene Canales",
        "info": "CAmbiar el net_id en la URL de consulta. Los guarda en el C:\\",
        "x": 120,
        "y": 60,
        "wires": []
    }
]